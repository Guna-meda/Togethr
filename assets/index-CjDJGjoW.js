(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function HA(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var mm={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function FA(){if(Av)return Vl;Av=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var Sv;function GA(){return Sv||(Sv=1,mm.exports=FA()),mm.exports}var N=GA(),pm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rv;function KA(){if(Rv)return Re;Rv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function A(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,$={};function j(D,ie,oe){this.props=D,this.context=ie,this.refs=$,this.updater=oe||O}j.prototype.isReactComponent={},j.prototype.setState=function(D,ie){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ie,"setState")},j.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Q(){}Q.prototype=j.prototype;function Z(D,ie,oe){this.props=D,this.context=ie,this.refs=$,this.updater=oe||O}var ne=Z.prototype=new Q;ne.constructor=Z,x(ne,j.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},Se=Object.prototype.hasOwnProperty;function V(D,ie,oe,re,ge,xe){return oe=xe.ref,{$$typeof:i,type:D,key:ie,ref:oe!==void 0?oe:null,props:xe}}function S(D,ie){return V(D.type,ie,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function M(D){var ie={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(oe){return ie[oe]})}var P=/\/+/g;function L(D,ie){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):ie.toString(36)}function C(){}function Vt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ie){D.status==="pending"&&(D.status="fulfilled",D.value=ie)},function(ie){D.status==="pending"&&(D.status="rejected",D.reason=ie)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function at(D,ie,oe,re,ge){var xe=typeof D;(xe==="undefined"||xe==="boolean")&&(D=null);var be=!1;if(D===null)be=!0;else switch(xe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(D.$$typeof){case i:case e:be=!0;break;case E:return be=D._init,at(be(D._payload),ie,oe,re,ge)}}if(be)return ge=ge(D),be=re===""?"."+L(D,0):re,fe(ge)?(oe="",be!=null&&(oe=be.replace(P,"$&/")+"/"),at(ge,ie,oe,"",function(Xn){return Xn})):ge!=null&&(R(ge)&&(ge=S(ge,oe+(ge.key==null||D&&D.key===ge.key?"":(""+ge.key).replace(P,"$&/")+"/")+be)),ie.push(ge)),1;be=0;var Ct=re===""?".":re+":";if(fe(D))for(var Ze=0;Ze<D.length;Ze++)re=D[Ze],xe=Ct+L(re,Ze),be+=at(re,ie,oe,xe,ge);else if(Ze=A(D),typeof Ze=="function")for(D=Ze.call(D),Ze=0;!(re=D.next()).done;)re=re.value,xe=Ct+L(re,Ze++),be+=at(re,ie,oe,xe,ge);else if(xe==="object"){if(typeof D.then=="function")return at(Vt(D),ie,oe,re,ge);throw ie=String(D),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return be}function Y(D,ie,oe){if(D==null)return D;var re=[],ge=0;return at(D,re,"","",function(xe){return ie.call(oe,xe,ge++)}),re}function ae(D){if(D._status===-1){var ie=D._result;ie=ie(),ie.then(function(oe){(D._status===0||D._status===-1)&&(D._status=1,D._result=oe)},function(oe){(D._status===0||D._status===-1)&&(D._status=2,D._result=oe)}),D._status===-1&&(D._status=0,D._result=ie)}if(D._status===1)return D._result.default;throw D._result}var me=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function ze(){}return Re.Children={map:Y,forEach:function(D,ie,oe){Y(D,function(){ie.apply(this,arguments)},oe)},count:function(D){var ie=0;return Y(D,function(){ie++}),ie},toArray:function(D){return Y(D,function(ie){return ie})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Re.Component=j,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=Z,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Re.__COMPILER_RUNTIME={__proto__:null,c:function(D){return he.H.useMemoCache(D)}},Re.cache=function(D){return function(){return D.apply(null,arguments)}},Re.cloneElement=function(D,ie,oe){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=x({},D.props),ge=D.key,xe=void 0;if(ie!=null)for(be in ie.ref!==void 0&&(xe=void 0),ie.key!==void 0&&(ge=""+ie.key),ie)!Se.call(ie,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ie.ref===void 0||(re[be]=ie[be]);var be=arguments.length-2;if(be===1)re.children=oe;else if(1<be){for(var Ct=Array(be),Ze=0;Ze<be;Ze++)Ct[Ze]=arguments[Ze+2];re.children=Ct}return V(D.type,ge,void 0,void 0,xe,re)},Re.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Re.createElement=function(D,ie,oe){var re,ge={},xe=null;if(ie!=null)for(re in ie.key!==void 0&&(xe=""+ie.key),ie)Se.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ge[re]=ie[re]);var be=arguments.length-2;if(be===1)ge.children=oe;else if(1<be){for(var Ct=Array(be),Ze=0;Ze<be;Ze++)Ct[Ze]=arguments[Ze+2];ge.children=Ct}if(D&&D.defaultProps)for(re in be=D.defaultProps,be)ge[re]===void 0&&(ge[re]=be[re]);return V(D,xe,void 0,void 0,null,ge)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(D){return{$$typeof:m,render:D}},Re.isValidElement=R,Re.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ae}},Re.memo=function(D,ie){return{$$typeof:g,type:D,compare:ie===void 0?null:ie}},Re.startTransition=function(D){var ie=he.T,oe={};he.T=oe;try{var re=D(),ge=he.S;ge!==null&&ge(oe,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(ze,me)}catch(xe){me(xe)}finally{he.T=ie}},Re.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Re.use=function(D){return he.H.use(D)},Re.useActionState=function(D,ie,oe){return he.H.useActionState(D,ie,oe)},Re.useCallback=function(D,ie){return he.H.useCallback(D,ie)},Re.useContext=function(D){return he.H.useContext(D)},Re.useDebugValue=function(){},Re.useDeferredValue=function(D,ie){return he.H.useDeferredValue(D,ie)},Re.useEffect=function(D,ie,oe){var re=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(D,ie)},Re.useId=function(){return he.H.useId()},Re.useImperativeHandle=function(D,ie,oe){return he.H.useImperativeHandle(D,ie,oe)},Re.useInsertionEffect=function(D,ie){return he.H.useInsertionEffect(D,ie)},Re.useLayoutEffect=function(D,ie){return he.H.useLayoutEffect(D,ie)},Re.useMemo=function(D,ie){return he.H.useMemo(D,ie)},Re.useOptimistic=function(D,ie){return he.H.useOptimistic(D,ie)},Re.useReducer=function(D,ie,oe){return he.H.useReducer(D,ie,oe)},Re.useRef=function(D){return he.H.useRef(D)},Re.useState=function(D){return he.H.useState(D)},Re.useSyncExternalStore=function(D,ie,oe){return he.H.useSyncExternalStore(D,ie,oe)},Re.useTransition=function(){return he.H.useTransition()},Re.version="19.1.0",Re}var Iv;function hp(){return Iv||(Iv=1,pm.exports=KA()),pm.exports}var z=hp();const Cv=HA(z);var gm={exports:{}},Pl={},ym={exports:{}},_m={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xv;function QA(){return xv||(xv=1,function(i){function e(Y,ae){var me=Y.length;Y.push(ae);e:for(;0<me;){var ze=me-1>>>1,D=Y[ze];if(0<o(D,ae))Y[ze]=ae,Y[me]=D,me=ze;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var ae=Y[0],me=Y.pop();if(me!==ae){Y[0]=me;e:for(var ze=0,D=Y.length,ie=D>>>1;ze<ie;){var oe=2*(ze+1)-1,re=Y[oe],ge=oe+1,xe=Y[ge];if(0>o(re,me))ge<D&&0>o(xe,re)?(Y[ze]=xe,Y[ge]=me,ze=ge):(Y[ze]=re,Y[oe]=me,ze=oe);else if(ge<D&&0>o(xe,me))Y[ze]=xe,Y[ge]=me,ze=ge;else break e}}return ae}function o(Y,ae){var me=Y.sortIndex-ae.sortIndex;return me!==0?me:Y.id-ae.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,w=null,A=3,O=!1,x=!1,$=!1,j=!1,Q=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(Y){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Y)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function he(Y){if($=!1,fe(Y),!x)if(n(p)!==null)x=!0,Se||(Se=!0,L());else{var ae=n(g);ae!==null&&at(he,ae.startTime-Y)}}var Se=!1,V=-1,S=5,R=-1;function M(){return j?!0:!(i.unstable_now()-R<S)}function P(){if(j=!1,Se){var Y=i.unstable_now();R=Y;var ae=!0;try{e:{x=!1,$&&($=!1,Z(V),V=-1),O=!0;var me=A;try{t:{for(fe(Y),w=n(p);w!==null&&!(w.expirationTime>Y&&M());){var ze=w.callback;if(typeof ze=="function"){w.callback=null,A=w.priorityLevel;var D=ze(w.expirationTime<=Y);if(Y=i.unstable_now(),typeof D=="function"){w.callback=D,fe(Y),ae=!0;break t}w===n(p)&&s(p),fe(Y)}else s(p);w=n(p)}if(w!==null)ae=!0;else{var ie=n(g);ie!==null&&at(he,ie.startTime-Y),ae=!1}}break e}finally{w=null,A=me,O=!1}ae=void 0}}finally{ae?L():Se=!1}}}var L;if(typeof ne=="function")L=function(){ne(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=P,L=function(){Vt.postMessage(null)}}else L=function(){Q(P,0)};function at(Y,ae){V=Q(function(){Y(i.unstable_now())},ae)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ae=3;break;default:ae=A}var me=A;A=ae;try{return Y()}finally{A=me}},i.unstable_requestPaint=function(){j=!0},i.unstable_runWithPriority=function(Y,ae){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return ae()}finally{A=me}},i.unstable_scheduleCallback=function(Y,ae,me){var ze=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?ze+me:ze):me=ze,Y){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=me+D,Y={id:E++,callback:ae,priorityLevel:Y,startTime:me,expirationTime:D,sortIndex:-1},me>ze?(Y.sortIndex=me,e(g,Y),n(p)===null&&Y===n(g)&&($?(Z(V),V=-1):$=!0,at(he,me-ze))):(Y.sortIndex=D,e(p,Y),x||O||(x=!0,Se||(Se=!0,L()))),Y},i.unstable_shouldYield=M,i.unstable_wrapCallback=function(Y){var ae=A;return function(){var me=A;A=ae;try{return Y.apply(this,arguments)}finally{A=me}}}}(_m)),_m}var Nv;function $A(){return Nv||(Nv=1,ym.exports=QA()),ym.exports}var vm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function YA(){if(Dv)return Qt;Dv=1;var i=hp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:p,containerInfo:g,implementation:E}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:w,integrity:A,fetchPriority:O}):E==="script"&&s.d.X(p,{crossOrigin:w,integrity:A,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,w=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:w,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var Ov;function XA(){if(Ov)return vm.exports;Ov=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),vm.exports=YA(),vm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function WA(){if(Mv)return Pl;Mv=1;var i=$A(),e=hp(),n=XA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),j=Symbol.for("react.profiler"),Q=Symbol.for("react.provider"),Z=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),Se=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case j:return"Profiler";case $:return"StrictMode";case he:return"Suspense";case Se:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case O:return"Portal";case ne:return(t.displayName||"Context")+".Provider";case Z:return(t._context.displayName||"Context")+".Consumer";case fe:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:Vt(t.type)||"Memo";case S:r=t._payload,t=t._init;try{return Vt(t(r))}catch{}}return null}var at=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},ze=[],D=-1;function ie(t){return{current:t}}function oe(t){0>D||(t.current=ze[D],ze[D]=null,D--)}function re(t,r){D++,ze[D]=t.current,t.current=r}var ge=ie(null),xe=ie(null),be=ie(null),Ct=ie(null);function Ze(t,r){switch(re(be,r),re(xe,t),re(ge,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?Z_(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=Z_(r),t=J_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(ge),re(ge,t)}function Xn(){oe(ge),oe(xe),oe(be)}function ur(t){t.memoizedState!==null&&re(Ct,t);var r=ge.current,a=J_(r,t.type);r!==a&&(re(xe,t),re(ge,a))}function bi(t){xe.current===t&&(oe(ge),oe(xe)),Ct.current===t&&(oe(Ct),Nl._currentValue=me)}var us=Object.prototype.hasOwnProperty,cs=i.unstable_scheduleCallback,hs=i.unstable_cancelCallback,Io=i.unstable_shouldYield,Tu=i.unstable_requestPaint,wn=i.unstable_now,mf=i.unstable_getCurrentPriorityLevel,Co=i.unstable_ImmediatePriority,sa=i.unstable_UserBlockingPriority,fs=i.unstable_NormalPriority,pf=i.unstable_LowPriority,aa=i.unstable_IdlePriority,xo=i.log,bu=i.unstable_setDisableYieldValue,ot=null,Fe=null;function dn(t){if(typeof xo=="function"&&bu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:ds,wu=Math.log,gf=Math.LN2;function ds(t){return t>>>=0,t===0?32:31-(wu(t)/gf|0)|0}var ms=256,ps=4194304;function zn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function oa(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=zn(l):(v&=T,v!==0?h=zn(v):a||(a=T&~t,a!==0&&(h=zn(a))))):(T=l&~d,T!==0?h=zn(T):v!==0?h=zn(v):a||(a=l&~t,a!==0&&(h=zn(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function gs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function No(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var t=ms;return ms<<=1,(ms&4194048)===0&&(ms=256),t}function Oo(){var t=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),t}function wi(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function Ai(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Mo(t,r,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,H=t.hiddenUpdates;for(a=v&~a;0<a;){var X=31-Gt(a),J=1<<X;T[X]=0,I[X]=-1;var F=H[X];if(F!==null)for(H[X]=null,X=0;X<F.length;X++){var G=F[X];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&Wn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~r))}function Wn(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Gt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function ko(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function cr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function la(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function hr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:_v(t.type))}function Au(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var tt=Math.random().toString(36).slice(2),Tt="__reactFiber$"+tt,mt="__reactProps$"+tt,An="__reactContainer$"+tt,Vo="__reactEvents$"+tt,yf="__reactListeners$"+tt,fr="__reactHandles$"+tt,Su="__reactResources$"+tt,ys="__reactMarker$"+tt;function dr(t){delete t[Tt],delete t[mt],delete t[Vo],delete t[yf],delete t[fr]}function Si(t){var r=t[Tt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[An]||a[Tt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=iv(t);t!==null;){if(a=t[Tt])return a;t=iv(t)}return r}t=a,a=t.parentNode}return null}function Zn(t){if(t=t[Tt]||t[An]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function Jn(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function en(t){var r=t[Su];return r||(r=t[Su]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ct(t){t[ys]=!0}var Po=new Set,ua={};function Bn(t,r){Ri(t,r),Ri(t+"Capture",r)}function Ri(t,r){for(ua[t]=r,t=0;t<r.length;t++)Po.add(r[t])}var Ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Iu={},_s={};function Cu(t){return us.call(_s,t)?!0:us.call(Iu,t)?!1:Ru.test(t)?_s[t]=!0:(Iu[t]=!0,!1)}function mr(t,r,a){if(Cu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ei(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Pt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var vs,xu;function Ii(t){if(vs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);vs=r&&r[1]||"",xu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+t+xu}var ca=!1;function ha(t,r){if(!t||ca)return"";ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(t,[],J)}else{try{J.call()}catch(G){F=G}t.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),H=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===H.length)for(l=I.length-1,h=H.length-1;1<=l&&0<=h&&I[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==H[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ii(a):""}function Uo(t){switch(t.tag){case 26:case 27:case 5:return Ii(t.type);case 16:return Ii("Lazy");case 13:return Ii("Suspense");case 19:return Ii("SuspenseList");case 0:case 15:return ha(t.type,!1);case 11:return ha(t.type.render,!1);case 1:return ha(t.type,!0);case 31:return Ii("Activity");default:return""}}function fa(t){try{var r="";do r+=Uo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function tn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _f(t){var r=Lo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function da(t){t._valueTracker||(t._valueTracker=_f(t))}function jo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Lo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Es(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var vf=/[\n"\\]/g;function pt(t){return t.replace(vf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function mn(t,r,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),r!=null?v==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+tn(r)):t.value!==""+tn(r)&&(t.value=""+tn(r)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),r!=null?pr(t,v,tn(r)):a!=null?pr(t,v,tn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+tn(T):t.removeAttribute("name")}function Ts(t,r,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+tn(a):"",r=r!=null?""+tn(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function pr(t,r,a){r==="number"&&Es(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ci(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+tn(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Qe(t,r,a){if(r!=null&&(r=""+tn(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+tn(a):""}function bs(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=tn(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Sn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||ws.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function zo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Nu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Nu(t,d,r[d])}function Bo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ef=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Tf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ma(t){return Tf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var xi=null;function Rn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ni=null,Di=null;function qo(t){var r=Zn(t);if(r&&(t=r.stateNode)){var a=t[mt]||null;e:switch(t=r.stateNode,r.type){case"input":if(mn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));mn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&jo(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ci(t,!!a.multiple,r,!1)}}}var ti=!1;function Du(t,r,a){if(ti)return t(r,a);ti=!0;try{var l=t(r);return l}finally{if(ti=!1,(Ni!==null||Di!==null)&&(Ac(),Ni&&(r=Ni,t=Di,Di=Ni=null,qo(r),t)))for(r=0;r<t.length;r++)qo(t[r])}}function As(t,r){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),In=!1;if(qn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){In=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{In=!1}var ni=null,gr=null,Oi=null;function Ho(){if(Oi)return Oi;var t,r=gr,a=r.length,l,h="value"in ni?ni.value:ni.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&r[a-l]===h[d-l];l++);return Oi=h.slice(t,1<l?1-l:void 0)}function ii(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ri(){return!0}function Fo(){return!1}function xt(t){function r(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ri:Fo,this.isPropagationStopped=Fo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ri)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ri)},persist:function(){},isPersistent:ri}),r}var qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pa=xt(qe),Rs=E({},qe,{view:0,detail:0}),Ou=xt(Rs),ga,ya,si,Is=E({},Rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==si&&(si&&t.type==="mousemove"?(ga=t.screenX-si.screenX,ya=t.screenY-si.screenY):ya=ga=0,si=t),ga)},movementY:function(t){return"movementY"in t?t.movementY:ya}}),Cn=xt(Is),Mu=E({},Is,{dataTransfer:0}),bf=xt(Mu),Cs=E({},Rs,{relatedTarget:0}),_a=xt(Cs),Go=E({},qe,{animationName:0,elapsedTime:0,pseudoElement:0}),va=xt(Go),ku=E({},qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ea=xt(ku),wf=E({},qe,{data:0}),Ko=xt(wf),xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Pu[t])?!!r[t]:!1}function Ns(){return Qo}var Uu=E({},Rs,{key:function(t){if(t.key){var r=xs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ii(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Vu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(t){return t.type==="keypress"?ii(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ii(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ta=xt(Uu),Lu=E({},Is,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=xt(Lu),Mi=E({},Rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),ju=xt(Mi),zu=E({},qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=xt(zu),qu=E({},Is,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=xt(qu),nn=E({},qe,{newState:0,oldState:0}),Hu=xt(nn),Fu=[9,13,27,32],ai=qn&&"CompositionEvent"in window,c=null;qn&&"documentMode"in document&&(c=document.documentMode);var y=qn&&"TextEvent"in window&&!c,_=qn&&(!ai||c&&8<c&&11>=c),b=" ",B=!1;function K(t,r){switch(t){case"keyup":return Fu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function bt(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(B=!0,b);case"textInput":return t=r.data,t===b&&B?null:t;default:return null}}function Pe(t,r){if(Ve)return t==="compositionend"||!ai&&K(t,r)?(t=Ho(),Oi=gr=ni=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Nt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Nt[t.type]:r==="textarea"}function ki(t,r,a,l){Ni?Di?Di.push(l):Di=[l]:Ni=l,r=Nc(r,"onChange"),0<r.length&&(a=new pa("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ut=null,oi=null;function Yo(t){Q_(t,0)}function Gu(t){var r=Jn(t);if(jo(r))return t}function mg(t,r){if(t==="change")return r}var pg=!1;if(qn){var Af;if(qn){var Sf="oninput"in document;if(!Sf){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),Sf=typeof gg.oninput=="function"}Af=Sf}else Af=!1;pg=Af&&(!document.documentMode||9<document.documentMode)}function yg(){Ut&&(Ut.detachEvent("onpropertychange",_g),oi=Ut=null)}function _g(t){if(t.propertyName==="value"&&Gu(oi)){var r=[];ki(r,oi,t,Rn(t)),Du(Yo,r)}}function vw(t,r,a){t==="focusin"?(yg(),Ut=r,oi=a,Ut.attachEvent("onpropertychange",_g)):t==="focusout"&&yg()}function Ew(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gu(oi)}function Tw(t,r){if(t==="click")return Gu(r)}function bw(t,r){if(t==="input"||t==="change")return Gu(r)}function ww(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var pn=typeof Object.is=="function"?Object.is:ww;function Xo(t,r){if(pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!us.call(r,h)||!pn(t[h],r[h]))return!1}return!0}function vg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,r){var a=vg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Tg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Tg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function bg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Es(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Es(t.document)}return r}function Rf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Aw=qn&&"documentMode"in document&&11>=document.documentMode,wa=null,If=null,Wo=null,Cf=!1;function wg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Cf||wa==null||wa!==Es(l)||(l=wa,"selectionStart"in l&&Rf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Wo&&Xo(Wo,l)||(Wo=l,l=Nc(If,"onSelect"),0<l.length&&(r=new pa("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=wa)))}function Ds(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Ds("Animation","AnimationEnd"),animationiteration:Ds("Animation","AnimationIteration"),animationstart:Ds("Animation","AnimationStart"),transitionrun:Ds("Transition","TransitionRun"),transitionstart:Ds("Transition","TransitionStart"),transitioncancel:Ds("Transition","TransitionCancel"),transitionend:Ds("Transition","TransitionEnd")},xf={},Ag={};qn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Os(t){if(xf[t])return xf[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ag)return xf[t]=r[a];return t}var Sg=Os("animationend"),Rg=Os("animationiteration"),Ig=Os("animationstart"),Sw=Os("transitionrun"),Rw=Os("transitionstart"),Iw=Os("transitioncancel"),Cg=Os("transitionend"),xg=new Map,Nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nf.push("scrollEnd");function Hn(t,r){xg.set(t,r),Bn(r,[t])}var Ng=new WeakMap;function xn(t,r){if(typeof t=="object"&&t!==null){var a=Ng.get(t);return a!==void 0?a:(r={value:t,source:r,stack:fa(r)},Ng.set(t,r),r)}return{value:t,source:r,stack:fa(r)}}var Nn=[],Sa=0,Df=0;function Ku(){for(var t=Sa,r=Df=Sa=0;r<t;){var a=Nn[r];Nn[r++]=null;var l=Nn[r];Nn[r++]=null;var h=Nn[r];Nn[r++]=null;var d=Nn[r];if(Nn[r++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Qu(t,r,a,l){Nn[Sa++]=t,Nn[Sa++]=r,Nn[Sa++]=a,Nn[Sa++]=l,Df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Of(t,r,a,l){return Qu(t,r,a,l),$u(t)}function Ra(t,r){return Qu(t,null,null,r),$u(t)}function Dg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function $u(t){if(50<bl)throw bl=0,Ld=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ia={};function Cw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,r,a,l){return new Cw(t,r,a,l)}function Mf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Vi(t,r){var a=t.alternate;return a===null?(a=gn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Yu(t,r,a,l,h,d){var v=0;if(l=t,typeof t=="function")Mf(t)&&(v=1);else if(typeof t=="string")v=NA(t,a,ge.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=gn(31,a,r,h),t.elementType=R,t.lanes=d,t;case x:return Ms(a.children,h,d,r);case $:v=8,h|=24;break;case j:return t=gn(12,a,r,h|2),t.elementType=j,t.lanes=d,t;case he:return t=gn(13,a,r,h),t.elementType=he,t.lanes=d,t;case Se:return t=gn(19,a,r,h),t.elementType=Se,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Q:case ne:v=10;break e;case Z:v=9;break e;case fe:v=11;break e;case V:v=14;break e;case S:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=gn(v,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function Ms(t,r,a,l){return t=gn(7,t,l,r),t.lanes=a,t}function kf(t,r,a){return t=gn(6,t,null,r),t.lanes=a,t}function Vf(t,r,a){return r=gn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ca=[],xa=0,Xu=null,Wu=0,Dn=[],On=0,ks=null,Pi=1,Ui="";function Vs(t,r){Ca[xa++]=Wu,Ca[xa++]=Xu,Xu=t,Wu=r}function Mg(t,r,a){Dn[On++]=Pi,Dn[On++]=Ui,Dn[On++]=ks,ks=t;var l=Pi;t=Ui;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(r)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-Gt(r)+h|a<<h|l,Ui=d+t}else Pi=1<<d|a<<h|l,Ui=t}function Pf(t){t.return!==null&&(Vs(t,1),Mg(t,1,0))}function Uf(t){for(;t===Xu;)Xu=Ca[--xa],Ca[xa]=null,Wu=Ca[--xa],Ca[xa]=null;for(;t===ks;)ks=Dn[--On],Dn[On]=null,Ui=Dn[--On],Dn[On]=null,Pi=Dn[--On],Dn[On]=null}var rn=null,lt=null,Be=!1,Ps=null,li=!1,Lf=Error(s(519));function Us(t){var r=Error(s(418,""));throw el(xn(r,t)),Lf}function kg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Tt]=t,r[mt]=l,a){case"dialog":Oe("cancel",r),Oe("close",r);break;case"iframe":case"object":case"embed":Oe("load",r);break;case"video":case"audio":for(a=0;a<Al.length;a++)Oe(Al[a],r);break;case"source":Oe("error",r);break;case"img":case"image":case"link":Oe("error",r),Oe("load",r);break;case"details":Oe("toggle",r);break;case"input":Oe("invalid",r),Ts(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),da(r);break;case"select":Oe("invalid",r);break;case"textarea":Oe("invalid",r),bs(r,l.value,l.defaultValue,l.children),da(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||W_(r.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",r),Oe("toggle",r)),l.onScroll!=null&&Oe("scroll",r),l.onScrollEnd!=null&&Oe("scrollend",r),l.onClick!=null&&(r.onclick=Dc),r=!0):r=!1,r||Us(t)}function Vg(t){for(rn=t.return;rn;)switch(rn.tag){case 5:case 13:li=!1;return;case 27:case 3:li=!0;return;default:rn=rn.return}}function Zo(t){if(t!==rn)return!1;if(!Be)return Vg(t),Be=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||em(t.type,t.memoizedProps)),a=!a),a&&lt&&Us(t),Vg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){lt=Gn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}lt=null}}else r===27?(r=lt,Or(t.type)?(t=rm,rm=null,lt=t):lt=r):lt=rn?Gn(t.stateNode.nextSibling):null;return!0}function Jo(){lt=rn=null,Be=!1}function Pg(){var t=Ps;return t!==null&&(ln===null?ln=t:ln.push.apply(ln,t),Ps=null),t}function el(t){Ps===null?Ps=[t]:Ps.push(t)}var jf=ie(null),Ls=null,Li=null;function yr(t,r,a){re(jf,r._currentValue),r._currentValue=a}function ji(t){t._currentValue=jf.current,oe(jf)}function zf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Bf(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<r.length;I++)if(T.context===r[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),zf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),zf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function tl(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===Ct.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&Bf(r,t,a,l),r.flags|=262144}function Zu(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Ls=t,Li=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return Ug(Ls,t)}function Ju(t,r){return Ls===null&&js(t),Ug(t,r)}function Ug(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Li===null){if(t===null)throw Error(s(308));Li=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Li=Li.next=r;return a}var xw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Nw=i.unstable_scheduleCallback,Dw=i.unstable_NormalPriority,At={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new xw,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&Nw(Dw,function(){t.controller.abort()})}var il=null,Hf=0,Na=0,Da=null;function Ow(t,r){if(il===null){var a=il=[];Hf=0,Na=Gd(),Da={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then(Lg,Lg),r}function Lg(){if(--Hf===0&&il!==null){Da!==null&&(Da.status="fulfilled");var t=il;il=null,Na=0,Da=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Mw(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var jg=Y.S;Y.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Ow(t,r),jg!==null&&jg(t,r)};var zs=ie(null);function Ff(){var t=zs.current;return t!==null?t:Je.pooledCache}function ec(t,r){r===null?re(zs,zs.current):re(zs,r.pool)}function zg(){var t=Ff();return t===null?null:{parent:At._currentValue,pool:t}}var rl=Error(s(460)),Bg=Error(s(474)),tc=Error(s(542)),Gf={then:function(){}};function qg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nc(){}function Hg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(nc,nc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t;default:if(typeof r.status=="string")r.then(nc,nc);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Gg(t),t}throw sl=r,rl}}var sl=null;function Fg(){if(sl===null)throw Error(s(459));var t=sl;return sl=null,t}function Gg(t){if(t===rl||t===tc)throw Error(s(483))}var _r=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Er(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=$u(t),Dg(t,null,a),r}return Qu(t,l,r,a),$u(t)}function al(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ko(t,a)}}function $f(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Yf=!1;function ol(){if(Yf){var t=Da;if(t!==null)throw t}}function ll(t,r,a,l){Yf=!1;var h=t.updateQueue;_r=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,H=I.next;I.next=null,v===null?d=H:v.next=H,v=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==v&&(T===null?X.firstBaseUpdate=H:T.next=H,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;v=0,X=H=I=null,T=d;do{var F=T.lane&-536870913,G=F!==T.lane;if(G?(Ue&F)===F:(l&F)===F){F!==0&&F===Na&&(Yf=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;F=r;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){J=Ee.call(Xe,J,F);break e}J=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,F=typeof Ee=="function"?Ee.call(Xe,J,F):Ee,F==null)break e;J=E({},J,F);break e;case 2:_r=!0}}F=T.callback,F!==null&&(t.flags|=64,G&&(t.flags|=8192),G=h.callbacks,G===null?h.callbacks=[F]:G.push(F))}else G={lane:F,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(H=X=G,I=J):X=X.next=G,v|=F;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;G=T,T=G.next,G.next=null,h.lastBaseUpdate=G,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=H,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Cr|=v,t.lanes=v,t.memoizedState=J}}function Kg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Qg(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Kg(a[t],r)}var Oa=ie(null),ic=ie(0);function $g(t,r){t=Ki,re(ic,t),re(Oa,r),Ki=t|r.baseLanes}function Xf(){re(ic,Ki),re(Oa,Oa.current)}function Wf(){Ki=ic.current,oe(Oa),oe(ic)}var Tr=0,Ie=null,$e=null,gt=null,rc=!1,Ma=!1,Bs=!1,sc=0,ul=0,ka=null,kw=0;function ht(){throw Error(s(321))}function Zf(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!pn(t[a],r[a]))return!1;return!0}function Jf(t,r,a,l,h,d){return Tr=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Y.H=t===null||t.memoizedState===null?Dy:Oy,Bs=!1,d=a(l,h),Bs=!1,Ma&&(d=Xg(r,a,l,h)),Yg(t),d}function Yg(t){Y.H=hc;var r=$e!==null&&$e.next!==null;if(Tr=0,gt=$e=Ie=null,rc=!1,ul=0,ka=null,r)throw Error(s(300));t===null||Dt||(t=t.dependencies,t!==null&&Zu(t)&&(Dt=!0))}function Xg(t,r,a,l){Ie=t;var h=0;do{if(Ma&&(ka=null),ul=0,Ma=!1,25<=h)throw Error(s(301));if(h+=1,gt=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=Bw,d=r(a,l)}while(Ma);return d}function Vw(){var t=Y.H,r=t.useState()[0];return r=typeof r.then=="function"?cl(r):r,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(Ie.flags|=1024),r}function ed(){var t=sc!==0;return sc=0,t}function td(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function nd(t){if(rc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}rc=!1}Tr=0,gt=$e=Ie=null,Ma=!1,ul=sc=0,ka=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if($e===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var r=gt===null?Ie.memoizedState:gt.next;if(r!==null)gt=r,$e=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function id(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(t){var r=ul;return ul+=1,ka===null&&(ka=[]),t=Hg(ka,t,r),r=Ie,(gt===null?r.memoizedState:gt.next)===null&&(r=r.alternate,Y.H=r===null||r.memoizedState===null?Dy:Oy),t}function ac(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===ne)return Kt(t)}throw Error(s(438,String(t)))}function rd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=id(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=M;return r.index++,a}function zi(t,r){return typeof r=="function"?r(t):r}function oc(t){var r=yt();return sd(r,$e,t)}function sd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=v=null,I=null,H=r,X=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(Ue&J)===J:(Tr&J)===J){var F=H.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===Na&&(X=!0);else if((Tr&F)===F){H=H.next,F===Na&&(X=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=J,v=d):I=I.next=J,Ie.lanes|=F,Cr|=F;J=H.action,Bs&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else F={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},I===null?(T=I=F,v=d):I=I.next=F,Ie.lanes|=J,Cr|=J;H=H.next}while(H!==null&&H!==r);if(I===null?v=d:I.next=T,!pn(d,t.memoizedState)&&(Dt=!0,X&&(a=Da,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ad(t){var r=yt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,r.memoizedState)||(Dt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function Wg(t,r,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var v=!pn(($e||h).memoizedState,a);v&&(h.memoizedState=a,Dt=!0),h=h.queue;var T=ey.bind(null,l,h,t);if(hl(2048,8,T,[t]),h.getSnapshot!==r||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Va(9,lc(),Jg.bind(null,l,h,a,r),null),Je===null)throw Error(s(349));d||(Tr&124)!==0||Zg(l,r,a)}return a}function Zg(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=id(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Jg(t,r,a,l){r.value=a,r.getSnapshot=l,ty(r)&&ny(t)}function ey(t,r,a){return a(function(){ty(r)&&ny(t)})}function ty(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!pn(t,a)}catch{return!0}}function ny(t){var r=Ra(t,2);r!==null&&Tn(r,t,2)}function od(t){var r=an();if(typeof t=="function"){var a=t;if(t=a(),Bs){dn(!0);try{a()}finally{dn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:t},r}function iy(t,r,a,l){return t.baseState=a,sd(t,$e,typeof l=="function"?l:zi)}function Pw(t,r,a,l,h){if(cc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,ry(r,d)):(d.next=a.next,r.pending=a.next=d)}}function ry(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=Y.T,v={};Y.T=v;try{var T=a(h,l),I=Y.S;I!==null&&I(v,T),sy(t,r,T)}catch(H){ld(t,r,H)}finally{Y.T=d}}else try{d=a(h,l),sy(t,r,d)}catch(H){ld(t,r,H)}}function sy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ay(t,r,l)},function(l){return ld(t,r,l)}):ay(t,r,a)}function ay(t,r,a){r.status="fulfilled",r.value=a,oy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,ry(t,a)))}function ld(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,oy(r),r=r.next;while(r!==l)}t.action=null}function oy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function ly(t,r){return r}function uy(t,r){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=li;h.nodeType!==8;){if(!d){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Gn(h.nextSibling),l=h.data==="F!";break e}}Us(l)}l=!1}l&&(r=a[0])}}return a=an(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ly,lastRenderedState:r},a.queue=l,a=Cy.bind(null,Ie,l),l.dispatch=a,l=od(!1),d=dd.bind(null,Ie,!1,l.queue),l=an(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Pw.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function cy(t){var r=yt();return hy(r,$e,t)}function hy(t,r,a){if(r=sd(t,r,ly)[0],t=oc(zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=cl(r)}catch(v){throw v===rl?tc:v}else l=r;r=yt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Va(9,lc(),Uw.bind(null,h,a),null)),[l,d,t]}function Uw(t,r){t.action=r}function fy(t){var r=yt(),a=$e;if(a!==null)return hy(r,a,t);yt(),r=r.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Va(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=id(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function lc(){return{destroy:void 0,resource:void 0}}function dy(){return yt().memoizedState}function uc(t,r,a,l){var h=an();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Va(1|r,lc(),a,l)}function hl(t,r,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;$e!==null&&l!==null&&Zf(l,$e.memoizedState.deps)?h.memoizedState=Va(r,d,a,l):(Ie.flags|=t,h.memoizedState=Va(1|r,d,a,l))}function my(t,r){uc(8390656,8,t,r)}function py(t,r){hl(2048,8,t,r)}function gy(t,r){return hl(4,2,t,r)}function yy(t,r){return hl(4,4,t,r)}function _y(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function vy(t,r,a){a=a!=null?a.concat([t]):null,hl(4,4,_y.bind(null,r,t),a)}function ud(){}function Ey(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Ty(t,r){var a=yt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=t(),Bs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l}function cd(t,r,a){return a===void 0||(Tr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=A_(),Ie.lanes|=t,Cr|=t,a)}function by(t,r,a,l){return pn(a,r)?a:Oa.current!==null?(t=cd(t,a,l),pn(t,r)||(Dt=!0),t):(Tr&42)===0?(Dt=!0,t.memoizedState=a):(t=A_(),Ie.lanes|=t,Cr|=t,r)}function wy(t,r,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Y.T,T={};Y.T=T,dd(t,!1,r,a);try{var I=h(),H=Y.S;if(H!==null&&H(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=Mw(I,l);fl(t,r,X,En(t))}else fl(t,r,l,En(t))}catch(J){fl(t,r,{then:function(){},status:"rejected",reason:J},En())}finally{ae.p=d,Y.T=v}}function Lw(){}function hd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;wy(t,h,r,me,a===null?Lw:function(){return Sy(t),a(l)})}function Ay(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:me},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Sy(t){var r=Ay(t).next.queue;fl(t,r,{},En())}function fd(){return Kt(Nl)}function Ry(){return yt().memoizedState}function Iy(){return yt().memoizedState}function jw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=En();t=vr(a);var l=Er(r,t,a);l!==null&&(Tn(l,r,a),al(l,r,a)),r={cache:qf()},t.payload=r;return}r=r.return}}function zw(t,r,a){var l=En();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cc(t)?xy(r,a):(a=Of(t,r,a,l),a!==null&&(Tn(a,t,l),Ny(a,r,l)))}function Cy(t,r,a){var l=En();fl(t,r,a,l)}function fl(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cc(t))xy(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var v=r.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,pn(T,v))return Qu(t,r,h,0),Je===null&&Ku(),!1}catch{}finally{}if(a=Of(t,r,h,l),a!==null)return Tn(a,t,l),Ny(a,r,l),!0}return!1}function dd(t,r,a,l){if(l={lane:2,revertLane:Gd(),action:l,hasEagerState:!1,eagerState:null,next:null},cc(t)){if(r)throw Error(s(479))}else r=Of(t,a,l,2),r!==null&&Tn(r,t,2)}function cc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function xy(t,r){Ma=rc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Ny(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,ko(t,a)}}var hc={readContext:Kt,use:ac,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},Dy={readContext:Kt,use:ac,useCallback:function(t,r){return an().memoizedState=[t,r===void 0?null:r],t},useContext:Kt,useEffect:my,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,uc(4194308,4,_y.bind(null,r,t),a)},useLayoutEffect:function(t,r){return uc(4194308,4,t,r)},useInsertionEffect:function(t,r){uc(4,2,t,r)},useMemo:function(t,r){var a=an();r=r===void 0?null:r;var l=t();if(Bs){dn(!0);try{t()}finally{dn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=an();if(a!==void 0){var h=a(r);if(Bs){dn(!0);try{a(r)}finally{dn(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=zw.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=an();return t={current:t},r.memoizedState=t},useState:function(t){t=od(t);var r=t.queue,a=Cy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:ud,useDeferredValue:function(t,r){var a=an();return cd(a,t,r)},useTransition:function(){var t=od(!1);return t=wy.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,h=an();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),Je===null)throw Error(s(349));(Ue&124)!==0||Zg(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,my(ey.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,lc(),Jg.bind(null,l,d,a,r),null),a},useId:function(){var t=an(),r=Je.identifierPrefix;if(Be){var a=Ui,l=Pi;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=sc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=kw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:fd,useFormState:uy,useActionState:uy,useOptimistic:function(t){var r=an();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=dd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:rd,useCacheRefresh:function(){return an().memoizedState=jw.bind(null,Ie)}},Oy={readContext:Kt,use:ac,useCallback:Ey,useContext:Kt,useEffect:py,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:oc,useRef:dy,useState:function(){return oc(zi)},useDebugValue:ud,useDeferredValue:function(t,r){var a=yt();return by(a,$e.memoizedState,t,r)},useTransition:function(){var t=oc(zi)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Wg,useId:Ry,useHostTransitionStatus:fd,useFormState:cy,useActionState:cy,useOptimistic:function(t,r){var a=yt();return iy(a,$e,t,r)},useMemoCache:rd,useCacheRefresh:Iy},Bw={readContext:Kt,use:ac,useCallback:Ey,useContext:Kt,useEffect:py,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:ad,useRef:dy,useState:function(){return ad(zi)},useDebugValue:ud,useDeferredValue:function(t,r){var a=yt();return $e===null?cd(a,t,r):by(a,$e.memoizedState,t,r)},useTransition:function(){var t=ad(zi)[0],r=yt().memoizedState;return[typeof t=="boolean"?t:cl(t),r]},useSyncExternalStore:Wg,useId:Ry,useHostTransitionStatus:fd,useFormState:fy,useActionState:fy,useOptimistic:function(t,r){var a=yt();return $e!==null?iy(a,$e,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rd,useCacheRefresh:Iy},Pa=null,dl=0;function fc(t){var r=dl;return dl+=1,Pa===null&&(Pa=[]),Hg(Pa,t,r)}function ml(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function dc(t,r){throw r.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function My(t){var r=t._init;return r(t._payload)}function ky(t){function r(U,k){if(t){var q=U.deletions;q===null?(U.deletions=[k],U.flags|=16):q.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)r(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Vi(U,k),U.index=0,U.sibling=null,U}function d(U,k,q){return U.index=q,t?(q=U.alternate,q!==null?(q=q.index,q<k?(U.flags|=67108866,k):q):(U.flags|=67108866,k)):(U.flags|=1048576,k)}function v(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,k,q,W){return k===null||k.tag!==6?(k=kf(q,U.mode,W),k.return=U,k):(k=h(k,q),k.return=U,k)}function I(U,k,q,W){var ce=q.type;return ce===x?X(U,k,q.props.children,W,q.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&My(ce)===k.type)?(k=h(k,q.props),ml(k,q),k.return=U,k):(k=Yu(q.type,q.key,q.props,null,U.mode,W),ml(k,q),k.return=U,k)}function H(U,k,q,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==q.containerInfo||k.stateNode.implementation!==q.implementation?(k=Vf(q,U.mode,W),k.return=U,k):(k=h(k,q.children||[]),k.return=U,k)}function X(U,k,q,W,ce){return k===null||k.tag!==7?(k=Ms(q,U.mode,W,ce),k.return=U,k):(k=h(k,q),k.return=U,k)}function J(U,k,q){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=kf(""+k,U.mode,q),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return q=Yu(k.type,k.key,k.props,null,U.mode,q),ml(q,k),q.return=U,q;case O:return k=Vf(k,U.mode,q),k.return=U,k;case S:var W=k._init;return k=W(k._payload),J(U,k,q)}if(at(k)||L(k))return k=Ms(k,U.mode,q,null),k.return=U,k;if(typeof k.then=="function")return J(U,fc(k),q);if(k.$$typeof===ne)return J(U,Ju(U,k),q);dc(U,k)}return null}function F(U,k,q,W){var ce=k!==null?k.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ce!==null?null:T(U,k,""+q,W);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case A:return q.key===ce?I(U,k,q,W):null;case O:return q.key===ce?H(U,k,q,W):null;case S:return ce=q._init,q=ce(q._payload),F(U,k,q,W)}if(at(q)||L(q))return ce!==null?null:X(U,k,q,W,null);if(typeof q.then=="function")return F(U,k,fc(q),W);if(q.$$typeof===ne)return F(U,k,Ju(U,q),W);dc(U,q)}return null}function G(U,k,q,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(q)||null,T(k,U,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case A:return U=U.get(W.key===null?q:W.key)||null,I(k,U,W,ce);case O:return U=U.get(W.key===null?q:W.key)||null,H(k,U,W,ce);case S:var Ne=W._init;return W=Ne(W._payload),G(U,k,q,W,ce)}if(at(W)||L(W))return U=U.get(q)||null,X(k,U,W,ce,null);if(typeof W.then=="function")return G(U,k,q,fc(W),ce);if(W.$$typeof===ne)return G(U,k,q,Ju(k,W),ce);dc(k,W)}return null}function Ee(U,k,q,W){for(var ce=null,Ne=null,de=k,_e=k=0,Mt=null;de!==null&&_e<q.length;_e++){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var je=F(U,de,q[_e],W);if(je===null){de===null&&(de=Mt);break}t&&de&&je.alternate===null&&r(U,de),k=d(je,k,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je,de=Mt}if(_e===q.length)return a(U,de),Be&&Vs(U,_e),ce;if(de===null){for(;_e<q.length;_e++)de=J(U,q[_e],W),de!==null&&(k=d(de,k,_e),Ne===null?ce=de:Ne.sibling=de,Ne=de);return Be&&Vs(U,_e),ce}for(de=l(de);_e<q.length;_e++)Mt=G(de,U,_e,q[_e],W),Mt!==null&&(t&&Mt.alternate!==null&&de.delete(Mt.key===null?_e:Mt.key),k=d(Mt,k,_e),Ne===null?ce=Mt:Ne.sibling=Mt,Ne=Mt);return t&&de.forEach(function(Ur){return r(U,Ur)}),Be&&Vs(U,_e),ce}function ye(U,k,q,W){if(q==null)throw Error(s(151));for(var ce=null,Ne=null,de=k,_e=k=0,Mt=null,je=q.next();de!==null&&!je.done;_e++,je=q.next()){de.index>_e?(Mt=de,de=null):Mt=de.sibling;var Ur=F(U,de,je.value,W);if(Ur===null){de===null&&(de=Mt);break}t&&de&&Ur.alternate===null&&r(U,de),k=d(Ur,k,_e),Ne===null?ce=Ur:Ne.sibling=Ur,Ne=Ur,de=Mt}if(je.done)return a(U,de),Be&&Vs(U,_e),ce;if(de===null){for(;!je.done;_e++,je=q.next())je=J(U,je.value,W),je!==null&&(k=d(je,k,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return Be&&Vs(U,_e),ce}for(de=l(de);!je.done;_e++,je=q.next())je=G(de,U,_e,je.value,W),je!==null&&(t&&je.alternate!==null&&de.delete(je.key===null?_e:je.key),k=d(je,k,_e),Ne===null?ce=je:Ne.sibling=je,Ne=je);return t&&de.forEach(function(qA){return r(U,qA)}),Be&&Vs(U,_e),ce}function Xe(U,k,q,W){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case A:e:{for(var ce=q.key;k!==null;){if(k.key===ce){if(ce=q.type,ce===x){if(k.tag===7){a(U,k.sibling),W=h(k,q.props.children),W.return=U,U=W;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===S&&My(ce)===k.type){a(U,k.sibling),W=h(k,q.props),ml(W,q),W.return=U,U=W;break e}a(U,k);break}else r(U,k);k=k.sibling}q.type===x?(W=Ms(q.props.children,U.mode,W,q.key),W.return=U,U=W):(W=Yu(q.type,q.key,q.props,null,U.mode,W),ml(W,q),W.return=U,U=W)}return v(U);case O:e:{for(ce=q.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===q.containerInfo&&k.stateNode.implementation===q.implementation){a(U,k.sibling),W=h(k,q.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else r(U,k);k=k.sibling}W=Vf(q,U.mode,W),W.return=U,U=W}return v(U);case S:return ce=q._init,q=ce(q._payload),Xe(U,k,q,W)}if(at(q))return Ee(U,k,q,W);if(L(q)){if(ce=L(q),typeof ce!="function")throw Error(s(150));return q=ce.call(q),ye(U,k,q,W)}if(typeof q.then=="function")return Xe(U,k,fc(q),W);if(q.$$typeof===ne)return Xe(U,k,Ju(U,q),W);dc(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,k!==null&&k.tag===6?(a(U,k.sibling),W=h(k,q),W.return=U,U=W):(a(U,k),W=kf(q,U.mode,W),W.return=U,U=W),v(U)):a(U,k)}return function(U,k,q,W){try{dl=0;var ce=Xe(U,k,q,W);return Pa=null,ce}catch(de){if(de===rl||de===tc)throw de;var Ne=gn(29,de,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var Ua=ky(!0),Vy=ky(!1),Mn=ie(null),ui=null;function br(t){var r=t.alternate;re(St,St.current&1),re(Mn,t),ui===null&&(r===null||Oa.current!==null||r.memoizedState!==null)&&(ui=t)}function Py(t){if(t.tag===22){if(re(St,St.current),re(Mn,t),ui===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(ui=t)}}else wr()}function wr(){re(St,St.current),re(Mn,Mn.current)}function Bi(t){oe(Mn),ui===t&&(ui=null),oe(St)}var St=ie(0);function mc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||im(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function md(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var pd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=En(),h=vr(l);h.payload=r,a!=null&&(h.callback=a),r=Er(t,h,l),r!==null&&(Tn(r,t,l),al(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=En(),h=vr(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=Er(t,h,l),r!==null&&(Tn(r,t,l),al(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=En(),l=vr(a);l.tag=2,r!=null&&(l.callback=r),r=Er(t,l,a),r!==null&&(Tn(r,t,a),al(r,t,a))}};function Uy(t,r,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):r.prototype&&r.prototype.isPureReactComponent?!Xo(a,l)||!Xo(h,d):!0}function Ly(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&pd.enqueueReplaceState(r,r.state,null)}function qs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function jy(t){pc(t)}function zy(t){console.error(t)}function By(t){pc(t)}function gc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function gd(t,r,a){return a=vr(a),a.tag=3,a.payload={element:null},a.callback=function(){gc(t,r)},a}function Hy(t){return t=vr(t),t.tag=3,t}function Fy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(r,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qy(r,a,l),typeof h!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function qw(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&tl(r,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return ui===null?zd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Gf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),qd(t,l,h)),!1;case 22:return a.flags|=65536,l===Gf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),qd(t,l,h)),!1}throw Error(s(435,a.tag))}return qd(t,l,h),zd(),!1}if(Be)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Lf&&(t=Error(s(422),{cause:l}),el(xn(t,a)))):(l!==Lf&&(r=Error(s(423),{cause:l}),el(xn(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=gd(t.stateNode,l,h),$f(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Tl===null?Tl=[d]:Tl.push(d),ut!==4&&(ut=2),r===null)return!0;l=xn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=gd(a.stateNode,l,t),$f(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(xr===null||!xr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Fy(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var Gy=Error(s(461)),Dt=!1;function Lt(t,r,a,l){r.child=t===null?Vy(r,null,a,l):Ua(r,t.child,a,l)}function Ky(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return js(r),l=Jf(t,r,a,v,d,h),T=ed(),t!==null&&!Dt?(td(t,r,h),qi(t,r,h)):(Be&&T&&Pf(r),r.flags|=1,Lt(t,r,l,h),r.child)}function Qy(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Mf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,$y(t,r,d,l,h)):(t=Yu(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Ad(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Xo,a(v,l)&&t.ref===r.ref)return qi(t,r,h)}return r.flags|=1,t=Vi(d,l),t.ref=r.ref,t.return=r,r.child=t}function $y(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Xo(d,l)&&t.ref===r.ref)if(Dt=!1,r.pendingProps=l=d,Ad(t,h))(t.flags&131072)!==0&&(Dt=!0);else return r.lanes=t.lanes,qi(t,r,h)}return yd(t,r,a,l,h)}function Yy(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Xy(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&ec(r,d!==null?d.cachePool:null),d!==null?$g(r,d):Xf(),Py(r);else return r.lanes=r.childLanes=536870912,Xy(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ec(r,d.cachePool),$g(r,d),wr(),r.memoizedState=null):(t!==null&&ec(r,null),Xf(),wr());return Lt(t,r,h,a),r.child}function Xy(t,r,a,l){var h=Ff();return h=h===null?null:{parent:At._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&ec(r,null),Xf(),Py(r),t!==null&&tl(t,r,l,!0),null}function yc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function yd(t,r,a,l,h){return js(r),a=Jf(t,r,a,l,void 0,h),l=ed(),t!==null&&!Dt?(td(t,r,h),qi(t,r,h)):(Be&&l&&Pf(r),r.flags|=1,Lt(t,r,a,h),r.child)}function Wy(t,r,a,l,h,d){return js(r),r.updateQueue=null,a=Xg(r,l,a,h),Yg(t),l=ed(),t!==null&&!Dt?(td(t,r,d),qi(t,r,d)):(Be&&l&&Pf(r),r.flags|=1,Lt(t,r,a,d),r.child)}function Zy(t,r,a,l,h){if(js(r),r.stateNode===null){var d=Ia,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=pd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Kf(r),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Ia,d.state=r.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(md(r,a,v,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&pd.enqueueReplaceState(d,d.state,null),ll(r,l,d,h),ol(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,I=qs(a,T);d.props=I;var H=d.context,X=a.contextType;v=Ia,typeof X=="object"&&X!==null&&(v=Kt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==v)&&Ly(r,d,l,v),_r=!1;var F=r.memoizedState;d.state=F,ll(r,l,d,h),ol(),H=r.memoizedState,T||F!==H||_r?(typeof J=="function"&&(md(r,a,J,l),H=r.memoizedState),(I=_r||Uy(r,a,I,l,F,H,v))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Qf(t,r),v=r.memoizedProps,X=qs(a,v),d.props=X,J=r.pendingProps,F=d.context,H=a.contextType,I=Ia,typeof H=="object"&&H!==null&&(I=Kt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==J||F!==I)&&Ly(r,d,l,I),_r=!1,F=r.memoizedState,d.state=F,ll(r,l,d,h),ol();var G=r.memoizedState;v!==J||F!==G||_r||t!==null&&t.dependencies!==null&&Zu(t.dependencies)?(typeof T=="function"&&(md(r,a,T,l),G=r.memoizedState),(X=_r||Uy(r,a,X,l,F,G,I)||t!==null&&t.dependencies!==null&&Zu(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,yc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=Ua(r,t.child,null,h),r.child=Ua(r,null,a,h)):Lt(t,r,a,h),r.memoizedState=d.state,t=r.child):t=qi(t,r,h),t}function Jy(t,r,a,l){return Jo(),r.flags|=256,Lt(t,r,a,l),r.child}var _d={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function vd(t){return{baseLanes:t,cachePool:zg()}}function Ed(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=kn),t}function e_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(h=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,t===null){if(Be){if(h?br(r):wr(),Be){var T=lt,I;if(I=T){e:{for(I=T,T=li;I.nodeType!==8;){if(!T){T=null;break e}if(I=Gn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(r.memoizedState={dehydrated:T,treeContext:ks!==null?{id:Pi,overflow:Ui}:null,retryLane:536870912,hydrationErrors:null},I=gn(18,null,null,0),I.stateNode=T,I.return=r,r.child=I,rn=r,lt=null,I=!0):I=!1}I||Us(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return im(T)?r.lanes=32:r.lanes=536870912,null;Bi(r)}return T=l.children,l=l.fallback,h?(wr(),h=r.mode,T=_c({mode:"hidden",children:T},h),l=Ms(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=vd(a),h.childLanes=Ed(t,v,a),r.memoizedState=_d,l):(br(r),Td(r,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)r.flags&256?(br(r),r.flags&=-257,r=bd(t,r,a)):r.memoizedState!==null?(wr(),r.child=t.child,r.flags|=128,r=null):(wr(),h=l.fallback,T=r.mode,l=_c({mode:"visible",children:l.children},T),h=Ms(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,Ua(r,t.child,null,a),l=r.child,l.memoizedState=vd(a),l.childLanes=Ed(t,v,a),r.memoizedState=_d,r=h);else if(br(r),im(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var H=v.dgst;v=H,l=Error(s(419)),l.stack="",l.digest=v,el({value:l,source:null,stack:null}),r=bd(t,r,a)}else if(Dt||tl(t,r,a,!1),v=(a&t.childLanes)!==0,Dt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:cr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ra(t,l),Tn(v,t,l),Gy;T.data==="$?"||zd(),r=bd(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=I.treeContext,lt=Gn(T.nextSibling),rn=r,Be=!0,Ps=null,li=!1,t!==null&&(Dn[On++]=Pi,Dn[On++]=Ui,Dn[On++]=ks,Pi=t.id,Ui=t.overflow,ks=r),r=Td(r,l.children),r.flags|=4096);return r}return h?(wr(),h=l.fallback,T=r.mode,I=t.child,H=I.sibling,l=Vi(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,H!==null?h=Vi(H,h):(h=Ms(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=vd(a):(I=T.cachePool,I!==null?(H=At._currentValue,I=I.parent!==H?{parent:H,pool:H}:I):I=zg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=Ed(t,v,a),r.memoizedState=_d,l):(br(r),a=t.child,t=a.sibling,a=Vi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(v=r.deletions,v===null?(r.deletions=[t],r.flags|=16):v.push(t)),r.child=a,r.memoizedState=null,a)}function Td(t,r){return r=_c({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function _c(t,r){return t=gn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function bd(t,r,a){return Ua(r,t.child,null,a),t=Td(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function t_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zf(t.return,r,a)}function wd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function n_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,r,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,r);else if(t.tag===19)t_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(St,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&mc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),wd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&mc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}wd(r,!0,a,null,d);break;case"together":wd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function qi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Cr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(tl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Vi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Vi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Ad(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Zu(t)))}function Hw(t,r,a){switch(r.tag){case 3:Ze(r,r.stateNode.containerInfo),yr(r,At,t.memoizedState.cache),Jo();break;case 27:case 5:ur(r);break;case 4:Ze(r,r.stateNode.containerInfo);break;case 10:yr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(br(r),r.flags|=128,null):(a&r.child.childLanes)!==0?e_(t,r,a):(br(r),t=qi(t,r,a),t!==null?t.sibling:null);br(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(tl(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return n_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(St,St.current),l)break;return null;case 22:case 23:return r.lanes=0,Yy(t,r,a);case 24:yr(r,At,t.memoizedState.cache)}return qi(t,r,a)}function i_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Dt=!0;else{if(!Ad(t,a)&&(r.flags&128)===0)return Dt=!1,Hw(t,r,a);Dt=(t.flags&131072)!==0}else Dt=!1,Be&&(r.flags&1048576)!==0&&Mg(r,Wu,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Mf(l)?(t=qs(l,t),r.tag=1,r=Zy(null,r,l,t,a)):(r.tag=0,r=yd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){r.tag=11,r=Ky(null,r,l,t,a);break e}else if(h===V){r.tag=14,r=Qy(null,r,l,t,a);break e}}throw r=Vt(l)||l,Error(s(306,r,""))}}return r;case 0:return yd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=qs(l,r.pendingProps),Zy(t,r,l,h,a);case 3:e:{if(Ze(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Qf(t,r),ll(r,l,null,a);var v=r.memoizedState;if(l=v.cache,yr(r,At,l),l!==d.cache&&Bf(r,[At],a,!0),ol(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Jy(t,r,l,a);break e}else if(l!==h){h=xn(Error(s(424)),r),el(h),r=Jy(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Gn(t.firstChild),rn=r,Be=!0,Ps=null,li=!0,a=Vy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Jo(),l===h){r=qi(t,r,a);break e}Lt(t,r,l,a)}r=r.child}return r;case 26:return yc(t,r),t===null?(a=ov(r.type,null,r.pendingProps,null))?r.memoizedState=a:Be||(a=r.type,t=r.pendingProps,l=Oc(be.current).createElement(a),l[Tt]=r,l[mt]=t,zt(l,a,t),ct(l),r.stateNode=l):r.memoizedState=ov(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ur(r),t===null&&Be&&(l=r.stateNode=rv(r.type,r.pendingProps,be.current),rn=r,li=!0,h=lt,Or(r.type)?(rm=h,lt=Gn(l.firstChild)):lt=h),Lt(t,r,r.pendingProps.children,a),yc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=yA(l,r.type,r.pendingProps,li),l!==null?(r.stateNode=l,rn=r,lt=Gn(l.firstChild),li=!1,h=!0):h=!1),h||Us(r)),ur(r),h=r.type,d=r.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,em(h,d)?l=null:v!==null&&em(h,v)&&(r.flags|=32),r.memoizedState!==null&&(h=Jf(t,r,Vw,null,null,a),Nl._currentValue=h),yc(t,r),Lt(t,r,l,a),r.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=_A(a,r.pendingProps,li),a!==null?(r.stateNode=a,rn=r,lt=null,t=!0):t=!1),t||Us(r)),null;case 13:return e_(t,r,a);case 4:return Ze(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Ua(r,null,l,a):Lt(t,r,l,a),r.child;case 11:return Ky(t,r,r.type,r.pendingProps,a);case 7:return Lt(t,r,r.pendingProps,a),r.child;case 8:return Lt(t,r,r.pendingProps.children,a),r.child;case 12:return Lt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,yr(r,r.type,l.value),Lt(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,js(r),h=Kt(h),l=l(h),r.flags|=1,Lt(t,r,l,a),r.child;case 14:return Qy(t,r,r.type,r.pendingProps,a);case 15:return $y(t,r,r.type,r.pendingProps,a);case 19:return n_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=_c(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Vi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return Yy(t,r,a);case 24:return js(r),l=Kt(At),t===null?(h=Ff(),h===null&&(h=Je,d=qf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Kf(r),yr(r,At,h)):((t.lanes&a)!==0&&(Qf(t,r),ll(r,null,null,a),ol()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),yr(r,At,l)):(l=d.cache,yr(r,At,l),l!==h.cache&&Bf(r,[At],a,!0))),Lt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Hi(t){t.flags|=4}function r_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!fv(r)){if(r=Mn.current,r!==null&&((Ue&4194048)===Ue?ui!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||r!==ui))throw sl=Gf,Bg;t.flags|=8192}}function vc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Oo():536870912,t.lanes|=r,Ba|=r)}function pl(t,r){if(!Be)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Fw(t,r,a){var l=r.pendingProps;switch(Uf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(r),null;case 1:return it(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ji(At),Xn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Zo(r)?Hi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Pg())),it(r),null;case 26:return a=r.memoizedState,t===null?(Hi(r),a!==null?(it(r),r_(r,a)):(it(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Hi(r),it(r),r_(r,a)):(it(r),r.flags&=-16777217):(t.memoizedProps!==l&&Hi(r),it(r),r.flags&=-16777217),null;case 27:bi(r),a=be.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}t=ge.current,Zo(r)?kg(r):(t=rv(h,l,a),r.stateNode=t,Hi(r))}return it(r),null;case 5:if(bi(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return it(r),null}if(t=ge.current,Zo(r))kg(r);else{switch(h=Oc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Tt]=r,t[mt]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch(zt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Hi(r)}}return it(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Hi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,Zo(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=rn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Tt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||W_(t.nodeValue,a)),t||Us(r)}else t=Oc(t).createTextNode(l),t[Tt]=r,r.stateNode=t}return it(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Zo(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Tt]=r}else Jo(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;it(r),h=!1}else h=Pg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Bi(r),r):(Bi(r),null)}if(Bi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),vc(r,r.updateQueue),it(r),null;case 4:return Xn(),t===null&&Yd(r.stateNode.containerInfo),it(r),null;case 10:return ji(r.type),it(r),null;case 19:if(oe(St),h=r.memoizedState,h===null)return it(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=mc(t),d!==null){for(r.flags|=128,pl(h,!1),t=d.updateQueue,r.updateQueue=t,vc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Og(a,t),a=a.sibling;return re(St,St.current&1|2),r.child}t=t.sibling}h.tail!==null&&wn()>bc&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304)}else{if(!l)if(t=mc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,vc(r,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(r),null}else 2*wn()-h.renderingStartTime>bc&&a!==536870912&&(r.flags|=128,l=!0,pl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=wn(),r.sibling=null,t=St.current,re(St,l?t&1|2:t&1),r):(it(r),null);case 22:case 23:return Bi(r),Wf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(it(r),r.subtreeFlags&6&&(r.flags|=8192)):it(r),a=r.updateQueue,a!==null&&vc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(zs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),ji(At),it(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Gw(t,r){switch(Uf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ji(At),Xn(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return bi(r),null;case 13:if(Bi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Jo()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(St),null;case 4:return Xn(),null;case 10:return ji(r.type),null;case 22:case 23:return Bi(r),Wf(),t!==null&&oe(zs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return ji(At),null;case 25:return null;default:return null}}function s_(t,r){switch(Uf(r),r.tag){case 3:ji(At),Xn();break;case 26:case 27:case 5:bi(r);break;case 4:Xn();break;case 13:Bi(r);break;case 19:oe(St);break;case 10:ji(r.type);break;case 22:case 23:Bi(r),Wf(),t!==null&&oe(zs);break;case 24:ji(At)}}function gl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(r,r.return,T)}}function Ar(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=r;var I=a,H=T;try{H()}catch(X){We(h,I,X)}}}l=l.next}while(l!==d)}}catch(X){We(r,r.return,X)}}function a_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Qg(r,a)}catch(l){We(t,t.return,l)}}}function o_(t,r,a){a.props=qs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,r,l)}}function yl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,r,h)}}function ci(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,r,h)}else a.current=null}function l_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function Sd(t,r,a){try{var l=t.stateNode;fA(l,t.type,a,r),l[mt]=r}catch(h){We(t,t.return,h)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Or(t.type)||t.tag===4}function Rd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Or(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Dc));else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Id(t,r,a),t=t.sibling;t!==null;)Id(t,r,a),t=t.sibling}function Ec(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Or(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ec(t,r,a),t=t.sibling;t!==null;)Ec(t,r,a),t=t.sibling}function c_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);zt(r,l,a),r[Tt]=t,r[mt]=a}catch(d){We(t,t.return,d)}}var Fi=!1,ft=!1,Cd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,Ot=null;function Kw(t,r){if(t=t.containerInfo,Zd=Lc,t=bg(t),Rf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,H=0,X=0,J=t,F=null;t:for(;;){for(var G;J!==a||h!==0&&J.nodeType!==3||(T=v+h),J!==d||l!==0&&J.nodeType!==3||(I=v+l),J.nodeType===3&&(v+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===t)break t;if(F===a&&++H===h&&(T=v),F===d&&++X===l&&(I=v),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Jd={focusedElem:t,selectionRange:a},Lc=!1,Ot=r;Ot!==null;)if(r=Ot,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ot=t;else for(;Ot!==null;){switch(r=Ot,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=qs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)nm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":nm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ot=t;break}Ot=r.return}}function f_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Sr(t,a),l&4&&gl(5,a);break;case 1:if(Sr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=qs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&a_(a),l&512&&yl(a,a.return);break;case 3:if(Sr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{Qg(t,r)}catch(v){We(a,a.return,v)}}break;case 27:r===null&&l&4&&c_(a);case 26:case 5:Sr(t,a),r===null&&l&4&&l_(a),l&512&&yl(a,a.return);break;case 12:Sr(t,a);break;case 13:Sr(t,a),l&4&&p_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=tA.bind(null,a),vA(t,a))));break;case 22:if(l=a.memoizedState!==null||Fi,!l){r=r!==null&&r.memoizedState!==null||ft,h=Fi;var d=ft;Fi=l,(ft=r)&&!d?Rr(t,a,(a.subtreeFlags&8772)!==0):Sr(t,a),Fi=h,ft=d}break;case 30:break;default:Sr(t,a)}}function d_(t){var r=t.alternate;r!==null&&(t.alternate=null,d_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&dr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var nt=null,on=!1;function Gi(t,r,a){for(a=a.child;a!==null;)m_(t,r,a),a=a.sibling}function m_(t,r,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ci(a,r),Gi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ci(a,r);var l=nt,h=on;Or(a.type)&&(nt=a.stateNode,on=!1),Gi(t,r,a),Rl(a.stateNode),nt=l,on=h;break;case 5:ft||ci(a,r);case 6:if(l=nt,h=on,nt=null,Gi(t,r,a),nt=l,on=h,nt!==null)if(on)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(a.stateNode)}catch(d){We(a,r,d)}else try{nt.removeChild(a.stateNode)}catch(d){We(a,r,d)}break;case 18:nt!==null&&(on?(t=nt,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),kl(t)):nv(nt,a.stateNode));break;case 4:l=nt,h=on,nt=a.stateNode.containerInfo,on=!0,Gi(t,r,a),nt=l,on=h;break;case 0:case 11:case 14:case 15:ft||Ar(2,a,r),ft||Ar(4,a,r),Gi(t,r,a);break;case 1:ft||(ci(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,r,l)),Gi(t,r,a);break;case 21:Gi(t,r,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,Gi(t,r,a),ft=l;break;default:Gi(t,r,a)}}function p_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){We(r,r.return,a)}}function Qw(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new h_),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new h_),r;default:throw Error(s(435,t.tag))}}function xd(t,r){var a=Qw(t);r.forEach(function(l){var h=nA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function yn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=r,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Or(T.type)){nt=T.stateNode,on=!1;break e}break;case 5:nt=T.stateNode,on=!1;break e;case 3:case 4:nt=T.stateNode.containerInfo,on=!0;break e}T=T.return}if(nt===null)throw Error(s(160));m_(d,v,h),nt=null,on=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)g_(r,t),r=r.sibling}var Fn=null;function g_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:yn(r,t),_n(t),l&4&&(Ar(3,t,t.return),gl(3,t),Ar(5,t,t.return));break;case 1:yn(r,t),_n(t),l&512&&(ft||a===null||ci(a,a.return)),l&64&&Fi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Fn;if(yn(r,t),_n(t),l&512&&(ft||a===null||ci(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ys]||d[Tt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),zt(d,l,a),d[Tt]=t,ct(d),l=d;break e;case"link":var v=cv("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=cv("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),zt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Tt]=t,ct(d),l=d}t.stateNode=l}else hv(h,t.type,t.stateNode);else t.stateNode=uv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?hv(h,t.type,t.stateNode):uv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Sd(t,t.memoizedProps,a.memoizedProps)}break;case 27:yn(r,t),_n(t),l&512&&(ft||a===null||ci(a,a.return)),a!==null&&l&4&&Sd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(yn(r,t),_n(t),l&512&&(ft||a===null||ci(a,a.return)),t.flags&32){h=t.stateNode;try{Sn(h,"")}catch(G){We(t,t.return,G)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Sd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Cd=!0);break;case 6:if(yn(r,t),_n(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(G){We(t,t.return,G)}}break;case 3:if(Vc=null,h=Fn,Fn=Mc(r.containerInfo),yn(r,t),Fn=h,_n(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(r.containerInfo)}catch(G){We(t,t.return,G)}Cd&&(Cd=!1,y_(t));break;case 4:l=Fn,Fn=Mc(t.stateNode.containerInfo),yn(r,t),_n(t),Fn=l;break;case 12:yn(r,t),_n(t);break;case 13:yn(r,t),_n(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Vd=wn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,H=Fi,X=ft;if(Fi=H||h,ft=X||I,yn(r,t),ft=X,Fi=H,_n(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||I||Fi||ft||Hs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){I=a=r;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var J=I.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;T.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){We(I,I.return,G)}}}else if(r.tag===6){if(a===null){I=r;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(G){We(I,I.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(t,a))));break;case 19:yn(r,t),_n(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,xd(t,l)));break;case 30:break;case 21:break;default:yn(r,t),_n(t)}}function _n(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Rd(t);Ec(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(Sn(v,""),a.flags&=-33);var T=Rd(t);Ec(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,H=Rd(t);Id(t,H,I);break;default:throw Error(s(161))}}catch(X){We(t,t.return,X)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;y_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Sr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)f_(t,r.alternate,r),r=r.sibling}function Hs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ar(4,r,r.return),Hs(r);break;case 1:ci(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&o_(r,r.return,a),Hs(r);break;case 27:Rl(r.stateNode);case 26:case 5:ci(r,r.return),Hs(r);break;case 22:r.memoizedState===null&&Hs(r);break;case 30:Hs(r);break;default:Hs(r)}t=t.sibling}}function Rr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,v=d.flags;switch(d.tag){case 0:case 11:case 15:Rr(h,d,a),gl(4,d);break;case 1:if(Rr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){We(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Kg(I[h],T)}catch(H){We(l,l.return,H)}}a&&v&64&&a_(d),yl(d,d.return);break;case 27:c_(d);case 26:case 5:Rr(h,d,a),a&&l===null&&v&4&&l_(d),yl(d,d.return);break;case 12:Rr(h,d,a);break;case 13:Rr(h,d,a),a&&v&4&&p_(h,d);break;case 22:d.memoizedState===null&&Rr(h,d,a),yl(d,d.return);break;case 30:break;default:Rr(h,d,a)}r=r.sibling}}function Nd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function Dd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t))}function hi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)__(t,r,a,l),r=r.sibling}function __(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:hi(t,r,a,l),h&2048&&gl(9,r);break;case 1:hi(t,r,a,l);break;case 3:hi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){hi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(r,r.return,I)}}else hi(t,r,a,l);break;case 13:hi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,v=r.alternate,r.memoizedState!==null?d._visibility&2?hi(t,r,a,l):_l(t,r):d._visibility&2?hi(t,r,a,l):(d._visibility|=2,La(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Nd(v,r);break;case 24:hi(t,r,a,l),h&2048&&Dd(r.alternate,r);break;default:hi(t,r,a,l)}}function La(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,v=r,T=a,I=l,H=v.flags;switch(v.tag){case 0:case 11:case 15:La(d,v,T,I,h),gl(8,v);break;case 23:break;case 22:var X=v.stateNode;v.memoizedState!==null?X._visibility&2?La(d,v,T,I,h):_l(d,v):(X._visibility|=2,La(d,v,T,I,h)),h&&H&2048&&Nd(v.alternate,v);break;case 24:La(d,v,T,I,h),h&&H&2048&&Dd(v.alternate,v);break;default:La(d,v,T,I,h)}r=r.sibling}}function _l(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:_l(a,l),h&2048&&Nd(l.alternate,l);break;case 24:_l(a,l),h&2048&&Dd(l.alternate,l);break;default:_l(a,l)}r=r.sibling}}var vl=8192;function ja(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)v_(t),t=t.sibling}function v_(t){switch(t.tag){case 26:ja(t),t.flags&vl&&t.memoizedState!==null&&OA(Fn,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var r=Fn;Fn=Mc(t.stateNode.containerInfo),ja(t),Fn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=vl,vl=16777216,ja(t),vl=r):ja(t));break;default:ja(t)}}function E_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function El(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,b_(l,t)}E_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&Ar(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Tc(t)):El(t);break;default:El(t)}}function Tc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ot=l,b_(l,t)}E_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ar(8,r,r.return),Tc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Tc(r));break;default:Tc(r)}t=t.sibling}}function b_(t,r){for(;Ot!==null;){var a=Ot;switch(a.tag){case 0:case 11:case 15:Ar(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ot=l;else e:for(a=t;Ot!==null;){l=Ot;var h=l.sibling,d=l.return;if(d_(l),l===a){Ot=null;break e}if(h!==null){h.return=d,Ot=h;break e}Ot=d}}}var $w={getCacheForType:function(t){var r=Kt(At),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Yw=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,De=null,Ue=0,Ke=0,vn=null,Ir=!1,za=!1,Od=!1,Ki=0,ut=0,Cr=0,Fs=0,Md=0,kn=0,Ba=0,Tl=null,ln=null,kd=!1,Vd=0,bc=1/0,wc=null,xr=null,jt=0,Nr=null,qa=null,Ha=0,Pd=0,Ud=null,w_=null,bl=0,Ld=null;function En(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Y.T!==null){var t=Na;return t!==0?t:Gd()}return hr()}function A_(){kn===0&&(kn=(Ue&536870912)===0||Be?Do():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),kn}function Tn(t,r,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Fa(t,0),Dr(t,Ue,kn,!1)),Ai(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(Fs|=a),ut===4&&Dr(t,Ue,kn,!1)),fi(t))}function S_(t,r,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||gs(t,r),h=l?Zw(t,r):Bd(t,r,!0),d=l;do{if(h===0){za&&!l&&Dr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!Xw(a)){h=Bd(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;e:{var T=t;h=Tl;var I=T.current.memoizedState.isDehydrated;if(I&&(Fa(T,v).flags|=256),v=Bd(T,v,!1),v!==2){if(Od&&!I){T.errorRecoveryDisabledLanes|=d,Fs|=d,h=4;break e}d=ln,ln=h,d!==null&&(ln===null?ln=d:ln.push.apply(ln,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),Dr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Dr(l,r,kn,!Ir);break e;case 2:ln=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=Vd+300-wn(),10<h)){if(Dr(l,r,kn,!Ir),oa(l,0,!0)!==0)break e;l.timeoutHandle=ev(R_.bind(null,l,a,ln,wc,kd,r,kn,Fs,Ba,Ir,d,2,-0,0),h);break e}R_(l,a,ln,wc,kd,r,kn,Fs,Ba,Ir,d,0,-0,0)}}break}while(!0);fi(t)}function R_(t,r,a,l,h,d,v,T,I,H,X,J,F,G){if(t.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:DA},v_(r),J=MA(),J!==null)){t.cancelPendingCommit=J(M_.bind(null,t,r,d,a,l,h,v,T,I,X,1,F,G)),Dr(t,d,v,!H);return}M_(t,r,d,a,l,h,v,T,I)}function Xw(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Dr(t,r,a,l){r&=~Md,r&=~Fs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Wn(t,a,r)}function Ac(){return(Ge&6)===0?(wl(0),!1):!0}function jd(){if(De!==null){if(Ke===0)var t=De.return;else t=De,Li=Ls=null,nd(t),Pa=null,dl=0,t=De;for(;t!==null;)s_(t.alternate,t),t=t.return;De=null}}function Fa(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,mA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),jd(),Je=t,De=a=Vi(t.current,null),Ue=r,Ke=0,vn=null,Ir=!1,za=gs(t,r),Od=!1,Ba=kn=Md=Fs=Cr=ut=0,ln=Tl=null,kd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Gt(l),d=1<<h;r|=t[h],l&=~d}return Ki=r,Ku(),a}function I_(t,r){Ie=null,Y.H=hc,r===rl||r===tc?(r=Fg(),Ke=3):r===Bg?(r=Fg(),Ke=4):Ke=r===Gy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,vn=r,De===null&&(ut=1,gc(t,xn(r,t.current)))}function C_(){var t=Y.H;return Y.H=hc,t===null?hc:t}function x_(){var t=Y.A;return Y.A=$w,t}function zd(){ut=4,Ir||(Ue&4194048)!==Ue&&Mn.current!==null||(za=!0),(Cr&134217727)===0&&(Fs&134217727)===0||Je===null||Dr(Je,Ue,kn,!1)}function Bd(t,r,a){var l=Ge;Ge|=2;var h=C_(),d=x_();(Je!==t||Ue!==r)&&(wc=null,Fa(t,r)),r=!1;var v=ut;e:do try{if(Ke!==0&&De!==null){var T=De,I=vn;switch(Ke){case 8:jd(),v=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var H=Ke;if(Ke=0,vn=null,Ga(t,T,I,H),a&&za){v=0;break e}break;default:H=Ke,Ke=0,vn=null,Ga(t,T,I,H)}}Ww(),v=ut;break}catch(X){I_(t,X)}while(!0);return r&&t.shellSuspendCounter++,Li=Ls=null,Ge=l,Y.H=h,Y.A=d,De===null&&(Je=null,Ue=0,Ku()),v}function Ww(){for(;De!==null;)N_(De)}function Zw(t,r){var a=Ge;Ge|=2;var l=C_(),h=x_();Je!==t||Ue!==r?(wc=null,bc=wn()+500,Fa(t,r)):za=gs(t,r);e:do try{if(Ke!==0&&De!==null){r=De;var d=vn;t:switch(Ke){case 1:Ke=0,vn=null,Ga(t,r,d,1);break;case 2:case 9:if(qg(d)){Ke=0,vn=null,D_(r);break}r=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),fi(t)},d.then(r,r);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:qg(d)?(Ke=0,vn=null,D_(r)):(Ke=0,vn=null,Ga(t,r,d,7));break;case 5:var v=null;switch(De.tag){case 26:v=De.memoizedState;case 5:case 27:var T=De;if(!v||fv(v)){Ke=0,vn=null;var I=T.sibling;if(I!==null)De=I;else{var H=T.return;H!==null?(De=H,Sc(H)):De=null}break t}}Ke=0,vn=null,Ga(t,r,d,5);break;case 6:Ke=0,vn=null,Ga(t,r,d,6);break;case 8:jd(),ut=6;break e;default:throw Error(s(462))}}Jw();break}catch(X){I_(t,X)}while(!0);return Li=Ls=null,Y.H=l,Y.A=h,Ge=a,De!==null?0:(Je=null,Ue=0,Ku(),ut)}function Jw(){for(;De!==null&&!Io();)N_(De)}function N_(t){var r=i_(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,r===null?Sc(t):De=r}function D_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=Wy(a,r,r.pendingProps,r.type,void 0,Ue);break;case 11:r=Wy(a,r,r.pendingProps,r.type.render,r.ref,Ue);break;case 5:nd(r);default:s_(a,r),r=De=Og(r,Ki),r=i_(a,r,Ki)}t.memoizedProps=t.pendingProps,r===null?Sc(t):De=r}function Ga(t,r,a,l){Li=Ls=null,nd(r),Pa=null,dl=0;var h=r.return;try{if(qw(t,h,r,a,Ue)){ut=1,gc(t,xn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ut=1,gc(t,xn(a,t.current)),De=null;return}r.flags&32768?(Be||l===1?t=!0:za||(Ue&536870912)!==0?t=!1:(Ir=t=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),O_(r,t)):Sc(r)}function Sc(t){var r=t;do{if((r.flags&32768)!==0){O_(r,Ir);return}t=r.return;var a=Fw(r.alternate,r,Ki);if(a!==null){De=a;return}if(r=r.sibling,r!==null){De=r;return}De=r=t}while(r!==null);ut===0&&(ut=5)}function O_(t,r){do{var a=Gw(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ut=6,De=null}function M_(t,r,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Rc();while(jt!==0);if((Ge&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Df,Mo(t,a,d,v,T,I),t===Je&&(De=Je=null,Ue=0),qa=r,Nr=t,Ha=a,Pd=d,Ud=h,w_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,iA(fs,function(){return L_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{Kw(t,r,a)}finally{Ge=v,ae.p=h,Y.T=l}}jt=1,k_(),V_(),P_()}}function k_(){if(jt===1){jt=0;var t=Nr,r=qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{g_(r,t);var d=Jd,v=bg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Tg(T.ownerDocument.documentElement,T)){if(I!==null&&Rf(T)){var H=I.start,X=I.end;if(X===void 0&&(X=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(X,T.value.length);else{var J=T.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),Ee=T.textContent.length,ye=Math.min(I.start,Ee),Xe=I.end===void 0?ye:Math.min(I.end,Ee);!G.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var U=Eg(T,ye),k=Eg(T,Xe);if(U&&k&&(G.rangeCount!==1||G.anchorNode!==U.node||G.anchorOffset!==U.offset||G.focusNode!==k.node||G.focusOffset!==k.offset)){var q=J.createRange();q.setStart(U.node,U.offset),G.removeAllRanges(),ye>Xe?(G.addRange(q),G.extend(k.node,k.offset)):(q.setEnd(k.node,k.offset),G.addRange(q))}}}}for(J=[],G=T;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<J.length;T++){var W=J[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Lc=!!Zd,Jd=Zd=null}finally{Ge=h,ae.p=l,Y.T=a}}t.current=r,jt=2}}function V_(){if(jt===2){jt=0;var t=Nr,r=qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{f_(t,r.alternate,r)}finally{Ge=h,ae.p=l,Y.T=a}}jt=3}}function P_(){if(jt===4||jt===3){jt=0,Tu();var t=Nr,r=qa,a=Ha,l=w_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?jt=5:(jt=0,qa=Nr=null,U_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(xr=null),la(a),r=r.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=Y.T,h=ae.p,ae.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Y.T=r,ae.p=h}}(Ha&3)!==0&&Rc(),fi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ld?bl++:(bl=0,Ld=t):bl=0,wl(0)}}function U_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,nl(r)))}function Rc(t){return k_(),V_(),P_(),L_()}function L_(){if(jt!==5)return!1;var t=Nr,r=Pd;Pd=0;var a=la(Ha),l=Y.T,h=ae.p;try{ae.p=32>a?32:a,Y.T=null,a=Ud,Ud=null;var d=Nr,v=Ha;if(jt=0,qa=Nr=null,Ha=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,T_(d.current),__(d,d.current,v,a),Ge=T,wl(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,Y.T=l,U_(t,r)}}function j_(t,r,a){r=xn(a,r),r=gd(t.stateNode,r,2),t=Er(t,r,2),t!==null&&(Ai(t,2),fi(t))}function We(t,r,a){if(t.tag===3)j_(t,t,a);else for(;r!==null;){if(r.tag===3){j_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(xr===null||!xr.has(l))){t=xn(a,t),a=Hy(2),l=Er(r,a,2),l!==null&&(Fy(a,l,r,t),Ai(l,2),fi(l));break}}r=r.return}}function qd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Yw;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Od=!0,h.add(a),t=eA.bind(null,t,r,a),r.then(t,t))}function eA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ut===4||ut===3&&(Ue&62914560)===Ue&&300>wn()-Vd?(Ge&2)===0&&Fa(t,0):Md|=a,Ba===Ue&&(Ba=0)),fi(t)}function z_(t,r){r===0&&(r=Oo()),t=Ra(t,r),t!==null&&(Ai(t,r),fi(t))}function tA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),z_(t,a)}function nA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),z_(t,a)}function iA(t,r){return cs(t,r)}var Ic=null,Ka=null,Hd=!1,Cc=!1,Fd=!1,Gs=0;function fi(t){t!==Ka&&t.next===null&&(Ka===null?Ic=Ka=t:Ka=Ka.next=t),Cc=!0,Hd||(Hd=!0,sA())}function wl(t,r){if(!Fd&&Cc){Fd=!0;do for(var a=!1,l=Ic;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,F_(l,d))}else d=Ue,d=oa(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||gs(l,d)||(a=!0,F_(l,d));l=l.next}while(a);Fd=!1}}function rA(){B_()}function B_(){Cc=Hd=!1;var t=0;Gs!==0&&(dA()&&(t=Gs),Gs=0);for(var r=wn(),a=null,l=Ic;l!==null;){var h=l.next,d=q_(l,r);d===0?(l.next=null,a===null?Ic=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Cc=!0)),l=h}wl(t)}function q_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=No(T,r)):I<=r&&(t.expiredLanes|=T),d&=~T}if(r=Je,a=Ue,a=oa(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&hs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||gs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&hs(l),la(a)){case 2:case 8:a=sa;break;case 32:a=fs;break;case 268435456:a=aa;break;default:a=fs}return l=H_.bind(null,t),a=cs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&hs(l),t.callbackPriority=2,t.callbackNode=null,2}function H_(t,r){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Rc()&&t.callbackNode!==a)return null;var l=Ue;return l=oa(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(S_(t,l,r),q_(t,wn()),t.callbackNode!=null&&t.callbackNode===a?H_.bind(null,t):null)}function F_(t,r){if(Rc())return null;S_(t,r,!0)}function sA(){pA(function(){(Ge&6)!==0?cs(Co,rA):B_()})}function Gd(){return Gs===0&&(Gs=Do()),Gs}function G_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ma(""+t)}function K_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function aA(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=G_((h[mt]||null).action),v=l.submitter;v&&(r=(r=v[mt]||null)?G_(r.formAction):v.getAttribute("formAction"),r!==null&&(d=r,v=null));var T=new pa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Gs!==0){var I=v?K_(h,v):new FormData(h);hd(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?K_(h,v):new FormData(h),hd(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Kd=0;Kd<Nf.length;Kd++){var Qd=Nf[Kd],oA=Qd.toLowerCase(),lA=Qd[0].toUpperCase()+Qd.slice(1);Hn(oA,"on"+lA)}Hn(Sg,"onAnimationEnd"),Hn(Rg,"onAnimationIteration"),Hn(Ig,"onAnimationStart"),Hn("dblclick","onDoubleClick"),Hn("focusin","onFocus"),Hn("focusout","onBlur"),Hn(Sw,"onTransitionRun"),Hn(Rw,"onTransitionStart"),Hn(Iw,"onTransitionCancel"),Hn(Cg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Al="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Al));function Q_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,H=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){pc(X)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,H=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(X){pc(X)}h.currentTarget=null,d=I}}}}function Oe(t,r){var a=r[Vo];a===void 0&&(a=r[Vo]=new Set);var l=t+"__bubble";a.has(l)||($_(r,t,2,!1),a.add(l))}function $d(t,r,a){var l=0;r&&(l|=4),$_(a,t,l,r)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[xc]){t[xc]=!0,Po.forEach(function(a){a!=="selectionchange"&&(uA.has(a)||$d(a,!1,t),$d(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[xc]||(r[xc]=!0,$d("selectionchange",!1,r))}}function $_(t,r,a,l){switch(_v(r)){case 2:var h=PA;break;case 8:h=UA;break;default:h=um}a=h.bind(null,r,a,t),h=void 0,!In||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function Xd(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=Si(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}Du(function(){var H=d,X=Rn(a),J=[];e:{var F=xg.get(t);if(F!==void 0){var G=pa,Ee=t;switch(t){case"keypress":if(ii(a)===0)break e;case"keydown":case"keyup":G=Ta;break;case"focusin":Ee="focus",G=_a;break;case"focusout":Ee="blur",G=_a;break;case"beforeblur":case"afterblur":G=_a;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=ju;break;case Sg:case Rg:case Ig:G=va;break;case Cg:G=Bu;break;case"scroll":case"scrollend":G=Ou;break;case"wheel":G=ba;break;case"copy":case"cut":case"paste":G=Ea;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$o;break;case"toggle":case"beforetoggle":G=Hu}var ye=(r&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),U=ye?F!==null?F+"Capture":null:F;ye=[];for(var k=H,q;k!==null;){var W=k;if(q=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||q===null||U===null||(W=As(k,U),W!=null&&ye.push(Sl(k,W,q))),Xe)break;k=k.return}0<ye.length&&(F=new G(F,Ee,null,a,X),J.push({event:F,listeners:ye}))}}if((r&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",G=t==="mouseout"||t==="pointerout",F&&a!==xi&&(Ee=a.relatedTarget||a.fromElement)&&(Si(Ee)||Ee[An]))break e;if((G||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Ee=a.relatedTarget||a.toElement,G=H,Ee=Ee?Si(Ee):null,Ee!==null&&(Xe=u(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(G=null,Ee=H),G!==Ee)){if(ye=Cn,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(ye=$o,W="onPointerLeave",U="onPointerEnter",k="pointer"),Xe=G==null?F:Jn(G),q=Ee==null?F:Jn(Ee),F=new ye(W,k+"leave",G,a,X),F.target=Xe,F.relatedTarget=q,W=null,Si(X)===H&&(ye=new ye(U,k+"enter",Ee,a,X),ye.target=q,ye.relatedTarget=Xe,W=ye),Xe=W,G&&Ee)t:{for(ye=G,U=Ee,k=0,q=ye;q;q=Qa(q))k++;for(q=0,W=U;W;W=Qa(W))q++;for(;0<k-q;)ye=Qa(ye),k--;for(;0<q-k;)U=Qa(U),q--;for(;k--;){if(ye===U||U!==null&&ye===U.alternate)break t;ye=Qa(ye),U=Qa(U)}ye=null}else ye=null;G!==null&&Y_(J,F,G,ye,!1),Ee!==null&&Xe!==null&&Y_(J,Xe,Ee,ye,!0)}}e:{if(F=H?Jn(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var ce=mg;else if(wt(F))if(pg)ce=bw;else{ce=Ew;var Ne=vw}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&Bo(H.elementType)&&(ce=mg):ce=Tw;if(ce&&(ce=ce(t,H))){ki(J,ce,a,X);break e}Ne&&Ne(t,F,H),t==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&pr(F,"number",F.value)}switch(Ne=H?Jn(H):window,t){case"focusin":(wt(Ne)||Ne.contentEditable==="true")&&(wa=Ne,If=H,Wo=null);break;case"focusout":Wo=If=wa=null;break;case"mousedown":Cf=!0;break;case"contextmenu":case"mouseup":case"dragend":Cf=!1,wg(J,a,X);break;case"selectionchange":if(Aw)break;case"keydown":case"keyup":wg(J,a,X)}var de;if(ai)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?K(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(de=Ho()):(ni=X,gr="value"in ni?ni.value:ni.textContent,Ve=!0)),Ne=Nc(H,_e),0<Ne.length&&(_e=new Ko(_e,t,null,a,X),J.push({event:_e,listeners:Ne}),de?_e.data=de:(de=se(a),de!==null&&(_e.data=de)))),(de=y?bt(t,a):Pe(t,a))&&(_e=Nc(H,"onBeforeInput"),0<_e.length&&(Ne=new Ko("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:_e}),Ne.data=de)),aA(J,t,H,a,X)}Q_(J,r)})}function Sl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Nc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=As(t,r),h!=null&&l.push(Sl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Y_(t,r,a,l,h){for(var d=r._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,H=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||H===null||(I=H,h?(H=As(a,d),H!=null&&v.unshift(Sl(a,H,I))):h||(H=As(a,d),H!=null&&v.push(Sl(a,H,I)))),a=a.return}v.length!==0&&t.push({event:r,listeners:v})}var cA=/\r\n?/g,hA=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(cA,`
`).replace(hA,"")}function W_(t,r){return r=X_(r),X_(t)===r}function Dc(){}function Ye(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Sn(t,""+l);break;case"className":ei(t,"class",l);break;case"tabIndex":ei(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ei(t,a,l);break;case"style":zo(t,l,d);break;case"data":if(r!=="object"){ei(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ye(t,r,"name",h.name,h,null),Ye(t,r,"formEncType",h.formEncType,h,null),Ye(t,r,"formMethod",h.formMethod,h,null),Ye(t,r,"formTarget",h.formTarget,h,null)):(Ye(t,r,"encType",h.encType,h,null),Ye(t,r,"method",h.method,h,null),Ye(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),mr(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":mr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ef.get(a)||a,mr(t,a,l))}}function Wd(t,r,a,l,h,d){switch(a){case"style":zo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Sn(t,l):(typeof l=="number"||typeof l=="bigint")&&Sn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):mr(t,a,l)}}}function zt(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,d,v,a,null)}}h&&Ye(t,r,"srcSet",a.srcSet,a,null),l&&Ye(t,r,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":v=X;break;case"checked":I=X;break;case"defaultChecked":H=X;break;case"value":d=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,r));break;default:Ye(t,r,l,X,a,null)}}Ts(t,d,T,I,H,v,h,!1),da(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:Ye(t,r,h,T,a,null)}r=d,a=v,t.multiple=!!l,r!=null?Ci(t,!!l,r,!1):a!=null&&Ci(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ye(t,r,v,T,a,null)}bs(t,l,h,d),da(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ye(t,r,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<Al.length;l++)Oe(Al[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ye(t,r,H,l,a,null)}return;default:if(Bo(r)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Wd(t,r,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ye(t,r,T,l,a,null))}function fA(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,H=null,X=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(G)||Ye(t,r,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":h=G;break;case"checked":H=G;break;case"defaultChecked":X=G;break;case"value":v=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&Ye(t,r,F,G,l,J)}}mn(t,v,T,I,H,X,d,h);return;case"select":G=v=T=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||Ye(t,r,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&Ye(t,r,h,d,l,I)}r=T,a=v,l=G,F!=null?Ci(t,!!a,F,!1):!!l!=!!a&&(r!=null?Ci(t,!!a,r,!0):Ci(t,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ye(t,r,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":G=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ye(t,r,v,h,l,d)}Qe(t,F,G);return;case"option":for(var Ee in a)if(F=a[Ee],a.hasOwnProperty(Ee)&&F!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ye(t,r,Ee,null,l,F)}for(I in l)if(F=l[I],G=a[I],l.hasOwnProperty(I)&&F!==G&&(F!=null||G!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ye(t,r,I,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&Ye(t,r,ye,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Ye(t,r,H,F,l,G)}return;default:if(Bo(r)){for(var Xe in a)F=a[Xe],a.hasOwnProperty(Xe)&&F!==void 0&&!l.hasOwnProperty(Xe)&&Wd(t,r,Xe,void 0,l,F);for(X in l)F=l[X],G=a[X],!l.hasOwnProperty(X)||F===G||F===void 0&&G===void 0||Wd(t,r,X,F,l,G);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Ye(t,r,U,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Ye(t,r,J,F,l,G)}var Zd=null,Jd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function J_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function em(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var tm=null;function dA(){var t=window.event;return t&&t.type==="popstate"?t===tm?!1:(tm=t,!0):(tm=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,mA=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,pA=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(gA)}:ev;function gA(t){setTimeout(function(){throw t})}function Or(t){return t==="head"}function nv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Rl(v.documentElement),a&2&&Rl(v.body),a&4)for(a=v.head,Rl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ys]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),kl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);kl(r)}function nm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":nm(a),dr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function yA(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ys])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function _A(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function im(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function vA(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var rm=null;function iv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function rv(t,r,a){switch(r=Oc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Rl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);dr(t)}var Vn=new Map,sv=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Qi=ae.d;ae.d={f:EA,r:TA,D:bA,C:wA,L:AA,m:SA,X:IA,S:RA,M:CA};function EA(){var t=Qi.f(),r=Ac();return t||r}function TA(t){var r=Zn(t);r!==null&&r.tag===5&&r.type==="form"?Sy(r):Qi.r(t)}var $a=typeof document>"u"?null:document;function av(t,r,a){var l=$a;if(l&&typeof r=="string"&&r){var h=pt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),sv.has(h)||(sv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function bA(t){Qi.D(t),av("dns-prefetch",t,null)}function wA(t,r){Qi.C(t,r),av("preconnect",t,r)}function AA(t,r,a){Qi.L(t,r,a);var l=$a;if(l&&t&&r){var h='link[rel="preload"][as="'+pt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(r){case"style":d=Ya(t);break;case"script":d=Xa(t)}Vn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Vn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Il(d))||r==="script"&&l.querySelector(Cl(d))||(r=l.createElement("link"),zt(r,"link",t),ct(r),l.head.appendChild(r)))}}function SA(t,r){Qi.m(t,r);var a=$a;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Xa(t)}if(!Vn.has(d)&&(t=E({rel:"modulepreload",href:t},r),Vn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),zt(l,"link",t),ct(l),a.head.appendChild(l)}}}function RA(t,r,a){Qi.S(t,r,a);var l=$a;if(l&&t){var h=en(l).hoistableStyles,d=Ya(t);r=r||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(Il(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Vn.get(d))&&sm(t,a);var I=v=l.createElement("link");ct(I),zt(I,"link",t),I._p=new Promise(function(H,X){I.onload=H,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,kc(v,r,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function IA(t,r){Qi.X(t,r);var a=$a;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0},r),(r=Vn.get(h))&&am(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function CA(t,r){Qi.M(t,r);var a=$a;if(a&&t){var l=en(a).hoistableScripts,h=Xa(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=E({src:t,async:!0,type:"module"},r),(r=Vn.get(h))&&am(t,r),d=a.createElement("script"),ct(d),zt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function ov(t,r,a,l){var h=(h=be.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Ya(a.href),a=en(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ya(a.href);var d=en(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),d||xA(h,t,a,v.state))),r&&l===null)throw Error(s(528,""));return v}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Xa(a),a=en(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ya(t){return'href="'+pt(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function lv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function xA(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),zt(r,"link",a),ct(r),t.head.appendChild(r))}function Xa(t){return'[src="'+pt(t)+'"]'}function Cl(t){return"script[async]"+t}function uv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return r.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),zt(l,"style",h),kc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Ya(a.href);var d=t.querySelector(Il(h));if(d)return r.state.loading|=4,r.instance=d,ct(d),d;l=lv(a),(h=Vn.get(h))&&sm(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",l),r.state.loading|=4,kc(d,a.precedence,t),r.instance=d;case"script":return d=Xa(a.src),(h=t.querySelector(Cl(d)))?(r.instance=h,ct(h),h):(l=a,(h=Vn.get(d))&&(l=E({},a),am(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),zt(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,kc(l,a.precedence,t));return r.instance}function kc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function sm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function am(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Vc=null;function cv(t,r,a){if(Vc===null){var l=new Map,h=Vc=new Map;h.set(a,l)}else h=Vc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ys]||d[Tt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(r)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function hv(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function NA(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function fv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var xl=null;function DA(){}function OA(t,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Ya(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Pc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,ct(d);return}d=t.ownerDocument||t,a=lv(a),(h=Vn.get(h))&&sm(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),zt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Pc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function MA(){if(xl===null)throw Error(s(475));var t=xl;return t.stylesheets&&t.count===0&&om(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&om(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Pc(){if(this.count--,this.count===0){if(this.stylesheets)om(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Uc=null;function om(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Uc=new Map,r.forEach(kA,t),Uc=null,Pc.call(t))}function kA(t,r){if(!(r.state.loading&4)){var a=Uc.get(t);if(a)var l=a.get(null);else{a=new Map,Uc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=r.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Pc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Nl={$$typeof:ne,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function VA(t,r,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function dv(t,r,a,l,h,d,v,T,I,H,X,J){return t=new VA(t,r,a,v,T,I,H,J),r=1,d===!0&&(r|=24),d=gn(3,null,null,r),t.current=d,d.stateNode=t,r=qf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Kf(d),t}function mv(t){return t?(t=Ia,t):Ia}function pv(t,r,a,l,h,d){h=mv(h),l.context===null?l.context=h:l.pendingContext=h,l=vr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Er(t,l,r),a!==null&&(Tn(a,t,r),al(a,t,r))}function gv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function lm(t,r){gv(t,r),(t=t.alternate)&&gv(t,r)}function yv(t){if(t.tag===13){var r=Ra(t,67108864);r!==null&&Tn(r,t,67108864),lm(t,67108864)}}var Lc=!0;function PA(t,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=2,um(t,r,a,l)}finally{ae.p=d,Y.T=h}}function UA(t,r,a,l){var h=Y.T;Y.T=null;var d=ae.p;try{ae.p=8,um(t,r,a,l)}finally{ae.p=d,Y.T=h}}function um(t,r,a,l){if(Lc){var h=cm(l);if(h===null)Xd(t,r,l,jc,a),vv(t,l);else if(jA(h,t,r,a,l))l.stopPropagation();else if(vv(t,l),r&4&&-1<LA.indexOf(t)){for(;h!==null;){var d=Zn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=zn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}fi(d),(Ge&6)===0&&(bc=wn()+500,wl(0))}}break;case 13:T=Ra(d,2),T!==null&&Tn(T,d,2),Ac(),lm(d,2)}if(d=cm(l),d===null&&Xd(t,r,l,jc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Xd(t,r,l,null,a)}}function cm(t){return t=Rn(t),hm(t)}var jc=null;function hm(t){if(jc=null,t=Si(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return jc=t,null}function _v(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mf()){case Co:return 2;case sa:return 8;case fs:case pf:return 32;case aa:return 268435456;default:return 32}default:return 32}}var fm=!1,Mr=null,kr=null,Vr=null,Dl=new Map,Ol=new Map,Pr=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vv(t,r){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Vr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(r.pointerId)}}function Ml(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=Zn(r),r!==null&&yv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function jA(t,r,a,l,h){switch(r){case"focusin":return Mr=Ml(Mr,t,r,a,l,h),!0;case"dragenter":return kr=Ml(kr,t,r,a,l,h),!0;case"mouseover":return Vr=Ml(Vr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,r,a,l,h)),!0}return!1}function Ev(t){var r=Si(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Au(t.priority,function(){if(a.tag===13){var l=En();l=cr(l);var h=Ra(a,l);h!==null&&Tn(h,a,l),lm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=cm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xi=l,a.target.dispatchEvent(l),xi=null}else return r=Zn(a),r!==null&&yv(r),t.blockedOn=a,!1;r.shift()}return!0}function Tv(t,r,a){zc(t)&&a.delete(r)}function zA(){fm=!1,Mr!==null&&zc(Mr)&&(Mr=null),kr!==null&&zc(kr)&&(kr=null),Vr!==null&&zc(Vr)&&(Vr=null),Dl.forEach(Tv),Ol.forEach(Tv)}function Bc(t,r){t.blockedOn===r&&(t.blockedOn=null,fm||(fm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zA)))}var qc=null;function bv(t){qc!==t&&(qc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){qc===t&&(qc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(hm(l||a)===null)continue;break}var d=Zn(a);d!==null&&(t.splice(r,3),r-=3,hd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(t){function r(I){return Bc(I,t)}Mr!==null&&Bc(Mr,t),kr!==null&&Bc(kr,t),Vr!==null&&Bc(Vr,t),Dl.forEach(r),Ol.forEach(r);for(var a=0;a<Pr.length;a++){var l=Pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Pr.length&&(a=Pr[0],a.blockedOn===null);)Ev(a),a.blockedOn===null&&Pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||bv(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(hm(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),bv(a)}}}function dm(t){this._internalRoot=t}Hc.prototype.render=dm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=En();pv(a,l,t,r,null,null)},Hc.prototype.unmount=dm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;pv(t.current,2,null,t,null,null),Ac(),r[An]=null}};function Hc(t){this._internalRoot=t}Hc.prototype.unstable_scheduleHydration=function(t){if(t){var r=hr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Pr.length&&r!==0&&r<Pr[a].priority;a++);Pr.splice(a,0,t),a===0&&Ev(t)}};var wv=e.version;if(wv!=="19.1.0")throw Error(s(527,wv,"19.1.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var BA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{ot=Fc.inject(BA),Fe=Fc}catch{}}return Pl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=jy,d=zy,v=By,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=dv(t,1,!1,null,null,a,l,h,d,v,T,null),t[An]=r.current,Yd(t),new dm(r)},Pl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=jy,v=zy,T=By,I=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=dv(t,1,!0,r,a??null,l,h,d,v,T,I,H),r.context=mv(null),a=r.current,l=En(),l=cr(l),h=vr(l),h.callback=null,Er(a,h,l),a=l,r.current.lanes=a,Ai(r,a),fi(r),t[An]=r.current,Yd(t),new Hc(r)},Pl.version="19.1.0",Pl}var kv;function ZA(){if(kv)return gm.exports;kv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),gm.exports=WA(),gm.exports}var JA=ZA(),Ul={},Vv;function eS(){if(Vv)return Ul;Vv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const A=function(){};return A.prototype=Object.create(null),A})();function f(A,O){const x=new u,$=A.length;if($<2)return x;const j=(O==null?void 0:O.decode)||E;let Q=0;do{const Z=A.indexOf("=",Q);if(Z===-1)break;const ne=A.indexOf(";",Q),fe=ne===-1?$:ne;if(Z>fe){Q=A.lastIndexOf(";",Z-1)+1;continue}const he=m(A,Q,Z),Se=p(A,Z,he),V=A.slice(he,Se);if(x[V]===void 0){let S=m(A,Z+1,fe),R=p(A,fe,S);const M=j(A.slice(S,R));x[V]=M}Q=fe+1}while(Q<$);return x}function m(A,O,x){do{const $=A.charCodeAt(O);if($!==32&&$!==9)return O}while(++O<x);return x}function p(A,O,x){for(;O>x;){const $=A.charCodeAt(--O);if($!==32&&$!==9)return O+1}return x}function g(A,O,x){const $=(x==null?void 0:x.encode)||encodeURIComponent;if(!i.test(A))throw new TypeError(`argument name is invalid: ${A}`);const j=$(O);if(!e.test(j))throw new TypeError(`argument val is invalid: ${O}`);let Q=A+"="+j;if(!x)return Q;if(x.maxAge!==void 0){if(!Number.isInteger(x.maxAge))throw new TypeError(`option maxAge is invalid: ${x.maxAge}`);Q+="; Max-Age="+x.maxAge}if(x.domain){if(!n.test(x.domain))throw new TypeError(`option domain is invalid: ${x.domain}`);Q+="; Domain="+x.domain}if(x.path){if(!s.test(x.path))throw new TypeError(`option path is invalid: ${x.path}`);Q+="; Path="+x.path}if(x.expires){if(!w(x.expires)||!Number.isFinite(x.expires.valueOf()))throw new TypeError(`option expires is invalid: ${x.expires}`);Q+="; Expires="+x.expires.toUTCString()}if(x.httpOnly&&(Q+="; HttpOnly"),x.secure&&(Q+="; Secure"),x.partitioned&&(Q+="; Partitioned"),x.priority)switch(typeof x.priority=="string"?x.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${x.priority}`)}if(x.sameSite)switch(typeof x.sameSite=="string"?x.sameSite.toLowerCase():x.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${x.sameSite}`)}return Q}function E(A){if(A.indexOf("%")===-1)return A;try{return decodeURIComponent(A)}catch{return A}}function w(A){return o.call(A)==="[object Date]"}return Ul}eS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Pv="popstate";function tS(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return km("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return iS(e,n,null,i)}function rt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function _i(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nS(){return Math.random().toString(36).substring(2,10)}function Uv(i,e){return{usr:i.state,key:i.key,idx:e}}function km(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||nS()}}function Wl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function go(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function iS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function w(){m="POP";let j=E(),Q=j==null?null:j-g;g=j,p&&p({action:m,location:$.location,delta:Q})}function A(j,Q){m="PUSH";let Z=km($.location,j,Q);g=E()+1;let ne=Uv(Z,g),fe=$.createHref(Z);try{f.pushState(ne,"",fe)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(fe)}u&&p&&p({action:m,location:$.location,delta:1})}function O(j,Q){m="REPLACE";let Z=km($.location,j,Q);g=E();let ne=Uv(Z,g),fe=$.createHref(Z);f.replaceState(ne,"",fe),u&&p&&p({action:m,location:$.location,delta:0})}function x(j){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof j=="string"?j:Wl(j);return Z=Z.replace(/ $/,"%20"),rt(Q,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,Q)}let $={get action(){return m},get location(){return i(o,f)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Pv,w),p=j,()=>{o.removeEventListener(Pv,w),p=null}},createHref(j){return e(o,j)},createURL:x,encodeLocation(j){let Q=x(j);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:A,replace:O,go(j){return f.go(j)}};return $}function wE(i,e,n="/"){return rS(i,e,n,!1)}function rS(i,e,n,s){let o=typeof e=="string"?go(e):e,u=tr(o.pathname||"/",n);if(u==null)return null;let f=AE(i);sS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=gS(u);m=mS(f[p],g,s)}return m}function AE(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),AE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:fS(g,u.index),routesMeta:E})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of SE(u.path))o(u,f,p)}),e}function SE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=SE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function sS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:dS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var aS=/^:[\w-]+$/,oS=3,lS=2,uS=1,cS=10,hS=-2,Lv=i=>i==="*";function fS(i,e){let n=i.split("/"),s=n.length;return n.some(Lv)&&(s+=hS),e&&(s+=lS),n.filter(o=>!Lv(o)).reduce((o,u)=>o+(aS.test(u)?oS:u===""?uS:cS),s)}function dS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function mS(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",w=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),A=p.route;if(!w&&g&&n&&!s[s.length-1].route.index&&(w=fh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!w)return null;Object.assign(o,w.params),f.push({params:o,pathname:Zi([u,w.pathname]),pathnameBase:ES(Zi([u,w.pathnameBase])),route:A}),w.pathnameBase!=="/"&&(u=Zi([u,w.pathnameBase]))}return f}function fh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=pS(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:w},A)=>{if(E==="*"){let x=m[A]||"";f=u.slice(0,u.length-x.length).replace(/(.)\/+$/,"$1")}const O=m[A];return w&&!O?g[E]=void 0:g[E]=(O||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function pS(i,e=!1,n=!0){_i(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function gS(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function tr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function yS(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?go(i):i;return{pathname:n?n.startsWith("/")?n:_S(n,e):e,search:TS(s),hash:bS(o)}}function _S(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Em(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vS(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function RE(i){let e=vS(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function IE(i,e,n,s=!1){let o;typeof i=="string"?o=go(i):(o={...i},rt(!o.pathname||!o.pathname.includes("?"),Em("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Em("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Em("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let w=e.length-1;if(!s&&f.startsWith("..")){let A=f.split("/");for(;A[0]==="..";)A.shift(),w-=1;o.pathname=A.join("/")}m=w>=0?e[w]:"/"}let p=yS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Zi=i=>i.join("/").replace(/\/\/+/g,"/"),ES=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),TS=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,bS=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function wS(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var CE=["POST","PUT","PATCH","DELETE"];new Set(CE);var AS=["GET",...CE];new Set(AS);var yo=z.createContext(null);yo.displayName="DataRouter";var Vh=z.createContext(null);Vh.displayName="DataRouterState";var xE=z.createContext({isTransitioning:!1});xE.displayName="ViewTransition";var SS=z.createContext(new Map);SS.displayName="Fetchers";var RS=z.createContext(null);RS.displayName="Await";var Ei=z.createContext(null);Ei.displayName="Navigation";var ou=z.createContext(null);ou.displayName="Location";var Ti=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var fp=z.createContext(null);fp.displayName="RouteError";function IS(i,{relative:e}={}){rt(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Ei),{hash:o,pathname:u,search:f}=uu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lu(){return z.useContext(ou)!=null}function ns(){return rt(lu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(ou).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DE(i){z.useContext(Ei).static||z.useLayoutEffect(i)}function OE(){let{isDataRoute:i}=z.useContext(Ti);return i?BS():CS()}function CS(){rt(lu(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(yo),{basename:e,navigator:n}=z.useContext(Ei),{matches:s}=z.useContext(Ti),{pathname:o}=ns(),u=JSON.stringify(RE(s)),f=z.useRef(!1);return DE(()=>{f.current=!0}),z.useCallback((p,g={})=>{if(_i(f.current,NE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=IE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function xS(){let{matches:i}=z.useContext(Ti),e=i[i.length-1];return e?e.params:{}}function uu(i,{relative:e}={}){let{matches:n}=z.useContext(Ti),{pathname:s}=ns(),o=JSON.stringify(RE(n));return z.useMemo(()=>IE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function NS(i,e){return ME(i,e)}function ME(i,e,n,s){var Z;rt(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(Ei),{matches:f}=z.useContext(Ti),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",w=m&&m.route;{let ne=w&&w.path||"";kE(g,!w||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let A=ns(),O;if(e){let ne=typeof e=="string"?go(e):e;rt(E==="/"||((Z=ne.pathname)==null?void 0:Z.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),O=ne}else O=A;let x=O.pathname||"/",$=x;if(E!=="/"){let ne=E.replace(/^\//,"").split("/");$="/"+x.replace(/^\//,"").split("/").slice(ne.length).join("/")}let j=!u&&n&&n.matches&&n.matches.length>0?n.matches:wE(i,{pathname:$});_i(w||j!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),_i(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=VS(j&&j.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:Zi([E,o.encodeLocation?o.encodeLocation(ne.pathname).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?E:Zi([E,o.encodeLocation?o.encodeLocation(ne.pathnameBase).pathname:ne.pathnameBase])})),f,n,s);return e&&Q?z.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},Q):Q}function DS(){let i=zS(),e=wS(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var OS=z.createElement(DS,null),MS=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(Ti.Provider,{value:this.props.routeContext},z.createElement(fp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kS({routeContext:i,match:e,children:n}){let s=z.useContext(yo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ti.Provider,{value:i},n)}function VS(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:w}=n,A=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!w||w[g.route.id]===void 0);if(g.route.lazy||A){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let w,A=!1,O=null,x=null;n&&(w=u&&g.route.id?u[g.route.id]:void 0,O=g.route.errorElement||OS,f&&(m<0&&E===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),A=!0,x=null):m===E&&(A=!0,x=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,E+1)),j=()=>{let Q;return w?Q=O:A?Q=x:g.route.Component?Q=z.createElement(g.route.Component,null):g.route.element?Q=g.route.element:Q=p,z.createElement(kS,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:Q})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(MS,{location:n.location,revalidation:n.revalidation,component:O,error:w,children:j(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):j()},null)}function dp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(i){let e=z.useContext(yo);return rt(e,dp(i)),e}function US(i){let e=z.useContext(Vh);return rt(e,dp(i)),e}function LS(i){let e=z.useContext(Ti);return rt(e,dp(i)),e}function mp(i){let e=LS(i),n=e.matches[e.matches.length-1];return rt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function jS(){return mp("useRouteId")}function zS(){var s;let i=z.useContext(fp),e=US("useRouteError"),n=mp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function BS(){let{router:i}=PS("useNavigate"),e=mp("useNavigate"),n=z.useRef(!1);return DE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{_i(n.current,NE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var jv={};function kE(i,e,n){!e&&!jv[i]&&(jv[i]=!0,_i(!1,n))}z.memo(qS);function qS({routes:i,future:e,state:n}){return ME(i,void 0,n,e)}function Ks(i){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HS({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:g="",hash:E="",state:w=null,key:A="default"}=n,O=z.useMemo(()=>{let x=tr(p,f);return x==null?null:{location:{pathname:x,search:g,hash:E,state:w,key:A},navigationType:s}},[f,p,g,E,w,A,s]);return _i(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:z.createElement(Ei.Provider,{value:m},z.createElement(ou.Provider,{children:e,value:O}))}function FS({children:i,location:e}){return NS(Vm(i),e)}function Vm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Vm(s.props.children,u));return}rt(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Vm(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Ph(i){return i!=null&&typeof i.tagName=="string"}function GS(i){return Ph(i)&&i.tagName.toLowerCase()==="button"}function KS(i){return Ph(i)&&i.tagName.toLowerCase()==="form"}function QS(i){return Ph(i)&&i.tagName.toLowerCase()==="input"}function $S(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function YS(i,e){return i.button===0&&(!e||e==="_self")&&!$S(i)}var Gc=null;function XS(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var WS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tm(i){return i!=null&&!WS.has(i)?(_i(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):i}function ZS(i,e){let n,s,o,u,f;if(KS(i)){let m=i.getAttribute("action");s=m?tr(m,e):null,n=i.getAttribute("method")||Jc,o=Tm(i.getAttribute("enctype"))||eh,u=new FormData(i)}else if(GS(i)||QS(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?tr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=Tm(i.getAttribute("formenctype"))||Tm(m.getAttribute("enctype"))||eh,u=new FormData(m,i),!XS()){let{name:g,type:E,value:w}=i;if(E==="image"){let A=g?`${g}.`:"";u.append(`${A}x`,"0"),u.append(`${A}y`,"0")}else g&&u.append(g,w)}}else{if(Ph(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function pp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function JS(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function eR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function tR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await JS(u,n);return f.links?f.links():[]}return[]}));return sR(s.flat(1).filter(eR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function zv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var w;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function nR(i,e,{includeHydrateFallback:n}={}){return iR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function iR(i){return[...new Set(i)]}function rR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function sR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(rR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var aR=new Set([100,101,204,205]);function oR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&tr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function VE(){let i=z.useContext(yo);return pp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function lR(){let i=z.useContext(Vh);return pp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var gp=z.createContext(void 0);gp.displayName="FrameworkContext";function PE(){let i=z.useContext(gp);return pp(i,"You must render this element inside a <HydratedRouter> element"),i}function uR(i,e){let n=z.useContext(gp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:w}=e,A=z.useRef(null);z.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let $=Q=>{Q.forEach(Z=>{f(Z.isIntersecting)})},j=new IntersectionObserver($,{threshold:.5});return A.current&&j.observe(A.current),()=>{j.disconnect()}}},[i]),z.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let O=()=>{o(!0)},x=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,A,{}]:[u,A,{onFocus:Ll(m,O),onBlur:Ll(p,x),onMouseEnter:Ll(g,O),onMouseLeave:Ll(E,x),onTouchStart:Ll(w,O)}]:[!1,A,{}]}function Ll(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function cR({page:i,...e}){let{router:n}=VE(),s=z.useMemo(()=>wE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(fR,{page:i,matches:s,...e}):null}function hR(i){let{manifest:e,routeModules:n}=PE(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return tR(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function fR({page:i,matches:e,...n}){let s=ns(),{manifest:o,routeModules:u}=PE(),{basename:f}=VE(),{loaderData:m,matches:p}=lR(),g=z.useMemo(()=>zv(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>zv(i,e,p,o,s,"assets"),[i,e,p,o,s]),w=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let x=new Set,$=!1;if(e.forEach(Q=>{var ne;let Z=o.routes[Q.route.id];!Z||!Z.hasLoader||(!g.some(fe=>fe.route.id===Q.route.id)&&Q.route.id in m&&((ne=u[Q.route.id])!=null&&ne.shouldRevalidate)||Z.hasClientLoader?$=!0:x.add(Q.route.id))}),x.size===0)return[];let j=oR(i,f);return $&&x.size>0&&j.searchParams.set("_routes",e.filter(Q=>x.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[j.pathname+j.search]},[f,m,s,o,g,e,i,u]),A=z.useMemo(()=>nR(E,o),[E,o]),O=hR(E);return z.createElement(z.Fragment,null,w.map(x=>z.createElement("link",{key:x,rel:"prefetch",as:"fetch",href:x,...n})),A.map(x=>z.createElement("link",{key:x,rel:"modulepreload",href:x,...n})),O.map(({key:x,link:$})=>z.createElement("link",{key:x,...$})))}function dR(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UE&&(window.__reactRouterVersion="7.5.1")}catch{}function mR({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=tS({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(HS,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var LE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dh=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:w,...A},O){let{basename:x}=z.useContext(Ei),$=typeof g=="string"&&LE.test(g),j,Q=!1;if(typeof g=="string"&&$&&(j=g,UE))try{let R=new URL(window.location.href),M=g.startsWith("//")?new URL(R.protocol+g):new URL(g),P=tr(M.pathname,x);M.origin===R.origin&&P!=null?g=P+M.search+M.hash:Q=!0}catch{_i(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=IS(g,{relative:o}),[ne,fe,he]=uR(s,A),Se=_R(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:w});function V(R){e&&e(R),R.defaultPrevented||Se(R)}let S=z.createElement("a",{...A,...he,href:j||Z,onClick:Q||u?e:V,ref:dR(O,fe),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ne&&!$?z.createElement(z.Fragment,null,S,z.createElement(cR,{page:Z})):S});dh.displayName="Link";var pR=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let w=uu(f,{relative:g.relative}),A=ns(),O=z.useContext(Vh),{navigator:x,basename:$}=z.useContext(Ei),j=O!=null&&wR(w)&&m===!0,Q=x.encodeLocation?x.encodeLocation(w).pathname:w.pathname,Z=A.pathname,ne=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),ne=ne?ne.toLowerCase():null,Q=Q.toLowerCase()),ne&&$&&(ne=tr(ne,$)||ne);const fe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let he=Z===Q||!o&&Z.startsWith(Q)&&Z.charAt(fe)==="/",Se=ne!=null&&(ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(Q.length)==="/"),V={isActive:he,isPending:Se,isTransitioning:j},S=he?e:void 0,R;typeof s=="function"?R=s(V):R=[s,he?"active":null,Se?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let M=typeof u=="function"?u(V):u;return z.createElement(dh,{...g,"aria-current":S,className:R,ref:E,style:M,to:f,viewTransition:m},typeof p=="function"?p(V):p)});pR.displayName="NavLink";var gR=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:w,...A},O)=>{let x=TR(),$=bR(m,{relative:g}),j=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&LE.test(m),Z=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,he=(fe==null?void 0:fe.getAttribute("formmethod"))||f;x(fe||ne.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:w})};return z.createElement("form",{ref:O,method:j,action:$,onSubmit:s?p:Z,...A,"data-discover":!Q&&i==="render"?"true":void 0})});gR.displayName="Form";function yR(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(i){let e=z.useContext(yo);return rt(e,yR(i)),e}function _R(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=OE(),p=ns(),g=uu(i,{relative:u});return z.useCallback(E=>{if(YS(E,e)){E.preventDefault();let w=n!==void 0?n:Wl(p)===Wl(g);m(i,{replace:w,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var vR=0,ER=()=>`__${String(++vR)}__`;function TR(){let{router:i}=jE("useSubmit"),{basename:e}=z.useContext(Ei),n=jS();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=ZS(s,e);if(o.navigate===!1){let E=o.fetcherKey||ER();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function bR(i,{relative:e}={}){let{basename:n}=z.useContext(Ei),s=z.useContext(Ti);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(i||".",{relative:e})},f=ns();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(w=>w).forEach(w=>m.append("index",w));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),Wl(u)}function wR(i,e={}){let n=z.useContext(xE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jE("useViewTransitionState"),o=uu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=tr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=tr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return fh(o.pathname,f)!=null||fh(o.pathname,u)!=null}new TextEncoder;[...aR];/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AR=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SR=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Bv=i=>{const e=SR(i);return e.charAt(0).toUpperCase()+e.slice(1)},zE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),RR=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var IR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=z.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>z.createElement("svg",{ref:p,...IR,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:zE("lucide",o),...!u&&!RR(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>z.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=(i,e)=>{const n=z.forwardRef(({className:s,...o},u)=>z.createElement(CR,{ref:u,iconNode:e,className:zE(`lucide-${AR(Bv(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Bv(i),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],NR=Yn("check",xR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DR=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OR=Yn("circle-user-round",DR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],kR=Yn("clipboard-list",MR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],PR=Yn("layout-dashboard",VR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],qv=Yn("menu",UR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],jR=Yn("message-circle-more",LR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],BR=Yn("moon",zR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],HR=Yn("sun",qR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],GR=Yn("trash-2",FR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],QR=Yn("users",KR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],YR=Yn("x",$R),XR=()=>{const[i,e]=z.useState(!1),{pathname:n}=ns(),s=[{name:"home",icon:N.jsx(PR,{}),path:"/"},{name:"teams",icon:N.jsx(QR,{}),path:"/Teams"},{name:"tasks",icon:N.jsx(kR,{}),path:"/TasksBoard"},{name:"chat",icon:N.jsx(jR,{}),path:"/ChatPage"}],[o,u]=z.useState(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches),f=()=>{o?(document.documentElement.classList.remove("dark"),localStorage.theme="light",u(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",u(!0))};return N.jsxs(N.Fragment,{children:[N.jsx("div",{className:"md:hidden p-6",children:N.jsx(qv,{onClick:()=>e(!i),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),N.jsx("div",{className:`
          fixed top-0 left-0 h-full w-20 bg-white dark:bg-zinc-900 shadow-xl z-50 
          transform transition-transform duration-300 ease-in-out
          ${i?"translate-x-0":"-translate-x-full"} 
          md:translate-x-0 md:static md:block
        `,children:N.jsxs("nav",{className:"h-full flex flex-col justify-between items-center p-4",children:[N.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[N.jsx("div",{className:"md:hidden p-3 self-start",children:N.jsx(qv,{onClick:()=>e(!1),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),N.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.map(m=>N.jsx(dh,{to:m.path,className:`
                    p-3 rounded-lg text-center 
                    ${n===m.path?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                    transition-colors w-full text-gray-800 dark:text-gray-100
                  `,onClick:()=>e(!1),children:m.icon},m.name))})]}),N.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[N.jsx(dh,{to:"/profile",className:`
                p-3 rounded-lg text-center 
                ${n==="/profile"?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                transition-colors text-gray-800 dark:text-gray-100
              `,onClick:()=>e(!1),children:N.jsx(OR,{})}),N.jsx("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-zinc-200 dark:bg-zinc-800 text-gray-900 dark:text-white rounded-xl hover:opacity-80",children:o?N.jsx(HR,{size:18}):N.jsx(BR,{size:18})})]})]})})]})},WR=()=>N.jsx("div",{children:"Dashboard"}),Hv=i=>{let e;const n=new Set,s=(g,E)=>{const w=typeof g=="function"?g(e):g;if(!Object.is(w,e)){const A=e;e=E??(typeof w!="object"||w===null)?w:Object.assign({},e,w),n.forEach(O=>O(e,A))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=i(s,o,m);return m},ZR=i=>i?Hv(i):Hv,JR=i=>i;function e1(i,e=JR){const n=Cv.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Cv.useDebugValue(n),n}const Fv=i=>{const e=ZR(i),n=s=>e1(e,s);return Object.assign(n,e),n},t1=i=>i?Fv(i):Fv,Un=t1(i=>({user:null,authLoading:!0,setUser:e=>i({user:e}),clearUser:()=>i({user:null}),updateUser:e=>i(n=>({user:{...n.user,...e}})),setAuthLoading:e=>i({authLoading:e})})),n1=()=>{const i=Un(s=>s.user),[e,n]=z.useState(null);return z.useEffect(()=>{i!=null&&i.teamId&&n({name:"The Avengers"})},[i]),N.jsxs("div",{className:"max-w-5xl mx-auto mt-10 grid grid-cols-1 md:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-zinc-100 dark:hover:bg-zinc-700 cursor-pointer",children:[N.jsx("div",{className:"text-4xl mb-2",children:"➕"}),N.jsx("h2",{className:"text-xl font-semibold",children:"My Tasks"}),N.jsx("p",{className:"text-sm text-gray-500",children:"View and manage your personal tasks."})]}),N.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-zinc-100 dark:hover:bg-zinc-700 cursor-pointer",children:[N.jsx("div",{className:"text-4xl mb-2",children:"👥"}),e?N.jsxs(N.Fragment,{children:[N.jsxs("h2",{className:"text-xl font-semibold",children:[e.name," Tasks"]}),N.jsx("p",{className:"text-sm text-gray-500",children:"View and manage your team’s shared tasks."})]}):N.jsxs(N.Fragment,{children:[N.jsx("h2",{className:"text-xl font-semibold",children:"Join or Create a Team"}),N.jsx("p",{className:"text-sm text-gray-500",children:"Team up to collaborate on tasks."})]})]})]})},i1=()=>{};var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},r1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let A=(m&15)<<2|g>>6,O=g&63;p||(O=64,f||(A=64)),s.push(n[E],n[w],n[A],n[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(BE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):r1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const w=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||w==null)throw new s1;const A=u<<2|m>>4;if(s.push(A),g!==64){const O=m<<4&240|g>>2;if(s.push(O),w!==64){const x=g<<6&192|w;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class s1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a1=function(i){const e=BE(i);return qE.encodeByteArray(e,!0)},mh=function(i){return a1(i).replace(/\./g,"")},HE=function(i){try{return qE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=()=>o1().__FIREBASE_DEFAULTS__,u1=()=>{if(typeof process>"u"||typeof Gv>"u")return;const i=Gv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},c1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&HE(i[1]);return e&&JSON.parse(e)},Uh=()=>{try{return i1()||l1()||u1()||c1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},FE=i=>{var e,n;return(n=(e=Uh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},h1=i=>{const e=FE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},GE=()=>{var i;return(i=Uh())===null||i===void 0?void 0:i.config},KE=i=>{var e;return(e=Uh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[mh(JSON.stringify(n)),mh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function m1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function p1(){var i;const e=(i=Uh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function g1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function _1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function v1(){const i=Jt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function E1(){return!p1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=w1,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?A1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function A1(i,e){return i.replace(S1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const S1=/\{\$([^}]+)}/g;function R1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Yr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Kv(u)&&Kv(f)){if(!Yr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Kv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function jl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function zl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function I1(i,e){const n=new C1(i,e);return n.subscribe.bind(n)}class C1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");x1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function x1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new f1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O1(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:D1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D1(i){return i===Qs?void 0:i}function O1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new N1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Me||(Me={}));const k1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},V1=Me.INFO,P1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},U1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=P1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const L1=(i,e)=>e.some(n=>i instanceof n);let Qv,$v;function j1(){return Qv||(Qv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function z1(){return $v||($v=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QE=new WeakMap,Pm=new WeakMap,$E=new WeakMap,wm=new WeakMap,_p=new WeakMap;function B1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Fr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&QE.set(n,i)}).catch(()=>{}),_p.set(e,i),e}function q1(i){if(Pm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Pm.set(i,e)}let Um={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Pm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||$E.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function H1(i){Um=i(Um)}function F1(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Am(this),e,...n);return $E.set(s,e.sort?e.sort():[e]),Fr(s)}:z1().includes(i)?function(...e){return i.apply(Am(this),e),Fr(QE.get(this))}:function(...e){return Fr(i.apply(Am(this),e))}}function G1(i){return typeof i=="function"?F1(i):(i instanceof IDBTransaction&&q1(i),L1(i,j1())?new Proxy(i,Um):i)}function Fr(i){if(i instanceof IDBRequest)return B1(i);if(wm.has(i))return wm.get(i);const e=G1(i);return e!==i&&(wm.set(i,e),_p.set(e,i)),e}const Am=i=>_p.get(i);function K1(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Fr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Fr(f.result),p.oldVersion,p.newVersion,Fr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Q1=["get","getKey","getAll","getAllKeys","count"],$1=["put","add","delete","clear"],Sm=new Map;function Yv(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=$1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Q1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Sm.set(e,u),u}H1(i=>({...i,get:(e,n,s)=>Yv(e,n)||i.get(e,n,s),has:(e,n)=>!!Yv(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(X1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function X1(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Lm="@firebase/app",Xv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new yp("@firebase/app"),W1="@firebase/app-compat",Z1="@firebase/analytics-compat",J1="@firebase/analytics",eI="@firebase/app-check-compat",tI="@firebase/app-check",nI="@firebase/auth",iI="@firebase/auth-compat",rI="@firebase/database",sI="@firebase/data-connect",aI="@firebase/database-compat",oI="@firebase/functions",lI="@firebase/functions-compat",uI="@firebase/installations",cI="@firebase/installations-compat",hI="@firebase/messaging",fI="@firebase/messaging-compat",dI="@firebase/performance",mI="@firebase/performance-compat",pI="@firebase/remote-config",gI="@firebase/remote-config-compat",yI="@firebase/storage",_I="@firebase/storage-compat",vI="@firebase/firestore",EI="@firebase/vertexai",TI="@firebase/firestore-compat",bI="firebase",wI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",AI={[Lm]:"fire-core",[W1]:"fire-core-compat",[J1]:"fire-analytics",[Z1]:"fire-analytics-compat",[tI]:"fire-app-check",[eI]:"fire-app-check-compat",[nI]:"fire-auth",[iI]:"fire-auth-compat",[rI]:"fire-rtdb",[sI]:"fire-data-connect",[aI]:"fire-rtdb-compat",[oI]:"fire-fn",[lI]:"fire-fn-compat",[uI]:"fire-iid",[cI]:"fire-iid-compat",[hI]:"fire-fcm",[fI]:"fire-fcm-compat",[dI]:"fire-perf",[mI]:"fire-perf-compat",[pI]:"fire-rc",[gI]:"fire-rc-compat",[yI]:"fire-gcs",[_I]:"fire-gcs-compat",[vI]:"fire-fst",[TI]:"fire-fst-compat",[EI]:"fire-vertex","fire-js":"fire-js",[bI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Map,SI=new Map,zm=new Map;function Wv(i,e){try{i.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function ao(i){const e=i.name;if(zm.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;zm.set(e,i);for(const n of ph.values())Wv(n,i);for(const n of SI.values())Wv(n,i);return!0}function vp(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new cu("app","Firebase",RI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=wI;function YE(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Gr.create("bad-app-name",{appName:String(o)});if(n||(n=GE()),!n)throw Gr.create("no-options");const u=ph.get(o);if(u){if(Yr(n,u.options)&&Yr(s,u.config))return u;throw Gr.create("duplicate-app",{appName:o})}const f=new M1(o);for(const p of zm.values())f.addComponent(p);const m=new II(n,s,f);return ph.set(o,m),m}function XE(i=jm){const e=ph.get(i);if(!e&&i===jm&&GE())return YE();if(!e)throw Gr.create("no-app",{appName:i});return e}function Kr(i,e,n){var s;let o=(s=AI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(m.join(" "));return}ao(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-heartbeat-database",xI=1,Zl="firebase-heartbeat-store";let Rm=null;function WE(){return Rm||(Rm=K1(CI,xI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function NI(i){try{const n=(await WE()).transaction(Zl),s=await n.objectStore(Zl).get(ZE(i));return await n.done,s}catch(e){if(e instanceof lr)nr.warn(e.message);else{const n=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function Zv(i,e){try{const s=(await WE()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,ZE(i)),await s.done}catch(n){if(n instanceof lr)nr.warn(n.message);else{const s=Gr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(s.message)}}}function ZE(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1024,OI=30;class MI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>OI){const f=PI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){nr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Jv(),{heartbeatsToSend:s,unsentEntries:o}=kI(this._heartbeatsCache.heartbeats),u=mh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return nr.warn(n),""}}}function Jv(){return new Date().toISOString().substring(0,10)}function kI(i,e=DI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),e0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),e0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return T1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Zv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function e0(i){return mh(JSON.stringify({version:2,heartbeats:i})).length}function PI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(i){ao(new Xs("platform-logger",e=>new Y1(e),"PRIVATE")),ao(new Xs("heartbeat",e=>new MI(e),"PRIVATE")),Kr(Lm,Xv,i),Kr(Lm,Xv,"esm2017"),Kr("fire-js","")}UI("");function Ep(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function JE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const LI=JE,eT=new cu("auth","Firebase",JE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new yp("@firebase/auth");function jI(i,...e){gh.logLevel<=Me.WARN&&gh.warn(`Auth (${_o}): ${i}`,...e)}function th(i,...e){gh.logLevel<=Me.ERROR&&gh.error(`Auth (${_o}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw Tp(i,...e)}function mi(i,...e){return Tp(i,...e)}function tT(i,e,n){const s=Object.assign(Object.assign({},LI()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:i.name})}function Ji(i){return tT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return eT.create(i,...e)}function ve(i,e,...n){if(!i)throw Tp(e,...n)}function Xi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw th(e),new Error(e)}function ir(i,e){i||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function zI(){return t0()==="http:"||t0()==="https:"}function t0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zI()||y1()||"connection"in navigator)?navigator.onLine:!0}function qI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ir(n>e,"Short delay should be less than long delay!"),this.isMobile=m1()||_1()}get(){return BI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bp(i,e){ir(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new fu(3e4,6e4);function is(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function rs(i,e,n,s,o={}){return iT(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return g1()||(g.referrerPolicy="no-referrer"),nT.fetch()(await rT(i,i.config.apiHost,n,m),g)})}async function iT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},HI),e);try{const o=new QI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Kc(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Kc(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Kc(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw Kc(i,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw tT(i,E,g);Qn(i,E)}}catch(o){if(o instanceof lr)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function du(i,e,n,s,o={}){const u=await rs(i,e,n,s,o);return"mfaPendingCredential"in u&&Qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function rT(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?bp(i.config,o):`${i.config.apiScheme}://${o}`;return FI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function KI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(mi(this.auth,"network-request-failed")),GI.get())})}}function Kc(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=mi(i,e,s);return o.customData._tokenResponse=n,o}function n0(i){return i!==void 0&&i.enterprise!==void 0}class $I{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return KI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function YI(i,e){return rs(i,"GET","/v2/recaptchaConfig",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(i,e){return rs(i,"POST","/v1/accounts:delete",e)}async function yh(i,e){return rs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function WI(i,e=!1){const n=Et(i),s=await n.getIdToken(e),o=wp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(Im(o.auth_time)),issuedAtTime:Gl(Im(o.iat)),expirationTime:Gl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(i){return Number(i)*1e3}function wp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const o=HE(n);return o?JSON.parse(o):(th("Failed to decode base64 JWT payload"),null)}catch(o){return th("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function i0(i){const e=wp(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&ZI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ZI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _h(i){var e;const n=i.auth,s=await i.getIdToken(),o=await Jl(i,yh(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?sT(u.providerUserInfo):[],m=tC(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new qm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,w)}async function eC(i){const e=Et(i);await _h(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function tC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function sT(i){return i.map(e=>{var{providerId:n}=e,s=Ep(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(i,e){const n=await iT(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await rT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",nT.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function iC(i,e){return rs(i,"POST","/v2/accounts:revokeToken",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):i0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=i0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await nC(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new JI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return WI(this,e)}reload(){return eC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await _h(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Pn(this.auth.app))return Promise.reject(Ji(this.auth));const e=await this.getIdToken();return await Jl(this,XI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,A=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,x=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,j=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(g=n.createdAt)!==null&&g!==void 0?g:void 0,Z=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ne,emailVerified:fe,isAnonymous:he,providerData:Se,stsTokenManager:V}=n;ve(ne&&V,e,"internal-error");const S=no.fromJSON(this.name,V);ve(typeof ne=="string",e,"internal-error"),Lr(w,e.name),Lr(A,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof he=="boolean",e,"internal-error"),Lr(O,e.name),Lr(x,e.name),Lr($,e.name),Lr(j,e.name),Lr(Q,e.name),Lr(Z,e.name);const R=new Kn({uid:ne,auth:e,email:A,emailVerified:fe,displayName:w,isAnonymous:he,photoURL:x,phoneNumber:O,tenantId:$,stsTokenManager:S,createdAt:Q,lastLoginAt:Z});return Se&&Array.isArray(Se)&&(R.providerData=Se.map(M=>Object.assign({},M))),j&&(R._redirectEventId=j),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Kn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await _h(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?sT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new Kn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r0=new Map;function Wi(i){ir(i instanceof Function,"Expected a class definition");let e=r0.get(i);return e?(ir(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,r0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aT.type="NONE";const s0=aT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(i,e,n){return`firebase:${i}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=nh(this.userKey,o.apiKey,u),this.fullPersistenceKey=nh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yh(this.auth,{idToken:e}).catch(()=>{});return n?Kn._fromGetAccountInfoResponse(this.auth,n,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Wi(s0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Wi(s0);const f=nh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let w;if(typeof E=="string"){const A=await yh(e,{idToken:E}).catch(()=>{});if(!A)break;w=await Kn._fromGetAccountInfoResponse(e,A,E)}else w=Kn._fromJSON(e,E);g!==u&&(m=w),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fT(e))return"Blackberry";if(dT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||uT(e))&&!e.includes("edge/"))return"Chrome";if(hT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function oT(i=Jt()){return/firefox\//i.test(i)}function lT(i=Jt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uT(i=Jt()){return/crios\//i.test(i)}function cT(i=Jt()){return/iemobile/i.test(i)}function hT(i=Jt()){return/android/i.test(i)}function fT(i=Jt()){return/blackberry/i.test(i)}function dT(i=Jt()){return/webos/i.test(i)}function Ap(i=Jt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function rC(i=Jt()){var e;return Ap(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sC(){return v1()&&document.documentMode===10}function mT(i=Jt()){return Ap(i)||hT(i)||dT(i)||fT(i)||/windows phone/i.test(i)||cT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i,e=[]){let n;switch(i){case"Browser":n=a0(Jt());break;case"Worker":n=`${a0(Jt())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${_o}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oC(i,e={}){return rs(i,"GET","/v2/passwordPolicy",is(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=6;class uC{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:lC,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new aC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yh(this,{idToken:e}),s=await Kn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Pn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await _h(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=qI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Pn(this.app))return Promise.reject(Ji(this));const n=e?Et(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Pn(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Pn(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oC(this),n=new uC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await iC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&jI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(i){return Et(i)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=I1(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hC(i){Lh=i}function gT(i){return Lh.loadJS(i)}function fC(){return Lh.recaptchaEnterpriseScript}function dC(){return Lh.gapiScript}function mC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class pC{constructor(){this.enterprise=new gC}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class gC{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const yC="recaptcha-enterprise",yT="NO_RECAPTCHA";class _C{constructor(e){this.type=yC,this.auth=ta(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{YI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new $I(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;n0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(yT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pC().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&n0(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=fC();p.length!==0&&(p+=m),gT(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function l0(i,e,n,s=!1,o=!1){const u=new _C(i);let f;if(o)f=yT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await l0(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await l0(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(i,e){const n=vp(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Yr(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function EC(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function TC(i,e,n){const s=ta(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=_T(e),{host:f,port:m}=bC(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Yr(g,s.config.emulator)&&Yr(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,wC()}function _T(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function bC(i){const e=_T(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:u0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:u0(f)}}}function u0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wC(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function AC(i,e){return rs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,e){return du(i,"POST","/v1/accounts:signInWithPassword",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}async function IC(i,e){return du(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",SC);case"emailLink":return RC(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",AC);case"emailLink":return IC(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(i,e){return du(i,"POST","/v1/accounts:signInWithIdp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC="http://localhost";class Ws extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Ep(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Ws(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xC(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NC(i){const e=jl(zl(i)).link,n=e?jl(zl(e)).deep_link_id:null,s=jl(zl(i)).deep_link_id;return(s?jl(zl(s)).link:null)||s||n||e||i}class Rp{constructor(e){var n,s,o,u,f,m;const p=jl(zl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,w=xC((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&w,"argument-error"),this.apiKey=g,this.operation=w,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=NC(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(){this.providerId=vo.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rp.parseLink(n);return ve(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}vo.PROVIDER_ID="password";vo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends vT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends mu{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yi.credential(n,s)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends mu{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zr.credential(e.oauthAccessToken)}catch{return null}}}zr.GITHUB_SIGN_IN_METHOD="github.com";zr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends mu{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Br.PROVIDER_ID,signInMethod:Br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Br.credentialFromTaggedObject(e)}static credentialFromError(e){return Br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Br.credential(n,s)}catch{return null}}}Br.TWITTER_SIGN_IN_METHOD="twitter.com";Br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(i,e){return du(i,"POST","/v1/accounts:signUp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Kn._fromIdTokenResponse(e,s,o),f=c0(s);return new Zs({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=c0(s);return new Zs({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function c0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new vh(e,n,s,o)}}function ET(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?vh._fromErrorAndOperation(i,u,e,s):u})}async function OC(i,e,n=!1){const s=await Jl(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Zs._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(i,e,n=!1){const{auth:s}=i;if(Pn(s.app))return Promise.reject(Ji(s));const o="reauthenticate";try{const u=await Jl(i,ET(s,o,e,i),n);ve(u.idToken,s,"internal-error");const f=wp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(i.uid===m,s,"user-mismatch"),Zs._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TT(i,e,n=!1){if(Pn(i.app))return Promise.reject(Ji(i));const s="signIn",o=await ET(i,s,e),u=await Zs._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function kC(i,e){return TT(ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bT(i){const e=ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function VC(i,e,n){if(Pn(i.app))return Promise.reject(Ji(i));const s=ta(i),f=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",DC).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&bT(i),p}),m=await Zs._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function PC(i,e,n){return Pn(i.app)?Promise.reject(Ji(i)):kC(Et(i),vo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&bT(i),s})}function UC(i,e,n,s){return Et(i).onIdTokenChanged(e,n,s)}function LC(i,e,n){return Et(i).beforeAuthStateChanged(e,n)}function jC(i,e,n,s){return Et(i).onAuthStateChanged(e,n,s)}function zC(i){return Et(i).signOut()}async function BC(i){return Et(i).delete()}const Eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Eh,"1"),this.storage.removeItem(Eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1e3,HC=10;class AT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);sC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,HC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const FC=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ST.type="SESSION";const RT=ST;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await GC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ip(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ip("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(w){const A=w;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(A.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(){return window}function QC(i){pi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(){return typeof pi().WorkerGlobalScope<"u"&&typeof pi().importScripts=="function"}async function $C(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function XC(){return IT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="firebaseLocalStorageDb",WC=1,Th="firebaseLocalStorage",xT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(i,e){return i.transaction([Th],e?"readwrite":"readonly").objectStore(Th)}function ZC(){const i=indexedDB.deleteDatabase(CT);return new pu(i).toPromise()}function Fm(){const i=indexedDB.open(CT,WC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Th,{keyPath:xT})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Th)?e(s):(s.close(),await ZC(),e(await Fm()))})})}async function h0(i,e,n){const s=zh(i,!0).put({[xT]:e,value:n});return new pu(s).toPromise()}async function JC(i,e){const n=zh(i,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function f0(i,e){const n=zh(i,!0).delete(e);return new pu(n).toPromise()}const ex=800,tx=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>tx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return IT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(XC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $C(),!this.activeServiceWorker)return;this.sender=new KC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Fm();return await h0(e,Eh,"1"),await f0(e,Eh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>h0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>JC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>f0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ex)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const nx=NT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(i,e){return e?Wi(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function rx(i){return TT(i.auth,new Cp(i),i.bypassAuthState)}function sx(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),MC(n,new Cp(i),i.bypassAuthState)}async function ax(i){const{auth:e,user:n}=i;return ve(n,e,"internal-error"),OC(n,new Cp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return rx;case"linkViaPopup":case"linkViaRedirect":return ax;case"reauthViaPopup":case"reauthViaRedirect":return sx;default:Qn(this.auth,"internal-error")}}resolve(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ir(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=new fu(2e3,1e4);class to extends DT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){ir(this.filter.length===1,"Popup operations only handle one event");const e=Ip();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ox.get())};e()}}to.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx="pendingRedirect",ih=new Map;class ux extends DT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const s=await cx(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cx(i,e){const n=dx(e),s=fx(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function hx(i,e){ih.set(i._key(),e)}function fx(i){return Wi(i._redirectPersistence)}function dx(i){return nh(lx,i.config.apiKey,i.name)}async function mx(i,e,n=!1){if(Pn(i.app))return Promise.reject(Ji(i));const s=ta(i),o=ix(s,e),f=await new ux(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px=10*60*1e3;class gx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!yx(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!OT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(mi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=px&&this.cachedEventUids.clear(),this.cachedEventUids.has(d0(e))}saveEventToCache(e){this.cachedEventUids.add(d0(e)),this.lastProcessedEventTime=Date.now()}}function d0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function OT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function yx(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _x(i,e={}){return rs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ex=/^https?/;async function Tx(i){if(i.config.emulator)return;const{authorizedDomains:e}=await _x(i);for(const n of e)try{if(bx(n))return}catch{}Qn(i,"unauthorized-domain")}function bx(i){const e=Bm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!Ex.test(n))return!1;if(vx.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=new fu(3e4,6e4);function m0(){const i=pi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function Ax(i){return new Promise((e,n)=>{var s,o,u;function f(){m0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{m0(),n(mi(i,"network-request-failed"))},timeout:wx.get()})}if(!((o=(s=pi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=pi().gapi)===null||u===void 0)&&u.load)f();else{const m=mC("iframefcb");return pi()[m]=()=>{gapi.load?f():n(mi(i,"network-request-failed"))},gT(`${dC()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw rh=null,e})}let rh=null;function Sx(i){return rh=rh||Ax(i),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rx=new fu(5e3,15e3),Ix="__/auth/iframe",Cx="emulator/auth/iframe",xx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Dx(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?bp(e,Cx):`https://${i.config.authDomain}/${Ix}`,s={apiKey:e.apiKey,appName:i.name,v:_o},o=Nx.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function Ox(i){const e=await Sx(i),n=pi().gapi;return ve(n,i,"internal-error"),e.open({where:document.body,url:Dx(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=mi(i,"network-request-failed"),m=pi().setTimeout(()=>{u(f)},Rx.get());function p(){pi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kx=500,Vx=600,Px="_blank",Ux="http://localhost";class p0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Lx(i,e,n,s=kx,o=Vx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Mx),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Jt().toLowerCase();n&&(m=uT(g)?Px:n),oT(g)&&(e=e||Ux,p.scrollbars="yes");const E=Object.entries(p).reduce((A,[O,x])=>`${A}${O}=${x},`,"");if(rC(g)&&m!=="_self")return jx(e||"",m),new p0(null);const w=window.open(e||"",m,E);ve(w,i,"popup-blocked");try{w.focus()}catch{}return new p0(w)}function jx(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="__/auth/handler",Bx="emulator/auth/handler",qx=encodeURIComponent("fac");async function g0(i,e,n,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:_o,eventId:o};if(e instanceof vT){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",R1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))f[E]=w}if(e instanceof mu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(f.scopes=E.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${qx}=${encodeURIComponent(p)}`:"";return`${Hx(i)}?${hu(m).slice(1)}${g}`}function Hx({config:i}){return i.emulator?bp(i,Bx):`https://${i.authDomain}/${zx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class Fx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=mx,this._overrideRedirectResult=hx}async _openPopup(e,n,s,o){var u;ir((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await g0(e,n,s,Bm(),o);return Lx(e,f,Ip())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await g0(e,n,s,Bm(),o);return QC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ir(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ox(e),s=new gx(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Cm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Tx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return mT()||lT()||Ap()}}const Gx=Fx;var y0="@firebase/auth",_0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $x(i){ao(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pT(i)},g=new cC(s,o,u,p);return EC(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ao(new Xs("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(s=>new Kx(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(y0,_0,Qx(i)),Kr(y0,_0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=5*60,Xx=KE("authIdTokenMaxAge")||Yx;let v0=null;const Wx=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Xx)return;const o=n==null?void 0:n.token;v0!==o&&(v0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Eo(i=XE()){const e=vp(i,"auth");if(e.isInitialized())return e.getImmediate();const n=vC(i,{popupRedirectResolver:Gx,persistence:[nx,FC,RT]}),s=KE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Wx(u.toString());LC(n,f,()=>f(n.currentUser)),UC(n,m=>f(m))}}const o=FE("auth");return o&&TC(n,`http://${o}`),n}function Zx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}hC({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",Zx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$x("Browser");var E0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qr,MT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,S){function R(){}R.prototype=S.prototype,V.D=S.prototype,V.prototype=new R,V.prototype.constructor=V,V.C=function(M,P,L){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return S.prototype[P].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=V.g[0],R=V.g[1],P=V.g[2];var L=V.g[3],C=S+(L^R&(P^L))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+M[1]+3905402710&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+M[2]+606105819&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+M[5]+1200080426&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+M[6]+2821735955&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+M[9]+2336552879&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+M[10]+4294925233&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(L^R&(P^L))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=L+(P^S&(R^P))+M[13]+4254626195&4294967295,L=S+(C<<12&4294967295|C>>>20),C=P+(R^L&(S^R))+M[14]+2792965006&4294967295,P=L+(C<<17&4294967295|C>>>15),C=R+(S^P&(L^S))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^L&(R^P))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+M[6]+3225465664&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+M[11]+643717713&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+M[10]+38016083&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+M[15]+3634488961&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+M[14]+3275163606&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+M[3]+4107603335&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^L&(R^P))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=L+(R^P&(S^R))+M[2]+4243563512&4294967295,L=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(L^S))+M[7]+1735328473&4294967295,P=L+(C<<14&4294967295|C>>>18),C=R+(L^S&(P^L))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^L)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+M[8]+2272392833&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+M[11]+1839030562&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+M[4]+1272893353&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+M[7]+4139469664&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+M[0]+3936430074&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+M[3]+3572445317&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^L)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=L+(S^R^P)+M[12]+3873151461&4294967295,L=S+(C<<11&4294967295|C>>>21),C=P+(L^S^R)+M[15]+530742520&4294967295,P=L+(C<<16&4294967295|C>>>16),C=R+(P^L^S)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~L))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+M[7]+1126891415&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+M[14]+2878612391&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+M[3]+2399980690&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+M[10]+4293915773&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+M[15]+4264355552&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+M[6]+2734768916&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~L))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=L+(R^(S|~P))+M[11]+3174756917&4294967295,L=S+(C<<10&4294967295|C>>>22),C=P+(S^(L|~R))+M[2]+718787259&4294967295,P=L+(C<<15&4294967295|C>>>17),C=R+(L^(P|~S))+M[9]+3951481745&4294967295,V.g[0]=V.g[0]+S&4294967295,V.g[1]=V.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,S){S===void 0&&(S=V.length);for(var R=S-this.blockSize,M=this.B,P=this.h,L=0;L<S;){if(P==0)for(;L<=R;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<S;)if(M[P++]=V.charCodeAt(L++),P==this.blockSize){o(this,M),P=0;break}}else for(;L<S;)if(M[P++]=V[L++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var S=1;S<V.length-8;++S)V[S]=0;var R=8*this.o;for(S=V.length-8;S<V.length;++S)V[S]=R&255,R/=256;for(this.u(V),V=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)V[R++]=this.g[S]>>>M&255;return V};function u(V,S){var R=m;return Object.prototype.hasOwnProperty.call(R,V)?R[V]:R[V]=S(V)}function f(V,S){this.h=S;for(var R=[],M=!0,P=V.length-1;0<=P;P--){var L=V[P]|0;M&&L==S||(R[P]=L,M=!1)}this.g=R}var m={};function p(V){return-128<=V&&128>V?u(V,function(S){return new f([S|0],0>S?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return w;if(0>V)return j(g(-V));for(var S=[],R=1,M=0;V>=R;M++)S[M]=V/R|0,R*=4294967296;return new f(S,0)}function E(V,S){if(V.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(V.charAt(0)=="-")return j(E(V.substring(1),S));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(S,8)),M=w,P=0;P<V.length;P+=8){var L=Math.min(8,V.length-P),C=parseInt(V.substring(P,P+L),S);8>L?(L=g(Math.pow(S,L)),M=M.j(L).add(g(C))):(M=M.j(R),M=M.add(g(C)))}return M}var w=p(0),A=p(1),O=p(16777216);i=f.prototype,i.m=function(){if($(this))return-j(this).m();for(var V=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);V+=(0<=M?M:4294967296+M)*S,S*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if($(this))return"-"+j(this).toString(V);for(var S=g(Math.pow(V,6)),R=this,M="";;){var P=fe(R,S).g;R=Q(R,P.j(S));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(V);if(R=P,x(R))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var S=0;S<V.g.length;S++)if(V.g[S]!=0)return!1;return!0}function $(V){return V.h==-1}i.l=function(V){return V=Q(this,V),$(V)?-1:x(V)?0:1};function j(V){for(var S=V.g.length,R=[],M=0;M<S;M++)R[M]=~V.g[M];return new f(R,~V.h).add(A)}i.abs=function(){return $(this)?j(this):this},i.add=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0,P=0;P<=S;P++){var L=M+(this.i(P)&65535)+(V.i(P)&65535),C=(L>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);M=C>>>16,L&=65535,C&=65535,R[P]=C<<16|L}return new f(R,R[R.length-1]&-2147483648?-1:0)};function Q(V,S){return V.add(j(S))}i.j=function(V){if(x(this)||x(V))return w;if($(this))return $(V)?j(this).j(j(V)):j(j(this).j(V));if($(V))return j(this.j(j(V)));if(0>this.l(O)&&0>V.l(O))return g(this.m()*V.m());for(var S=this.g.length+V.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<V.g.length;P++){var L=this.i(M)>>>16,C=this.i(M)&65535,Vt=V.i(P)>>>16,at=V.i(P)&65535;R[2*M+2*P]+=C*at,Z(R,2*M+2*P),R[2*M+2*P+1]+=L*at,Z(R,2*M+2*P+1),R[2*M+2*P+1]+=C*Vt,Z(R,2*M+2*P+1),R[2*M+2*P+2]+=L*Vt,Z(R,2*M+2*P+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new f(R,0)};function Z(V,S){for(;(V[S]&65535)!=V[S];)V[S+1]+=V[S]>>>16,V[S]&=65535,S++}function ne(V,S){this.g=V,this.h=S}function fe(V,S){if(x(S))throw Error("division by zero");if(x(V))return new ne(w,w);if($(V))return S=fe(j(V),S),new ne(j(S.g),j(S.h));if($(S))return S=fe(V,j(S)),new ne(j(S.g),S.h);if(30<V.g.length){if($(V)||$(S))throw Error("slowDivide_ only works with positive integers.");for(var R=A,M=S;0>=M.l(V);)R=he(R),M=he(M);var P=Se(R,1),L=Se(M,1);for(M=Se(M,2),R=Se(R,2);!x(M);){var C=L.add(M);0>=C.l(V)&&(P=P.add(R),L=C),M=Se(M,1),R=Se(R,1)}return S=Q(V,P.j(S)),new ne(P,S)}for(P=w;0<=V.l(S);){for(R=Math.max(1,Math.floor(V.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=g(R),C=L.j(S);$(C)||0<C.l(V);)R-=M,L=g(R),C=L.j(S);x(L)&&(L=A),P=P.add(L),V=Q(V,C)}return new ne(P,V)}i.A=function(V){return fe(this,V).h},i.and=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&V.i(M);return new f(R,this.h&V.h)},i.or=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|V.i(M);return new f(R,this.h|V.h)},i.xor=function(V){for(var S=Math.max(this.g.length,V.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^V.i(M);return new f(R,this.h^V.h)};function he(V){for(var S=V.g.length+1,R=[],M=0;M<S;M++)R[M]=V.i(M)<<1|V.i(M-1)>>>31;return new f(R,V.h)}function Se(V,S){var R=S>>5;S%=32;for(var M=V.g.length-R,P=[],L=0;L<M;L++)P[L]=0<S?V.i(L+R)>>>S|V.i(L+R+1)<<32-S:V.i(L+R);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,MT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Qr=f}).apply(typeof E0<"u"?E0:typeof self<"u"?self:typeof window<"u"?window:{});var Qc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var kT,Bl,VT,sh,Gm,PT,UT,LT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qc=="object"&&Qc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var B=c[b];if(!(B in _))break e;_=_[B]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,B={next:function(){if(!b&&_<c.length){var K=_++;return{value:y(K,c[K]),done:!1}}return b=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function w(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,b),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function A(c,y,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,A.apply(null,arguments)}function O(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,B,K){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[B].apply(b,se)}}function $(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function j(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const B=c.length||0,K=b.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=b[se]}else c.push(b)}}class Q{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function Z(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var he=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Se(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function S(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let _,b;for(let B=1;B<arguments.length;B++){b=arguments[B];for(_ in b)c[_]=b[_];for(let K=0;K<R.length;K++)_=R[K],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function P(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function C(){var c=ze;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,_){const b=at.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new Q(()=>new Y,c=>c.reset());class Y{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,me=!1,ze=new Vt,D=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ie)}};var ie=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){L(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}me=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function xe(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{fe(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}x(xe,re);var be={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ct="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function Xn(c,y,_,b,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=B,this.key=++Ze,this.da=this.fa=!1}function ur(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function bi(c){this.src=c,this.g={},this.h=0}bi.prototype.add=function(c,y,_,b,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=cs(c,y,b,B);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new Xn(y,this.src,K,!!b,B),y.fa=_,c.push(y)),y};function us(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],B=Array.prototype.indexOf.call(b,y,void 0),K;(K=0<=B)&&Array.prototype.splice.call(b,B,1),K&&(ur(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function cs(c,y,_,b){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==y&&K.capture==!!_&&K.ha==b)return B}return-1}var hs="closure_lm_"+(1e6*Math.random()|0),Io={};function Tu(c,y,_,b,B){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Tu(c,y[K],_,b,B);return null}return _=bu(_),c&&c[Ct]?c.K(y,_,g(b)?!!b.capture:!1,B):wn(c,y,_,!1,b,B)}function wn(c,y,_,b,B,K){if(!y)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Ve=aa(c);if(Ve||(c[hs]=Ve=new bi(c)),_=Ve.add(y,_,b,se,K),_.proxy)return _;if(b=mf(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)ge||(B=se),B===void 0&&(B=!1),c.addEventListener(y.toString(),b,B);else if(c.attachEvent)c.attachEvent(fs(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function mf(){function c(_){return y.call(c.src,c.listener,_)}const y=pf;return c}function Co(c,y,_,b,B){if(Array.isArray(y))for(var K=0;K<y.length;K++)Co(c,y[K],_,b,B);else b=g(b)?!!b.capture:!!b,_=bu(_),c&&c[Ct]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],_=cs(K,_,b,B),-1<_&&(ur(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=aa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=cs(y,_,b,B)),(_=-1<c?y[c]:null)&&sa(_))}function sa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Ct])us(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(fs(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=aa(y))?(us(_,c),_.h==0&&(_.src=null,y[hs]=null)):ur(c)}}}function fs(c){return c in Io?Io[c]:Io[c]="on"+c}function pf(c,y){if(c.da)c=!0;else{y=new xe(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&sa(c),c=_.call(b,y)}return c}function aa(c){return c=c[hs],c instanceof bi?c:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(y){return c.handleEvent(y)}),c[xo])}function ot(){oe.call(this),this.i=new bi(this),this.M=this,this.F=null}x(ot,oe),ot.prototype[Ct]=!0,ot.prototype.removeEventListener=function(c,y,_,b){Co(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var B=y;y=new re(b,c),M(y,B)}if(B=!0,_)for(var K=_.length-1;0<=K;K--){var se=y.g=_[K];B=dn(se,b,!0,y)&&B}if(se=y.g=c,B=dn(se,b,!0,y)&&B,B=dn(se,b,!1,y)&&B,_)for(K=0;K<_.length;K++)se=y.g=_[K],B=dn(se,b,!1,y)&&B}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)ur(_[b]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ot.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function dn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==_){var Ve=se.listener,bt=se.ha||se.src;se.fa&&us(c.i,se),B=Ve.call(bt,b)!==!1&&B}}return B&&!b.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=A(c,_));else if(c&&typeof c.handleEvent=="function")c=A(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function wu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,wu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class gf extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){oe.call(this),this.h=c,this.g={}}x(ds,oe);var ms=[];function ps(c){Se(c.g,function(y,_){this.g.hasOwnProperty(_)&&sa(y)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),ps(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=m.JSON.stringify,oa=m.JSON.parse,gs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function No(){}No.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function Oo(){}var wi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){re.call(this,"d")}x(Ai,re);function Mo(){re.call(this,"c")}x(Mo,re);var Wn={},ko=null;function cr(){return ko=ko||new ot}Wn.La="serverreachability";function la(c){re.call(this,Wn.La,c)}x(la,re);function hr(c){const y=cr();Fe(y,new la(y))}Wn.STAT_EVENT="statevent";function Au(c,y){re.call(this,Wn.STAT_EVENT,c),this.stat=y}x(Au,re);function tt(c){const y=cr();Fe(y,new Au(y,c))}Wn.Ma="timingevent";function Tt(c,y){re.call(this,Wn.Ma,c),this.size=y}x(Tt,re);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function An(){this.g=!0}An.prototype.xa=function(){this.g=!1};function Vo(c,y,_,b,B,K){c.info(function(){if(c.g)if(K)for(var se="",Ve=K.split("&"),bt=0;bt<Ve.length;bt++){var Pe=Ve[bt].split("=");if(1<Pe.length){var Nt=Pe[0];Pe=Pe[1];var wt=Nt.split("_");se=2<=wt.length&&wt[1]=="type"?se+(Nt+"="+Pe+"&"):se+(Nt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+b+") [attempt "+B+"]: "+y+`
`+_+`
`+se})}function yf(c,y,_,b,B,K,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+B+"]: "+y+`
`+_+`
`+K+" "+se})}function fr(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ys(c,_)+(b?" "+b:"")})}function Su(c,y){c.info(function(){return"TIMEOUT: "+y})}An.prototype.info=function(){};function ys(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var B=b[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return zn(_)}catch{return y}}var dr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Si={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function Jn(){}x(Jn,No),Jn.prototype.g=function(){return new XMLHttpRequest},Jn.prototype.i=function(){return{}},Zn=new Jn;function en(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var Po={},ua={};function Bn(c,y,_){c.L=1,c.v=bs(mn(y)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,y){c.F=Date.now(),_s(c),c.A=mn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),qo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ct,c.g=Bu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new gf(A(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ms[0]=B.toString()),B=ms);for(var K=0;K<B.length;K++){var se=Tu(_,B[K],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),hr(),Vo(c.i,c.u,c.A,c.l,c.R,c.m)}en.prototype.ca=function(c){c=c.target;const y=this.M;y&&Cn(c)==3?y.j():this.Y(c)},en.prototype.Y=function(c){try{if(c==this.g)e:{const wt=Cn(this.g);var y=this.g.Ba();const ki=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||Mu(this.g)))){this.J||wt!=4||y==7||(y==8||0>=ki?hr(3):hr(2)),mr(this);var _=this.g.Z();this.X=_;t:if(Ru(this)){var b=Mu(this.g);c="";var B=b.length,K=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),ei(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(K&&y==B-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,yf(this.i,this.u,this.A,this.l,this.R,wt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,bt=this.g;if((Ve=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)fr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vs(this,_);else{this.o=!1,this.s=3,tt(12),Pt(this),ei(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=Iu(this,se),Ut==ua){wt==4&&(this.s=4,tt(14),_=!1),fr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==Po){this.s=4,tt(15),fr(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else fr(this.i,this.l,Ut,null),vs(this,Ut);if(Ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||se.length!=0||this.h.h||(this.s=1,tt(16),_=!1),this.o=this.o&&_,!_)fr(this.i,this.l,se,"[Invalid Chunked Response]"),Pt(this),ei(this);else if(0<se.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Ns(Nt),Nt.M=!0,tt(11))}}else fr(this.i,this.l,se,null),vs(this,se);wt==4&&Pt(this),this.o&&!this.J&&(wt==4?Lu(this.j,this):(this.o=!1,_s(this)))}else bf(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),Pt(this),ei(this)}}}catch{}finally{}};function Ru(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Iu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?ua:(_=Number(y.substring(_,b)),isNaN(_)?Po:(b+=1,b+_>y.length?ua:(y=y.slice(b,b+_),c.C=b+_,y)))}en.prototype.cancel=function(){this.J=!0,Pt(this)};function _s(c){c.S=Date.now()+c.I,Cu(c,c.I)}function Cu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(A(c.ba,c),y)}function mr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}en.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Su(this.i,this.A),this.L!=2&&(hr(),tt(17)),Pt(this),this.s=2,ei(this)):Cu(this,this.S-c)};function ei(c){c.j.G==0||c.J||Lu(c.j,c)}function Pt(c){mr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ps(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function vs(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Uo(_.h,c))){if(!c.K&&Uo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var B=b;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ta(_),va(_);else break e;Qo(_),tt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(A(_.Za,_),6e3));if(1>=ha(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((c.K||_.g==c)&&Ta(_),!Z(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let Pe=B[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Nt=Pe[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const wt=Pe[4];wt!=null&&(_.Aa=wt,_.j.info("SVER="+_.Aa));const ki=Pe[5];ki!=null&&typeof ki=="number"&&0<ki&&(b=1.5*ki,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ut=c.g;if(Ut){const oi=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oi){var K=b.h;K.g||oi.indexOf("spdy")==-1&&oi.indexOf("quic")==-1&&oi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(fa(K,K.h),K.h=null))}if(b.D){const Yo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Yo&&(b.ya=Yo,Qe(b.I,b.D,Yo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=zu(b,b.J?b.ia:null,b.W),se.K){tn(b.h,se);var Ve=se,bt=b.L;bt&&(Ve.I=bt),Ve.B&&(mr(Ve),_s(Ve)),b.g=se}else Pu(b);0<_.i.length&&Ea(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Mi(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Mi(_,7):Go(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}hr(4)}catch{}}var xu=class{constructor(c,y){this.g=c,this.map=y}};function Ii(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ca(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ha(c){return c.h?1:c.g?c.g.size:0}function Uo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function fa(c,y){c.g?c.g.add(y):c.h=y}function tn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ii.prototype.cancel=function(){if(this.i=Lo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Lo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return $(c.i)}function _f(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function jo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=da(c),b=_f(c),B=b.length,K=0;K<B;K++)y.call(void 0,b[K],_&&_[K],c)}var Es=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function vf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),B=null;if(0<=b){var K=c[_].substring(0,b);B=c[_].substring(b+1)}else K=c[_];y(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,Ts(this,c.j),this.o=c.o,this.g=c.g,pr(this,c.s),this.l=c.l;var y=c.i,_=new xi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Ci(this,_),this.m=c.m}else c&&(y=String(c).match(Es))?(this.h=!1,Ts(this,y[1]||"",!0),this.o=Sn(y[2]||""),this.g=Sn(y[3]||"",!0),pr(this,y[4]),this.l=Sn(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=Sn(y[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ws(y,zo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,zo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ws(_,_.charAt(0)=="/"?Ef:Bo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ws(_,ma)),c.join("")};function mn(c){return new pt(c)}function Ts(c,y,_){c.j=_?Sn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function pr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ci(c,y,_){y instanceof xi?(c.i=y,Du(c.i,c.h)):(_||(y=ws(y,Tf)),c.i=new xi(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function bs(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Nu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Nu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,Bo=/[#\?:]/g,Ef=/[#\?]/g,Tf=/[#\?@]/g,ma=/#/g;function xi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&vf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=xi.prototype,i.add=function(c,y){Rn(this),this.i=null,c=ti(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Ni(c,y){Rn(c),y=ti(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Di(c,y){return Rn(c),y=ti(c,y),c.g.has(y)}i.forEach=function(c,y){Rn(this),this.g.forEach(function(_,b){_.forEach(function(B){c.call(y,B,b,this)},this)},this)},i.na=function(){Rn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const B=c[b];for(let K=0;K<B.length;K++)_.push(y[b])}return _},i.V=function(c){Rn(this);let y=[];if(typeof c=="string")Di(this,c)&&(y=y.concat(this.g.get(ti(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return Rn(this),this.i=null,c=ti(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function qo(c,y,_){Ni(c,y),0<_.length&&(c.i=null,c.g.set(ti(c,y),$(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const K=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var B=K;se[b]!==""&&(B+="="+encodeURIComponent(String(se[b]))),c.push(B)}}return this.i=c.join("&")};function ti(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Du(c,y){y&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(_,b){var B=b.toLowerCase();b!=B&&(Ni(this,b),qo(this,B,_))},c)),c.j=y}function As(c,y){const _=new An;if(m.Image){const b=new Image;b.onload=O(In,_,"TestLoadImage: loaded",!0,y,b),b.onerror=O(In,_,"TestLoadImage: error",!1,y,b),b.onabort=O(In,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=O(In,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function qn(c,y){const _=new An,b=new AbortController,B=setTimeout(()=>{b.abort(),In(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(K=>{clearTimeout(B),K.ok?In(_,"TestPingServer: ok",!0,y):In(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),In(_,"TestPingServer: error",!1,y)})}function In(c,y,_,b,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),b(_)}catch{}}function Ss(){this.g=new gs}function ni(c,y,_){const b=_||"";try{jo(c,function(B,K){let se=B;g(B)&&(se=zn(B)),y.push(b+K+"="+encodeURIComponent(se))})}catch(B){throw y.push(b+"type="+encodeURIComponent("_badmap")),B}}function gr(c){this.l=c.Ub||null,this.j=c.eb||!1}x(gr,No),gr.prototype.g=function(){return new Oi(this.l,this.j)},gr.prototype.i=function(c){return function(){return c}}({});function Oi(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Oi,ot),i=Oi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ri(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ii(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ii(this):ri(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ii(this))},i.Qa=function(c){this.g&&(this.response=c,ii(this))},i.ga=function(){this.g&&ii(this)};function ii(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ri(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function ri(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Oi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Fo(c){let y="";return Se(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function xt(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=Fo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function qe(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(qe,ot);var pa=/^https?$/i,Rs=["POST","PUT"];i=qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?Do(this.o):Do(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ou(this,K);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var B in b)_.set(B,b[B]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const K of b.keys())_.set(K,b.get(K));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Rs,y,void 0))||b||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of _)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Is(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ou(this,K)}};function Ou(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ga(c),si(c)}function ga(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),si(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),si(this,!0)),qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},i.bb=function(){ya(this)};function ya(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var B=String(c.D).match(Es)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),b=!pa.test(B?B.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var K=2<Cn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",ga(c)}}finally{si(c)}}}}function si(c,y){if(c.g){Is(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function Is(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oa(y)}};function Mu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(c){const y={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(Z(c[b]))continue;var _=P(c[b]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=y[B]||[];y[B]=K,K.push(_)}V(y,function(b){return b.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function _a(c){this.Aa=0,this.i=[],this.j=new An,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ii(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,b){tt(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=zu(this,null,this.W),Ea(this)};function Go(c){if(ku(c),c.G==3){var y=c.U++,_=mn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),xs(c,_),y=new en(c,c.j,y),y.L=2,y.v=bs(mn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Bu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),_s(y)}ju(c)}function va(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function ku(c){va(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ta(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ea(c){if(!ca(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||D(),me||(ae(),me=!0),ze.add(y,c),c.B=0}}function wf(c,y){return ha(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(A(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new en(this,this.j,c);let K=this.o;if(this.S&&(K?(K=S(K),M(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Vu(this,B,y),_=mn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),xs(this,_),K&&(this.O?y="headers="+encodeURIComponent(String(Fo(K)))+"&"+y:this.m&&xt(_,this.m,K)),fa(this.h,B),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),B.T=!0,Bn(B,_,null)):Bn(B,_,y),this.G=2}}else this.G==3&&(c?Ko(this,c):this.i.length==0||ca(this.h)||Ko(this))};function Ko(c,y){var _;y?_=y.l:_=c.U++;const b=mn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),xs(c,b),c.m&&c.o&&xt(b,c.m,c.o),_=new en(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Vu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),fa(c.h,_),Bn(_,b,y)}function xs(c,y){c.H&&Se(c.H,function(_,b){Qe(y,b,_)}),c.l&&jo({},function(_,b){Qe(y,b,_)})}function Vu(c,y,_){_=Math.min(c.i.length,_);var b=c.l?A(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+_];K==-1?0<_?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Ve=!0;for(let bt=0;bt<_;bt++){let Pe=B[bt].g;const Nt=B[bt].map;if(Pe-=K,0>Pe)K=Math.max(0,B[bt].g-100),Ve=!1;else try{ni(Nt,se,"req"+Pe+"_")}catch{b&&b(Nt)}}if(Ve){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Pu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||D(),me||(ae(),me=!0),ze.add(y,c),c.v=0}}function Qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(A(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(A(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),va(this),Uu(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new en(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=mn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),xs(c,y),c.m&&c.o&&xt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=bs(mn(y)),_.m=null,_.P=!0,Ri(_,c)}i.Za=function(){this.C!=null&&(this.C=null,va(this),Qo(this),tt(19))};function Ta(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Lu(c,y){var _=null;if(c.g==y){Ta(c),Ns(c),c.g=null;var b=2}else if(Uo(c.h,y))_=y.D,tn(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;b=cr(),Fe(b,new Tt(b,_)),Ea(c)}else Pu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(b==1&&wf(c,y)||b==2&&Qo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Mi(c,5);break;case 4:Mi(c,10);break;case 3:Mi(c,6);break;default:Mi(c,2)}}}function $o(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Mi(c,y){if(c.j.info("Error code "+y),y==2){var _=A(c.fb,c),b=c.Xa;const B=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ts(b,"https"),bs(b),B?As(b.toString(),_):qn(b.toString(),_)}else tt(2);c.G=0,c.l&&c.l.sa(y),ju(c),ku(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function ju(c){if(c.G=0,c.ka=[],c.l){const y=Lo(c.h);(y.length!=0||c.i.length!=0)&&(j(c.ka,y),j(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function zu(c,y,_){var b=_ instanceof pt?mn(_):new pt(_);if(b.g!="")y&&(b.g=y+"."+b.g),pr(b,b.s);else{var B=m.location;b=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var K=new pt(null);b&&Ts(K,b),y&&(K.g=y),B&&pr(K,B),_&&(K.l=_),b=K}return _=c.D,y=c.ya,_&&y&&Qe(b,_,y),Qe(b,"VER",c.la),xs(c,b),b}function Bu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new qe(new gr({eb:_})):new qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}i=qu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function ba(){}ba.prototype.g=function(c,y){return new nn(c,y)};function nn(c,y){ot.call(this),this.g=new _a(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!Z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!Z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ai(this)}x(nn,ot),nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Go(this.g)},nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=zn(c),c=_);y.i.push(new xu(y.Ya++,c)),y.G==3&&Ea(y)},nn.prototype.N=function(){this.g.l=null,delete this.j,Go(this.g),delete this.g,nn.aa.N.call(this)};function Hu(c){Ai.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Hu,Ai);function Fu(){Mo.call(this),this.status=1}x(Fu,Mo);function ai(c){this.g=c}x(ai,qu),ai.prototype.ua=function(){Fe(this.g,"a")},ai.prototype.ta=function(c){Fe(this.g,new Hu(c))},ai.prototype.sa=function(c){Fe(this.g,new Fu)},ai.prototype.ra=function(){Fe(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,LT=function(){return new ba},UT=function(){return cr()},PT=Wn,Gm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},dr.NO_ERROR=0,dr.TIMEOUT=8,dr.HTTP_ERROR=6,sh=dr,Si.COMPLETE="complete",VT=Si,Oo.EventType=wi,wi.OPEN="a",wi.CLOSE="b",wi.ERROR="c",wi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Bl=Oo,qe.prototype.listenOnce=qe.prototype.L,qe.prototype.getLastError=qe.prototype.Ka,qe.prototype.getLastErrorCode=qe.prototype.Ba,qe.prototype.getStatus=qe.prototype.Z,qe.prototype.getResponseJson=qe.prototype.Oa,qe.prototype.getResponseText=qe.prototype.oa,qe.prototype.send=qe.prototype.ea,qe.prototype.setWithCredentials=qe.prototype.Ha,kT=qe}).apply(typeof Qc<"u"?Qc:typeof self<"u"?self:typeof window<"u"?window:{});const T0="@firebase/firestore",b0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new yp("@firebase/firestore");function Wa(){return Js.logLevel}function le(i,...e){if(Js.logLevel<=Me.DEBUG){const n=e.map(xp);Js.debug(`Firestore (${To}): ${i}`,...n)}}function rr(i,...e){if(Js.logLevel<=Me.ERROR){const n=e.map(xp);Js.error(`Firestore (${To}): ${i}`,...n)}}function oo(i,...e){if(Js.logLevel<=Me.WARN){const n=e.map(xp);Js.warn(`Firestore (${To}): ${i}`,...n)}}function xp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(i="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+i;throw rr(e),new Error(e)}function He(i,e){i||Te()}function Ae(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class e2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(He(typeof s.accessToken=="string"),new jT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Xt(e)}}class n2{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class i2{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new n2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Pn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new w0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new w0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=s2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(i,e){return i<e?-1:i>e?1:0}function Km(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=zT(),f=a2(u.encode(A0(i,n)),u.encode(A0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(i.length,e.length)}function A0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function a2(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ce(i[n],e[n]);return Ce(i.length,e.length)}function lo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0=-62135596800,R0=1e6;class Rt{static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*R0);return new Rt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<S0)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-S0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Rt(0,0))}static max(){return new we(new Rt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qr.fromString(e.substring(4,e.length-2))}}class et extends di{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new et(n)}static emptyPath(){return new et([])}}const o2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ht extends di{construct(e,n,s){return new Ht(e,n,s)}static isValidIdentifier(e){return o2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ht.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===I0}static keyField(){return new Ht([I0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ue(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new ue(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ht(n)}static emptyPath(){return new Ht([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{constructor(e){this.path=e}static fromPath(e){return new pe(et.fromString(e))}static fromName(e){return new pe(et.fromString(e).popFirst(5))}static empty(){return new pe(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new pe(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function l2(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Rt(n+1,0):new Rt(n,s));return new Xr(o,pe.empty(),e)}function u2(i){return new Xr(i.readTime,i.key,tu)}class Xr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Xr(we.min(),pe.empty(),tu)}static max(){return new Xr(we.max(),pe.empty(),tu)}}function c2(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=pe.comparator(i.documentKey,e.documentKey),n!==0?n:Ce(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class f2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(i){if(i.code!==ee.FAILED_PRECONDITION||i.message!==h2)throw i;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function d2(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Bh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Np=-1;function qh(i){return i==null}function bh(i){return i===0&&1/i==-1/0}function m2(i){return typeof i=="number"&&Number.isInteger(i)&&!bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="";function p2(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=C0(e)),e=g2(i.get(n),e);return C0(e)}function g2(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case qT:n+="";break;default:n+=u}}return n}function C0(i){return i+qT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ss(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function HT(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||qt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,qt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $c(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $c(this.root,e,this.comparator,!1)}getReverseIterator(){return new $c(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $c(this.root,e,this.comparator,!0)}}class $c{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??qt.RED,this.left=o??qt.EMPTY,this.right=u??qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}qt.EMPTY=null,qt.RED=!0,qt.BLACK=!1;qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new N0(this.data.getIterator())}getIteratorFrom(e){return new N0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class N0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ht.comparator)}static empty(){return new bn([])}unionWith(e){let n=new It(Ht.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return lo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wr(i){if(He(!!i),typeof i=="string"){let e=0;const n=y2.exec(i);if(He(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Zr(i){return typeof i=="string"?Ft.fromBase64String(i):Ft.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="server_timestamp",KT="__type__",QT="__previous_value__",$T="__local_write_time__";function Dp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[KT])===null||n===void 0?void 0:n.stringValue)===GT}function Hh(i){const e=i.mapValue.fields[QT];return Dp(e)?Hh(e):e}function nu(i){const e=Wr(i.mapValue.fields[$T].timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const wh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT="__type__",v2="__max__",Yc={mapValue:{}},XT="__vector__",Ah="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Dp(i)?4:T2(i)?9007199254740991:E2(i)?10:11:Te()}function vi(i,e){if(i===e)return!0;const n=Jr(i);if(n!==Jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Wr(o.timestampValue),m=Wr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Zr(o.bytesValue).isEqual(Zr(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return lo(i.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(x0(f)!==x0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!vi(f[p],m[p])))return!1;return!0}(i,e);default:return Te()}}function ru(i,e){return(i.values||[]).find(n=>vi(n,e))!==void 0}function uo(i,e){if(i===e)return 0;const n=Jr(i),s=Jr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return D0(i.timestampValue,e.timestampValue);case 4:return D0(nu(i),nu(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=Zr(u),p=Zr(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return O0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const w=u.fields||{},A=f.fields||{},O=(m=w[Ah])===null||m===void 0?void 0:m.arrayValue,x=(p=A[Ah])===null||p===void 0?void 0:p.arrayValue,$=Ce(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return $!==0?$:O0(O,x)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Yc.mapValue&&f===Yc.mapValue)return 0;if(u===Yc.mapValue)return 1;if(f===Yc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let w=0;w<p.length&&w<E.length;++w){const A=Km(p[w],E[w]);if(A!==0)return A;const O=uo(m[p[w]],g[E[w]]);if(O!==0)return O}return Ce(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Te()}}function D0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const n=Wr(i),s=Wr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function O0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=uo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function co(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Wr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Zr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return pe.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"}(i.mapValue):Te()}function ah(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hh(i);return e?16+ah(e):16;case 5:return 2*i.stringValue.length;case 6:return Zr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+ah(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ss(s.fields,(u,f)=>{o+=u.length+ah(f)}),o}(i.mapValue);default:throw Te()}}function M0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function $m(i){return!!i&&"integerValue"in i}function Op(i){return!!i&&"arrayValue"in i}function k0(i){return!!i&&"nullValue"in i}function V0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function oh(i){return!!i&&"mapValue"in i}function E2(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[YT])===null||n===void 0?void 0:n.stringValue)===XT}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ss(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function T2(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===v2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.value=e}static empty(){return new cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!oh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Ht.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());oh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];oh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ss(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new cn(Kl(this.value))}}function WT(i){const e=[];return ss(i.fields,(n,s)=>{const o=new Ht([n]);if(oh(s)){const u=WT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,we.min(),we.min(),we.min(),cn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,we.min(),we.min(),cn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,we.min(),we.min(),cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e,n){this.position=e,this.inclusive=n}}function P0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=pe.comparator(pe.fromName(f.referenceValue),n.key):s=uo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!vi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function b2(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{}class vt extends ZT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new A2(e,n,s):n==="array-contains"?new I2(e,s):n==="in"?new C2(e,s):n==="not-in"?new x2(e,s):n==="array-contains-any"?new N2(e,s):new vt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new S2(e,s):new R2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(uo(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(uo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new $n(e,n)}matches(e){return JT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function JT(i){return i.op==="and"}function eb(i){return w2(i)&&JT(i)}function w2(i){for(const e of i.filters)if(e instanceof $n)return!1;return!0}function Ym(i){if(i instanceof vt)return i.field.canonicalString()+i.op.toString()+co(i.value);if(eb(i))return i.filters.map(e=>Ym(e)).join(",");{const e=i.filters.map(n=>Ym(n)).join(",");return`${i.op}(${e})`}}function tb(i,e){return i instanceof vt?function(s,o){return o instanceof vt&&s.op===o.op&&s.field.isEqual(o.field)&&vi(s.value,o.value)}(i,e):i instanceof $n?function(s,o){return o instanceof $n&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&tb(f,o.filters[m]),!0):!1}(i,e):void Te()}function nb(i){return i instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${co(n.value)}`}(i):i instanceof $n?function(n){return n.op.toString()+" {"+n.getFilters().map(nb).join(" ,")+"}"}(i):"Filter"}class A2 extends vt{constructor(e,n,s){super(e,n,s),this.key=pe.fromName(s.referenceValue)}matches(e){const n=pe.comparator(e.key,this.key);return this.matchesComparison(n)}}class S2 extends vt{constructor(e,n){super(e,"in",n),this.keys=ib("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class R2 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=ib("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ib(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>pe.fromName(s.referenceValue))}class I2 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Op(n)&&ru(n.arrayValue,this.value)}}class C2 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class x2 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class N2 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Op(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function L0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new D2(i,e,n,s,o,u,f)}function Mp(i){const e=Ae(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),qh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>co(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>co(s)).join(",")),e.le=n}return e.le}function kp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!b2(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!tb(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!U0(i.startAt,e.startAt)&&U0(i.endAt,e.endAt)}function Xm(i){return pe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function O2(i,e,n,s,o,u,f,m){return new Ao(i,e,n,s,o,u,f,m)}function Fh(i){return new Ao(i)}function j0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function rb(i){return i.collectionGroup!==null}function Ql(i){const e=Ae(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new It(Ht.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new su(u,s))}),n.has(Ht.keyField().canonicalString())||e.he.push(new su(Ht.keyField(),s))}return e.he}function gi(i){const e=Ae(i);return e.Pe||(e.Pe=M2(e,Ql(i))),e.Pe}function M2(i,e){if(i.limitType==="F")return L0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)});const n=i.endAt?new Sh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Sh(i.startAt.position,i.startAt.inclusive):null;return L0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Wm(i,e){const n=i.filters.concat([e]);return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Zm(i,e,n){return new Ao(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Gh(i,e){return kp(gi(i),gi(e))&&i.limitType===e.limitType}function sb(i){return`${Mp(gi(i))}|lt:${i.limitType}`}function Za(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>nb(o)).join(", ")}]`),qh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>co(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>co(o)).join(",")),`Target(${s})`}(gi(i))}; limitType=${i.limitType})`}function Kh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):pe.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=P0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=P0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function k2(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ab(i){return(e,n)=>{let s=!1;for(const o of Ql(i)){const u=V2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function V2(i,e,n){const s=i.field.isKeyField()?pe.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?uo(p,g):Te()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=new st(pe.comparator);function sr(){return P2}const ob=new st(pe.comparator);function ql(...i){let e=ob;for(const n of i)e=e.insert(n.key,n);return e}function lb(i){let e=ob;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return $l()}function ub(){return $l()}function $l(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const U2=new st(pe.comparator),L2=new It(pe.comparator);function ke(...i){let e=L2;for(const n of i)e=e.add(n);return e}const j2=new It(Ce);function z2(){return j2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function cb(i){return{integerValue:""+i}}function B2(i,e){return m2(e)?cb(e):Vp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function q2(i,e,n){return i instanceof Rh?function(o,u){const f={fields:{[KT]:{stringValue:GT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Dp(u)&&(u=Hh(u)),u&&(f.fields[QT]=u),{mapValue:f}}(n,e):i instanceof ho?fb(i,e):i instanceof au?db(i,e):function(o,u){const f=hb(o,u),m=z0(f)+z0(o.Ie);return $m(f)&&$m(o.Ie)?cb(m):Vp(o.serializer,m)}(i,e)}function H2(i,e,n){return i instanceof ho?fb(i,e):i instanceof au?db(i,e):n}function hb(i,e){return i instanceof Ih?function(s){return $m(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Rh extends Qh{}class ho extends Qh{constructor(e){super(),this.elements=e}}function fb(i,e){const n=mb(e);for(const s of i.elements)n.some(o=>vi(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Qh{constructor(e){super(),this.elements=e}}function db(i,e){let n=mb(e);for(const s of i.elements)n=n.filter(o=>!vi(o,s));return{arrayValue:{values:n}}}class Ih extends Qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function z0(i){return dt(i.integerValue||i.doubleValue)}function mb(i){return Op(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,n){this.field=e,this.transform=n}}function G2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof ho&&o instanceof ho||s instanceof au&&o instanceof au?lo(s.elements,o.elements,vi):s instanceof Ih&&o instanceof Ih?vi(s.Ie,o.Ie):s instanceof Rh&&o instanceof Rh}(i.transform,e.transform)}class K2{constructor(e,n){this.version=e,this.transformResults=n}}class Ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ln}static exists(e){return new Ln(void 0,e)}static updateTime(e){return new Ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class $h{}function pb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Pp(i.key,Ln.none()):new gu(i.key,i.data,Ln.none());{const n=i.data,s=cn.empty();let o=new It(Ht.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new as(i.key,s,new bn(o.toArray()),Ln.none())}}function Q2(i,e,n){i instanceof gu?function(o,u,f){const m=o.value.clone(),p=q0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof as?function(o,u,f){if(!lh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=q0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(gb(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(i,e,n,s){return i instanceof gu?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=u.value.clone(),E=H0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof as?function(u,f,m,p){if(!lh(u.precondition,f))return m;const g=H0(u.fieldTransforms,p,f),E=f.data;return E.setAll(gb(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(i,e,n,s):function(u,f,m){return lh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function $2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=hb(s.transform,o||null);u!=null&&(n===null&&(n=cn.empty()),n.set(s.field,u))}return n||null}function B0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&lo(s,o,(u,f)=>G2(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class gu extends $h{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class as extends $h{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function gb(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function q0(i,e,n){const s=new Map;He(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,H2(f,m,n[o]))}return s}function H0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,q2(u,f,e))}return s}class Pp extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends $h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Q2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=ub();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=pb(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&lo(this.mutations,e.mutations,(n,s)=>B0(n,s))&&lo(this.baseMutations,e.baseMutations,(n,s)=>B0(n,s))}}class Up{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){He(e.mutations.length===s.length);let o=function(){return U2}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Up(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function J2(i){switch(i){case ee.OK:return Te();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return Te()}}function yb(i){if(i===void 0)return rr("GRPC error has no .code"),ee.UNKNOWN;switch(i){case _t.OK:return ee.OK;case _t.CANCELLED:return ee.CANCELLED;case _t.UNKNOWN:return ee.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ee.INTERNAL;case _t.UNAVAILABLE:return ee.UNAVAILABLE;case _t.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case _t.NOT_FOUND:return ee.NOT_FOUND;case _t.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case _t.ABORTED:return ee.ABORTED;case _t.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case _t.DATA_LOSS:return ee.DATA_LOSS;default:return Te()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=new Qr([4294967295,4294967295],0);function F0(i){const e=zT().encode(i),n=new MT;return n.update(e),new Uint8Array(n.digest())}function G0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qr([n,s],0),new Qr([o,u],0)]}class Lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Hl(`Invalid padding: ${n}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Qr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Qr.fromNumber(s)));return o.compare(eN)===1&&(o=new Qr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Lp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=F0(e),[s,o]=G0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(we.min(),o,new st(Ce),sr(),ke())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class _b{constructor(e,n){this.targetId=e,this.ge=n}}class vb{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class K0{constructor(){this.pe=0,this.ye=Q0(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new yu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=Q0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class tN{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Xc(),this.Ue=Xc(),this.Ke=new st(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Xm(u))if(s===0){const f=new pe(u.path);this.ze(n,f,Wt.newNoDocument(f,we.min()))}else He(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Zr(s).toUint8Array()}catch(p){if(p instanceof FT)return oo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Lp(f,o,u)}catch(p){return oo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Xm(m.target)){const p=new pe(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Wt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Yh(e,n,this.Ke,this.Qe,s);return this.Qe=sr(),this.$e=Xc(),this.Ue=Xc(),this.Ke=new st(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new K0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new It(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new It(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new K0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Xc(){return new st(pe.comparator)}function Q0(){return new st(pe.comparator)}const nN={asc:"ASCENDING",desc:"DESCENDING"},iN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rN={and:"AND",or:"OR"};class sN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Jm(i,e){return i.useProto3Json||qh(e)?e:{value:e}}function Ch(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Eb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function aN(i,e){return Ch(i,e.toTimestamp())}function yi(i){return He(!!i),we.fromTimestamp(function(n){const s=Wr(n);return new Rt(s.seconds,s.nanos)}(i))}function jp(i,e){return ep(i,e).canonicalString()}function ep(i,e){const n=function(o){return new et(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Tb(i){const e=et.fromString(i);return He(Rb(e)),e}function tp(i,e){return jp(i.databaseId,e.path)}function xm(i,e){const n=Tb(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new pe(wb(n))}function bb(i,e){return jp(i.databaseId,e)}function oN(i){const e=Tb(i);return e.length===4?et.emptyPath():wb(e)}function np(i){return new et(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function wb(i){return He(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function $0(i,e,n){return{name:tp(i,e),fields:n.value.mapValue.fields}}function lN(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(He(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(He(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ee.UNKNOWN:yb(g.code);return new ue(E,g.message||"")}(f);n=new vb(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=xm(i,s.document.name),u=yi(s.document.updateTime),f=s.document.createTime?yi(s.document.createTime):we.min(),m=new cn({mapValue:{fields:s.document.fields}}),p=Wt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new uh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=xm(i,s.document),u=s.readTime?yi(s.readTime):we.min(),f=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new uh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=xm(i,s.document),u=s.removedTargetIds||[];n=new uh([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Z2(o,u),m=s.targetId;n=new _b(m,f)}}return n}function uN(i,e){let n;if(e instanceof gu)n={update:$0(i,e.key,e.value)};else if(e instanceof Pp)n={delete:tp(i,e.key)};else if(e instanceof as)n={update:$0(i,e.key,e.data),updateMask:_N(e.fieldMask)};else{if(!(e instanceof Y2))return Te();n={verify:tp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ho)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Ih)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(i,e.precondition)),n}function cN(i,e){return i&&i.length>0?(He(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?yi(o.updateTime):yi(u);return f.isEqual(we.min())&&(f=yi(u)),new K2(f,o.transformResults||[])}(n,e))):[]}function hN(i,e){return{documents:[bb(i,e.path)]}}function fN(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=bb(i,o);const u=function(g){if(g.length!==0)return Sb($n.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(A){return{field:Ja(A.field),direction:pN(A.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Jm(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function dN(i){let e=oN(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){He(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const A=Ab(w);return A instanceof $n&&eb(A)?A.getFilters():[A]}(n.where));let f=[];n.orderBy&&(f=function(w){return w.map(A=>function(x){return new su(eo(x.field),function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(n.orderBy));let m=null;n.limit&&(m=function(w){let A;return A=typeof w=="object"?w.value:w,qh(A)?null:A}(n.limit));let p=null;n.startAt&&(p=function(w){const A=!!w.before,O=w.values||[];return new Sh(O,A)}(n.startAt));let g=null;return n.endAt&&(g=function(w){const A=!w.before,O=w.values||[];return new Sh(O,A)}(n.endAt)),O2(e,o,f,u,m,"F",p,g)}function mN(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ab(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=eo(n.unaryFilter.field);return vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=eo(n.unaryFilter.field);return vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=eo(n.unaryFilter.field);return vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=eo(n.unaryFilter.field);return vt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(i):i.fieldFilter!==void 0?function(n){return vt.create(eo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return $n.create(n.compositeFilter.filters.map(s=>Ab(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(i):Te()}function pN(i){return nN[i]}function gN(i){return iN[i]}function yN(i){return rN[i]}function Ja(i){return{fieldPath:i.canonicalString()}}function eo(i){return Ht.fromServerFormat(i.fieldPath)}function Sb(i){return i instanceof vt?function(n){if(n.op==="=="){if(V0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NAN"}};if(k0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NAN"}};if(k0(n.value))return{unaryFilter:{field:Ja(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(n.field),op:gN(n.op),value:n.value}}}(i):i instanceof $n?function(n){const s=n.getFilters().map(o=>Sb(o));return s.length===1?s[0]:{compositeFilter:{op:yN(n.op),filters:s}}}(i):Te()}function _N(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Rb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.Tt=e}}function EN(i){const e=dN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.Tn=new bN}addToCollectionParentIndex(e,n){return this.Tn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(Xr.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(Xr.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class bN{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new It(et.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new It(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ib=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(Ib,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fo(0)}static Kn(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0="LruGarbageCollector",wN=1048576;function W0([i,e],[n,s]){const o=Ce(i,n);return o===0?Ce(e,s):o}class AN{constructor(e){this.Hn=e,this.buffer=new It(W0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class SN{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(X0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?le(X0,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.er(3e5)})}}class RN{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(Bh.ae);const s=new AN(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(Y0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(g=Date.now(),Wa()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${w} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function IN(i,e){return new RN(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,bn.empty(),Rt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=$l(),m=function(){return $l()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof as)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),Yl(E.mutation,g,E.mutation.getFieldMask(),Rt.now())):f.set(g.key,bn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var w;return m.set(g,new xN(E,(w=f.get(g))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=$l();let o=new st((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||bn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const w=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,w)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,w=ub();E.forEach(A=>{if(!u.has(A)){const O=pb(n.get(A),s.get(A));O!==null&&w.set(A,O),u=u.add(A)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,w))}return te.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return pe.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve($s());let m=tu,p=u;return f.next(g=>te.forEach(g,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(A=>{p=p.insert(E,A)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:lb(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new pe(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(w,A){return new Ao(A,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((w,A)=>{f=f.insert(w,A)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Wt.newInvalidDocument(E)))});let m=ql();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Yl(E.mutation,g,bn.empty(),Rt.now()),Kh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return te.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:yi(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:EN(o.bundledQuery),readTime:yi(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this.overlays=new st(pe.comparator),this.Rr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new pe(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=$s(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new W2(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(){this.Vr=new It(kt.mr),this.gr=new It(kt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new kt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new pe(new et([])),s=new kt(n,e),o=new kt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new pe(new et([])),s=new kt(n,e),o=new kt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new kt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return pe.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||pe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new It(kt.mr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new X2(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(f)}lookupMutationBatch(e,n){return te.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Np:this.Fr-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),o=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new It(Ce);return n.forEach(o=>{const u=new kt(o,0),f=new kt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),te.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;pe.isDocumentKey(u)||(u=u.child(""));const f=new kt(new pe(u),0);let m=new It(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),te.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return te.forEach(n.mutations,o=>{const u=new kt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new kt(n,0),o=this.Mr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.kr=e,this.docs=function(){return new st(pe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new pe(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||c2(u2(E),s)<=0||(o.has(E.key)||Kh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new PN(this)}getSize(e){return te.resolve(this.size)}}class PN extends CN{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e){this.persistence=e,this.Qr=new na(n=>Mp(n),kp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Ur=new zp,this.targetCount=0,this.Kr=fo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),te.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.zn(n),te.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Bh(0),this.zr=!1,this.zr=!0,this.jr=new MN,this.referenceDelegate=e(this),this.Hr=new UN(this),this.indexManager=new TN,this.remoteDocumentCache=function(o){return new VN(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new vN(n),this.Yr=new DN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ON,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new kN(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new LN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return te.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class LN extends f2{constructor(e){super(),this.currentSequenceNumber=e}}class Bp{constructor(e){this.persistence=e,this.ti=new zp,this.ni=null}static ri(e){return new Bp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),te.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.ii,s=>{const o=pe.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return te.or([()=>te.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.oi=new na(s=>p2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=IN(this,n)}static ri(e,n){return new xh(e,n)}Zr(){}Xr(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return te.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),te.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ah(e.data.value)),n}ar(e,n,s){return te.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new qp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return E1()?8:d2(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new jN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Wa()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),te.resolve()):(Wa()<=Me.DEBUG&&le("QueryEngine","Query:",Za(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Wa()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gi(n))):te.resolve())}rs(e,n){if(j0(n))return te.resolve(null);let s=gi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zm(n,null,"F"),s=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Zm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return j0(n)||o.isEqual(we.min())?te.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?te.resolve(null):(Wa()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Za(n)),this.hs(e,f,n,l2(o,tu)).next(m=>m))})}cs(e,n){let s=new It(ab(e));return n.forEach((o,u)=>{Kh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Wa()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Za(n)),this.ns.getDocumentsMatchingQuery(e,n,Xr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp="LocalStore",BN=3e8;class qN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ce),this.Is=new na(u=>Mp(u),kp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function HN(i,e,n,s){return new qN(i,e,n,s)}async function xb(i,e){const n=Ae(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function FN(i,e){const n=Ae(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const w=g.batch,A=w.keys();let O=te.resolve();return A.forEach(x=>{O=O.next(()=>E.getEntry(p,x)).next($=>{const j=g.docVersions.get(x);He(j!==null),$.version.compareTo(j)<0&&(w.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),E.addEntry($)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function Nb(i){const e=Ae(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function GN(i,e){const n=Ae(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,w)=>{const A=o.get(w);if(!A)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,w)));let O=A.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?O=O.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(E.resumeToken,s)),o=o.insert(w,O),function($,j,Q){return $.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=BN?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(A,O,E)&&m.push(n.Hr.updateTargetData(u,O))});let p=sr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(KN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(we.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(w=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function KN(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Hp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function QN(i,e){const n=Ae(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Np),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $N(i,e){const n=Ae(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Hr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function ip(i,e,n){const s=Ae(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!wo(f))throw f;le(Hp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Z0(i,e,n){const s=Ae(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const w=Ae(p),A=w.Is.get(E);return A!==void 0?te.resolve(w.Ts.get(A)):w.Hr.getTargetData(g,E)}(s,f,gi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:ke())).next(m=>(YN(s,k2(e),m),{documents:m,gs:u})))}function YN(i,e,n){let s=i.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class J0{constructor(){this.activeTargetIds=z2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XN{constructor(){this.ho=new J0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new J0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=null;function rp(){return Wc===null?Wc=function(){return 268435456+Math.round(2147483648*Math.random())}():Wc++,"0x"+Wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="RestConnection",ZN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=rp(),m=this.bo(e,n.toUriEncodedString());le(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(le(Nm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw oo(Nm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=ZN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class tD extends JN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=rp();return new Promise((f,m)=>{const p=new kT;p.setWithCredentials(!0),p.listenOnce(VT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sh.NO_ERROR:const E=p.getResponseJson();le($t,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case sh.TIMEOUT:le($t,`RPC '${e}' ${u} timed out`),m(new ue(ee.DEADLINE_EXCEEDED,"Request time out"));break;case sh.HTTP_ERROR:const w=p.getStatus();if(le($t,`RPC '${e}' ${u} failed with status:`,w,"response text:",p.getResponseText()),w>0){let A=p.getResponseJson();Array.isArray(A)&&(A=A[0]);const O=A==null?void 0:A.error;if(O&&O.status&&O.message){const x=function(j){const Q=j.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Q)>=0?Q:ee.UNKNOWN}(O.status);m(new ue(x,O.message))}else m(new ue(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ue(ee.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le($t,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le($t,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=rp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=LT(),m=UT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${E}`,p);const w=f.createWebChannel(E,p);let A=!1,O=!1;const x=new eD({Fo:j=>{O?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(A||(le($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),A=!0),le($t,`RPC '${e}' stream ${o} sending:`,j),w.send(j))},Mo:()=>w.close()}),$=(j,Q,Z)=>{j.listen(Q,ne=>{try{Z(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return $(w,Bl.EventType.OPEN,()=>{O||(le($t,`RPC '${e}' stream ${o} transport opened.`),x.Qo())}),$(w,Bl.EventType.CLOSE,()=>{O||(O=!0,le($t,`RPC '${e}' stream ${o} transport closed`),x.Uo())}),$(w,Bl.EventType.ERROR,j=>{O||(O=!0,oo($t,`RPC '${e}' stream ${o} transport errored:`,j),x.Uo(new ue(ee.UNAVAILABLE,"The operation could not be completed")))}),$(w,Bl.EventType.MESSAGE,j=>{var Q;if(!O){const Z=j.data[0];He(!!Z);const ne=Z,fe=(ne==null?void 0:ne.error)||((Q=ne[0])===null||Q===void 0?void 0:Q.error);if(fe){le($t,`RPC '${e}' stream ${o} received error:`,fe);const he=fe.status;let Se=function(R){const M=_t[R];if(M!==void 0)return yb(M)}(he),V=fe.message;Se===void 0&&(Se=ee.INTERNAL,V="Unknown error status: "+he+" with message "+fe.message),O=!0,x.Uo(new ue(Se,V)),w.close()}else le($t,`RPC '${e}' stream ${o} received:`,Z),x.Ko(Z)}}),$(m,PT.STAT_EVENT,j=>{j.stat===Gm.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===Gm.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(i){return new sN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class Ob{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Db(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ue(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nD extends Ob{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=lN(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?yi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=np(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Xm(p)?{documents:hN(u,p)}:{query:fN(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=Eb(u,f.resumeToken);const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ch(u,f.snapshotVersion.toTimestamp());const g=Jm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=mN(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=np(this.serializer),n.removeTarget=e,this.I_(n)}}class iD extends Ob{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=cN(e.writeResults,e.commitTime),s=yi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=np(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uN(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{}class sD extends rD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,ep(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,ep(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class aD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="RemoteStore";class oD{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ia(this)&&(le(ea,"Restarting streams for network reachability change."),await async function(p){const g=Ae(p);g.W_.add(4),await _u(g),g.j_.set("Unknown"),g.W_.delete(4),await Wh(g)}(this))})}),this.j_=new aD(s,o)}}async function Wh(i){if(ia(i))for(const e of i.G_)await e(!0)}async function _u(i){for(const e of i.G_)await e(!1)}function Mb(i,e){const n=Ae(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Qp(n)?Kp(n):So(n).c_()&&Gp(n,e))}function Fp(i,e){const n=Ae(i),s=So(n);n.K_.delete(e),s.c_()&&kb(n,e),n.K_.size===0&&(s.c_()?s.P_():ia(n)&&n.j_.set("Unknown"))}function Gp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(i).y_(e)}function kb(i,e){i.H_.Ne(e),So(i).w_(e)}function Kp(i){i.H_=new tN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),So(i).start(),i.j_.B_()}function Qp(i){return ia(i)&&!So(i).u_()&&i.K_.size>0}function ia(i){return Ae(i).W_.size===0}function Vb(i){i.H_=void 0}async function lD(i){i.j_.set("Online")}async function uD(i){i.K_.forEach((e,n)=>{Gp(i,e)})}async function cD(i,e){Vb(i),Qp(i)?(i.j_.q_(e),Kp(i)):i.j_.set("Unknown")}async function hD(i,e,n){if(i.j_.set("Online"),e instanceof vb&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){le(ea,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Nh(i,s)}else if(e instanceof uh?i.H_.We(e):e instanceof _b?i.H_.Ze(e):i.H_.je(e),!n.isEqual(we.min()))try{const s=await Nb(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),kb(u,p);const w=new Hr(E.target,p,g,E.sequenceNumber);Gp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){le(ea,"Failed to raise snapshot:",s),await Nh(i,s)}}async function Nh(i,e,n){if(!wo(e))throw e;i.W_.add(1),await _u(i),i.j_.set("Offline"),n||(n=()=>Nb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{le(ea,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await Wh(i)})}function Pb(i,e){return e().catch(n=>Nh(i,n,e))}async function Zh(i){const e=Ae(i),n=es(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Np;for(;fD(e);)try{const o=await QN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,dD(e,o)}catch(o){await Nh(e,o)}Ub(e)&&Lb(e)}function fD(i){return ia(i)&&i.U_.length<10}function dD(i,e){i.U_.push(e);const n=es(i);n.c_()&&n.S_&&n.b_(e.mutations)}function Ub(i){return ia(i)&&!es(i).u_()&&i.U_.length>0}function Lb(i){es(i).start()}async function mD(i){es(i).C_()}async function pD(i){const e=es(i);for(const n of i.U_)e.b_(n.mutations)}async function gD(i,e,n){const s=i.U_.shift(),o=Up.from(s,e,n);await Pb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Zh(i)}async function yD(i,e){e&&es(i).S_&&await async function(s,o){if(function(f){return J2(f)&&f!==ee.ABORTED}(o.code)){const u=s.U_.shift();es(s).h_(),await Pb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zh(s)}}(i,e),Ub(i)&&Lb(i)}async function iE(i,e){const n=Ae(i);n.asyncQueue.verifyOperationInProgress(),le(ea,"RemoteStore received new credentials");const s=ia(n);n.W_.add(3),await _u(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Wh(n)}async function _D(i,e){const n=Ae(i);e?(n.W_.delete(2),await Wh(n)):e||(n.W_.add(2),await _u(n),n.j_.set("Unknown"))}function So(i){return i.J_||(i.J_=function(n,s,o){const u=Ae(n);return u.M_(),new nD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:lD.bind(null,i),No:uD.bind(null,i),Lo:cD.bind(null,i),p_:hD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Qp(i)?Kp(i):i.j_.set("Unknown")):(await i.J_.stop(),Vb(i))})),i.J_}function es(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new iD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:mD.bind(null,i),Lo:yD.bind(null,i),D_:pD.bind(null,i),v_:gD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await Zh(i)):(await i.Y_.stop(),i.U_.length>0&&(le(ea,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new $p(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yp(i,e){if(rr("AsyncQueue",`${e}: ${i}`),wo(i))return new ue(ee.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{static emptySet(e){return new so(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||pe.comparator(n.key,s.key):(n,s)=>pe.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof so)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new so;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Z_=new st(pe.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class mo{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new mo(e,n,so.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class ED{constructor(){this.queries=sE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=sE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new ue(ee.ABORTED,"Firestore shutting down"))}}function sE(){return new na(i=>sb(i),Gh)}async function Xp(i,e){const n=Ae(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new vD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Yp(f,`Initialization of query '${Za(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Zp(n)}async function Wp(i,e){const n=Ae(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function TD(i,e){const n=Ae(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Zp(n)}function bD(i,e,n){const s=Ae(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Zp(i){i.ia.forEach(e=>{e.next()})}var sp,aE;(aE=sp||(sp={}))._a="default",aE.Cache="cache";class Jp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e){this.key=e}}class zb{constructor(e){this.key=e}}class wD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=ab(e),this.wa=new so(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new rE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const A=o.get(E),O=Kh(this.query,w)?w:null,x=!!A&&this.mutatedKeys.has(A.key),$=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let j=!1;A&&O?A.data.isEqual(O.data)?x!==$&&(s.track({type:3,doc:O}),j=!0):this.va(A,O)||(s.track({type:2,doc:O}),j=!0,(p&&this.ya(O,p)>0||g&&this.ya(O,g)<0)&&(m=!0)):!A&&O?(s.track({type:0,doc:O}),j=!0):A&&!O&&(s.track({type:1,doc:A}),j=!0,(p||g)&&(m=!0)),j&&(O?(f=f.add(O),u=$?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,w)=>function(O,x){const $=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return $(O)-$(x)}(E.type,w.type)||this.ya(E.doc,w.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new mo(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new zb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new jb(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const eg="SyncEngine";class AD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class SD{constructor(e){this.key=e,this.Ba=!1}}class RD{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>sb(m),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new st(pe.comparator),this.Ua=new Map,this.Ka=new zp,this.Wa={},this.Ga=new Map,this.za=fo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ID(i,e,n=!0){const s=Kb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await Bb(s,e,n,!0),o}async function CD(i,e){const n=Kb(i);await Bb(n,e,!0,!1)}async function Bb(i,e,n,s){const o=await $N(i.localStore,gi(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xD(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&Mb(i.remoteStore,o),m}async function xD(i,e,n,s,o){i.Ha=(w,A,O)=>async function($,j,Q,Z){let ne=j.view.ba(Q);ne.ls&&(ne=await Z0($.localStore,j.query,!1).then(({documents:V})=>j.view.ba(V,ne)));const fe=Z&&Z.targetChanges.get(j.targetId),he=Z&&Z.targetMismatches.get(j.targetId)!=null,Se=j.view.applyChanges(ne,$.isPrimaryClient,fe,he);return lE($,j.targetId,Se.Ma),Se.snapshot}(i,w,A,O);const u=await Z0(i.localStore,e,!0),f=new wD(e,u.gs),m=f.ba(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);lE(i,n,g.Ma);const E=new AD(e,n,f);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function ND(i,e,n){const s=Ae(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Gh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Fp(s.remoteStore,o.targetId),ap(s,o.targetId)}).catch(bo)):(ap(s,o.targetId),await ip(s.localStore,o.targetId,!0))}async function DD(i,e){const n=Ae(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Fp(n.remoteStore,s.targetId))}async function OD(i,e,n){const s=jD(i);try{const o=await function(f,m){const p=Ae(f),g=Rt.now(),E=m.reduce((O,x)=>O.add(x.key),ke());let w,A;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let x=sr(),$=ke();return p.ds.getEntries(O,E).next(j=>{x=j,x.forEach((Q,Z)=>{Z.isValidDocument()||($=$.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,x)).next(j=>{w=j;const Q=[];for(const Z of m){const ne=$2(Z,w.get(Z.key).overlayedDocument);ne!=null&&Q.push(new as(Z.key,ne,WT(ne.value.mapValue),Ln.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Q,m)}).next(j=>{A=j;const Q=j.applyToLocalDocumentSet(w,$);return p.documentOverlayCache.saveOverlays(O,j.batchId,Q)})}).then(()=>({batchId:A.batchId,changes:lb(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new st(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await vu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=Yp(o,"Failed to persist write");n.reject(u)}}async function qb(i,e){const n=Ae(i);try{const s=await GN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(He(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?He(f.Ba):o.removedDocuments.size>0&&(He(f.Ba),f.Ba=!1))}),await vu(n,s,e)}catch(s){await bo(s)}}function oE(i,e,n){const s=Ae(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let g=!1;p.queries.forEach((E,w)=>{for(const A of w.ta)A.sa(m)&&(g=!0)}),g&&Zp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function MD(i,e,n){const s=Ae(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new st(pe.comparator);f=f.insert(u,Wt.newNoDocument(u,we.min()));const m=ke().add(u),p=new Yh(we.min(),new Map,new st(Ce),f,m);await qb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),tg(s)}else await ip(s.localStore,e,!1).then(()=>ap(s,e,n)).catch(bo)}async function kD(i,e){const n=Ae(i),s=e.batch.batchId;try{const o=await FN(n.localStore,e);Fb(n,s,null),Hb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await bo(o)}}async function VD(i,e,n){const s=Ae(i);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(w=>(He(w!==null),E=w.keys(),p.mutationQueue.removeMutationBatch(g,w))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Fb(s,e,n),Hb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await bo(o)}}function Hb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Fb(i,e,n){const s=Ae(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function ap(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Gb(i,s)})}function Gb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Fp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),tg(i))}function lE(i,e,n){for(const s of n)s instanceof jb?(i.Ka.addReference(s.key,e),PD(i,s)):s instanceof zb?(le(eg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Gb(i,s.key)):Te()}function PD(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(le(eg,"New document in limbo: "+n),i.Qa.add(s),tg(i))}function tg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new pe(et.fromString(e)),s=i.za.next();i.Ua.set(s,new SD(n)),i.$a=i.$a.insert(n,s),Mb(i.remoteStore,new Hr(gi(Fh(n.path)),s,"TargetPurposeLimboResolution",Bh.ae))}}async function vu(i,e,n){const s=Ae(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const w=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,w?"current":"not-current")}if(g){o.push(g);const w=qp.Yi(p.targetId,g);u.push(w)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Ae(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>te.forEach(g,A=>te.forEach(A.Hi,O=>E.persistence.referenceDelegate.addReference(w,A.targetId,O)).next(()=>te.forEach(A.Ji,O=>E.persistence.referenceDelegate.removeReference(w,A.targetId,O)))))}catch(w){if(!wo(w))throw w;le(Hp,"Failed to update sequence numbers: "+w)}for(const w of g){const A=w.targetId;if(!w.fromCache){const O=E.Ts.get(A),x=O.snapshotVersion,$=O.withLastLimboFreeSnapshotVersion(x);E.Ts=E.Ts.insert(A,$)}}}(s.localStore,u))}async function UD(i,e){const n=Ae(i);if(!n.currentUser.isEqual(e)){le(eg,"User change. New user:",e.toKey());const s=await xb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new ue(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Rs)}}function LD(i,e){const n=Ae(i),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function Kb(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=qb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=LD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MD.bind(null,e),e.La.p_=TD.bind(null,e.eventManager),e.La.Ja=bD.bind(null,e.eventManager),e}function jD(i){const e=Ae(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=kD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VD.bind(null,e),e}class Dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return HN(this.persistence,new zN,e.initialUser,this.serializer)}Xa(e){return new Cb(Bp.ri,this.serializer)}Za(e){return new XN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Dh.provider={build:()=>new Dh};class zD extends Dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof xh);const s=this.persistence.referenceDelegate.garbageCollector;return new SN(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new Cb(s=>xh.ri(s,n),this.serializer)}}class op{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UD.bind(null,this.syncEngine),await _D(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ED}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=function(u){return new tD(u)}(e.databaseInfo);return function(u,f,m,p){return new sD(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new oD(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>oE(this.syncEngine,n,0),function(){return tE.D()?new tE:new WN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const w=new RD(o,u,f,m,p,g);return E&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);le(ea,"RemoteStore shutting down."),u.W_.add(5),await _u(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}op.provider={build:()=>new op};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class BD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Xt.UNAUTHENTICATED,this.clientId=BT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le(ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le(ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Yp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Om(i,e){i.asyncQueue.verifyOperationInProgress(),le(ts,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await xb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function uE(i,e){i.asyncQueue.verifyOperationInProgress();const n=await qD(i);le(ts,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>iE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>iE(e.remoteStore,o)),i._onlineComponents=e}async function qD(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){le(ts,"Using user provided OfflineComponentProvider");try{await Om(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;oo("Error using user provided cache. Falling back to memory cache: "+n),await Om(i,new Dh)}}else le(ts,"Using default OfflineComponentProvider"),await Om(i,new zD(void 0));return i._offlineComponents}async function Qb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(le(ts,"Using user provided OnlineComponentProvider"),await uE(i,i._uninitializedComponentsProvider._online)):(le(ts,"Using default OnlineComponentProvider"),await uE(i,new op))),i._onlineComponents}function HD(i){return Qb(i).then(e=>e.syncEngine)}async function Oh(i){const e=await Qb(i),n=e.eventManager;return n.onListen=ID.bind(null,e.syncEngine),n.onUnlisten=ND.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=CD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DD.bind(null,e.syncEngine),n}function FD(i,e,n={}){const s=new er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new ng({next:A=>{E.su(),f.enqueueAndForget(()=>Wp(u,w));const O=A.docs.has(m);!O&&A.fromCache?g.reject(new ue(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&A.fromCache&&p&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Jp(Fh(m.path),E,{includeMetadataChanges:!0,Ta:!0});return Xp(u,w)}(await Oh(i),i.asyncQueue,e,n,s)),s.promise}function GD(i,e,n={}){const s=new er;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new ng({next:A=>{E.su(),f.enqueueAndForget(()=>Wp(u,w)),A.fromCache&&p.source==="server"?g.reject(new ue(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),w=new Jp(m,E,{includeMetadataChanges:!0,Ta:!0});return Xp(u,w)}(await Oh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i,e,n){if(!n)throw new ue(ee.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KD(i,e,n,s){if(e===!0&&s===!0)throw new ue(ee.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function hE(i){if(!pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function fE(i){if(pe.isDocumentKey(i))throw new ue(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Jh(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Te()}function hn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(i);throw new ue(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",dE=!0;class mE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=dE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wN)throw new ue(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$b((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Jx;switch(s.type){case"firstParty":return new i2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cE.get(n);s&&(le("ComponentProvider","Removing Datastore"),cE.delete(n),s.terminate())}(this),Promise.resolve()}}function QD(i,e,n,s={}){var o;const u=(i=hn(i,ef))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Xb&&u.host!==m&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Yr(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Xt.MOCK_USER;else{g=d1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const w=s.mockUserToken.sub||s.mockUserToken.user_id;if(!w)throw new ue(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Xt(w)}i._authCredentials=new e2(new jT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new os(this.firestore,e,this._query)}}class Zt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $r(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class $r extends os{constructor(e,n,s){super(e,n,Fh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new pe(e))}withConverter(e){return new $r(this.firestore,e,this._path)}}function tf(i,e,...n){if(i=Et(i),Yb("collection","path",e),i instanceof ef){const s=et.fromString(e,...n);return fE(s),new $r(i,null,s)}{if(!(i instanceof Zt||i instanceof $r))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return fE(s),new $r(i.firestore,null,s)}}function jn(i,e,...n){if(i=Et(i),arguments.length===1&&(e=BT.newId()),Yb("doc","path",e),i instanceof ef){const s=et.fromString(e,...n);return hE(s),new Zt(i,null,new pe(s))}{if(!(i instanceof Zt||i instanceof $r))throw new ue(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(et.fromString(e,...n));return hE(s),new Zt(i.firestore,i instanceof $r?i.converter:null,new pe(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Db(this,"async_queue_retry"),this.Su=()=>{const s=Dm();s&&le(pE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=Dm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!wo(e))throw e;le(pE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=$p.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function yE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ar extends ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function $D(i,e){const n=typeof i=="object"?i:XE(),s=typeof i=="string"?i:wh,o=vp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=h1("firestore");u&&QD(o,...u)}return o}function nf(i){if(i._terminated)throw new ue(ee.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YD(i),i._firestoreClient}function YD(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new _2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,$b(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new BD(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Ft.fromBase64String(e))}catch(n){throw new ue(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ht(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=/^__.*__$/;class WD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class Wb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new as(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Zb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class af{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Zb(this.Lu)&&XD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ZD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}ju(e,n,s,o=!1){return new af({Lu:e,methodName:n,zu:s,path:Ht.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function of(i){const e=i._freezeSettings(),n=Xh(i._databaseId);return new ZD(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Jb(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);ag("Data must be an object, but it was:",f,s);const m=ew(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const A=lp(e,w,n);if(!f.contains(A))throw new ue(ee.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);nw(E,A)||E.push(A)}p=new bn(E),g=f.fieldTransforms.filter(w=>p.covers(w.field))}else p=null,g=f.fieldTransforms;return new WD(new cn(m),p,g)}class lf extends sf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function JD(i,e,n){return new af({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class sg extends sf{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=JD(this,e,!0),s=this.Hu.map(u=>Ro(u,n)),o=new ho(s);return new F2(e.path,o)}isEqual(e){return e instanceof sg&&Yr(this.Hu,e.Hu)}}function eO(i,e,n,s){const o=i.ju(1,e,n);ag("Data must be an object, but it was:",o,s);const u=[],f=cn.empty();ss(s,(p,g)=>{const E=og(e,p,n);g=Et(g);const w=o.Uu(E);if(g instanceof lf)u.push(E);else{const A=Ro(g,w);A!=null&&(u.push(E),f.set(E,A))}});const m=new bn(u);return new Wb(f,m,o.fieldTransforms)}function tO(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[lp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let A=0;A<u.length;A+=2)m.push(lp(e,u[A])),p.push(u[A+1]);const g=[],E=cn.empty();for(let A=m.length-1;A>=0;--A)if(!nw(g,m[A])){const O=m[A];let x=p[A];x=Et(x);const $=f.Uu(O);if(x instanceof lf)g.push(O);else{const j=Ro(x,$);j!=null&&(g.push(O),E.set(O,j))}}const w=new bn(g);return new Wb(E,w,f.fieldTransforms)}function nO(i,e,n,s=!1){return Ro(n,i.ju(s?4:3,e))}function Ro(i,e){if(tw(i=Et(i)))return ag("Unsupported field value:",e,i),ew(i,e);if(i instanceof sf)return function(s,o){if(!Zb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ro(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return B2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Rt.fromDate(s);return{timestampValue:Ch(o.serializer,u)}}if(s instanceof Rt){const u=new Rt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ch(o.serializer,u)}}if(s instanceof ig)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:Eb(o.serializer,s._byteString)};if(s instanceof Zt){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof rg)return function(f,m){return{mapValue:{fields:{[YT]:{stringValue:XT},[Ah]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Vp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jh(s)}`)}(i,e)}function ew(i,e){const n={};return HT(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(i,(s,o)=>{const u=Ro(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function tw(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Rt||i instanceof ig||i instanceof po||i instanceof Zt||i instanceof sf||i instanceof rg)}function ag(i,e,n){if(!tw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jh(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function lp(i,e,n){if((e=Et(e))instanceof rf)return e._internalPath;if(typeof e=="string")return og(i,e);throw Mh("Field path arguments must be of type string or ",i,!1,void 0,n)}const iO=new RegExp("[~\\*/\\[\\]]");function og(i,e,n){if(e.search(iO)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Mh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new ue(ee.INVALID_ARGUMENT,m+i+p)}function nw(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(uf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rO extends iw{data(){return super.data()}}function uf(i,e){return typeof e=="string"?og(i,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rw(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class lg{}class sw extends lg{}function aw(i,e,...n){let s=[];e instanceof lg&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof ug).length,m=u.filter(p=>p instanceof cf).length;if(f>1||f>0&&m>0)throw new ue(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class cf extends sw{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new cf(e,n,s)}_apply(e){const n=this._parse(e);return ow(e._query,n),new os(e.firestore,e.converter,Wm(e._query,n))}_parse(e){const n=of(e.firestore);return function(u,f,m,p,g,E,w){let A;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vE(w,E);const x=[];for(const $ of w)x.push(_E(p,u,$));A={arrayValue:{values:x}}}else A=_E(p,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vE(w,E),A=nO(m,f,w,E==="in"||E==="not-in");return vt.create(g,E,A)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sO(i,e,n){const s=e,o=uf("where",i);return cf._create(o,s,n)}class ug extends lg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ug(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:$n.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)ow(f,p),f=Wm(f,p)}(e._query,n),new os(e.firestore,e.converter,Wm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cg extends sw{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new cg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)}(e._query,this._field,this._direction);return new os(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new Ao(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function aO(i,e="asc"){const n=e,s=uf("orderBy",i);return cg._create(s,n)}function _E(i,e,n){if(typeof(n=Et(n))=="string"){if(n==="")throw new ue(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rb(e)&&n.indexOf("/")!==-1)throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!pe.isDocumentKey(s))throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return M0(i,new pe(s))}if(n instanceof Zt)return M0(i,n._key);throw new ue(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function vE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ow(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(ee.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class oO{convertValue(e,n="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ss(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Ah].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new rg(u)}convertGeoPoint(e){return new ig(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Hh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=Wr(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);He(Rb(s));const o=new iu(s.get(1),s.get(3)),u=new pe(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uw extends iw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(uf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ch extends uw{data(e={}){return super.data(e)}}class cw{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ch(this._firestore,this._userDataWriter,s.key,s,new Fl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ch(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),E=f.indexOf(m.doc.key)),{type:lO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(i){i=hn(i,Zt);const e=hn(i.firestore,ar);return FD(nf(e),i._key).then(n=>fw(e,i,n))}class fg extends oO{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}}function uO(i){i=hn(i,os);const e=hn(i.firestore,ar),n=nf(e),s=new fg(e);return rw(i._query),GD(n,i._query).then(o=>new cw(e,s,i,o))}function hw(i,e,n){i=hn(i,Zt);const s=hn(i.firestore,ar),o=lw(i.converter,e);return ff(s,[Jb(of(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Ln.none())])}function hf(i,e,n,...s){i=hn(i,Zt);const o=hn(i.firestore,ar),u=of(o);let f;return f=typeof(e=Et(e))=="string"||e instanceof rf?tO(u,"updateDoc",i._key,e,n,s):eO(u,"updateDoc",i._key,e),ff(o,[f.toMutation(i._key,Ln.exists(!0))])}function cO(i){return ff(hn(i.firestore,ar),[new Pp(i._key,Ln.none())])}function hO(i,e){const n=hn(i.firestore,ar),s=jn(i),o=lw(i.converter,e);return ff(n,[Jb(of(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Ln.exists(!1))]).then(()=>s)}function fO(i,...e){var n,s,o;i=Et(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||yE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(yE(e[f])){const w=e[f];e[f]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[f+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[f+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let p,g,E;if(i instanceof Zt)g=hn(i.firestore,ar),E=Fh(i._key.path),p={next:w=>{e[f]&&e[f](fw(g,i,w))},error:e[f+1],complete:e[f+2]};else{const w=hn(i,os);g=hn(w.firestore,ar),E=w._query;const A=new fg(g);p={next:O=>{e[f]&&e[f](new cw(g,A,w,O))},error:e[f+1],complete:e[f+2]},rw(i._query)}return function(A,O,x,$){const j=new ng($),Q=new Jp(O,j,x);return A.asyncQueue.enqueueAndForget(async()=>Xp(await Oh(A),Q)),()=>{j.su(),A.asyncQueue.enqueueAndForget(async()=>Wp(await Oh(A),Q))}}(nf(g),E,m,p)}function ff(i,e){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>OD(await HD(s),o,u)),u.promise}(nf(i),e)}function fw(i,e,n){const s=n.docs.get(e._key),o=new fg(i);return new uw(i,o,e._key,s,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}function EE(...i){return new sg("arrayUnion",i)}(function(e,n=!0){(function(o){To=o})(_o),ao(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ar(new t2(s.getProvider("auth-internal")),new r2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Kr(T0,b0,e),Kr(T0,b0,"esm2017")})();var dO="firebase",mO="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(dO,mO,"app");const pO={apiKey:"AIzaSyCokHWur389mPNtqhX2ASGku6wYrOYmyto",authDomain:"togethr-4c885.firebaseapp.com",projectId:"togethr-4c885",storageBucket:"togethr-4c885.firebasestorage.app",messagingSenderId:"365466488270",appId:`1:365466488270:web:3d47582f2c917b86ae2f9f
`},dw=YE(pO),fn=$D(dw);Eo(dw);new Yi;const gO=async(i,e,n)=>{const s=Eo();try{const u=(await VC(s,i,e)).user,f={uid:u.uid,email:u.email,name:n,bio:" ",profession:"",photoURL:""};return await hw(jn(fn,"users",u.uid),f),f}catch(o){throw console.error("Sign up error:",o.message),o}},yO=async(i,e)=>{const n=Eo();try{const o=(await PC(n,i,e)).user,u=jn(fn,"users",o.uid),f=await hg(u);return f.exists()?f.data():null}catch(s){throw console.error("Login error:",s.message),s}},_O=async()=>{const i=Eo();await zC(i)},vO=async i=>{const n=Eo().currentUser;n&&(await BC(n),await deleteDoc(jn(fn,"users",i)))};//! login with redirect
let EO={data:""},TO=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||EO,bO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wO=/\/\*[^]*?\*\/|  +/g,TE=/\n+/g,qr=(i,e)=>{let n="",s="",o="";for(let u in i){let f=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+f+";":s+=u[1]=="f"?qr(f,u):u+"{"+qr(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=qr(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=qr.p?qr.p(u,f):u+":"+f+";")}return n+(e&&o?e+"{"+o+"}":o)+s},$i={},mw=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+mw(i[n]);return e}return i},AO=(i,e,n,s,o)=>{let u=mw(i),f=$i[u]||($i[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!$i[f]){let p=u!==i?i:(g=>{let E,w,A=[{}];for(;E=bO.exec(g.replace(wO,""));)E[4]?A.shift():E[3]?(w=E[3].replace(TE," ").trim(),A.unshift(A[0][w]=A[0][w]||{})):A[0][E[1]]=E[2].replace(TE," ").trim();return A[0]})(i);$i[f]=qr(o?{["@keyframes "+f]:p}:p,n?"":"."+f)}let m=n&&$i.g?$i.g:null;return n&&($i.g=$i[f]),((p,g,E,w)=>{w?g.data=g.data.replace(w,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})($i[f],e,s,m),f},SO=(i,e,n)=>i.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":qr(m,""):m===!1?"":m}return s+o+(f??"")},"");function df(i){let e=this||{},n=i.call?i(e.p):i;return AO(n.unshift?n.raw?SO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,TO(e.target),e.g,e.o,e.k)}let pw,up,cp;df.bind({g:1});let or=df.bind({k:1});function RO(i,e,n,s){qr.p=e,pw=i,up=n,cp=s}function ls(i,e){let n=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:up&&up()},m),n.o=/ *go\d+/.test(p),m.className=df.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),cp&&g[0]&&cp(m),pw(g,m)}return o}}var IO=i=>typeof i=="function",kh=(i,e)=>IO(i)?i(e):i,CO=(()=>{let i=0;return()=>(++i).toString()})(),gw=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),xO=20,yw=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,xO)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return yw(i,{type:i.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},hh=[],Ys={toasts:[],pausedAt:void 0},ra=i=>{Ys=yw(Ys,i),hh.forEach(e=>{e(Ys)})},NO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},DO=(i={})=>{let[e,n]=z.useState(Ys),s=z.useRef(Ys);z.useEffect(()=>(s.current!==Ys&&n(Ys),hh.push(n),()=>{let u=hh.indexOf(n);u>-1&&hh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((f=i[u.type])==null?void 0:f.removeDelay)||(i==null?void 0:i.removeDelay),duration:u.duration||((m=i[u.type])==null?void 0:m.duration)||(i==null?void 0:i.duration)||NO[u.type],style:{...i.style,...(p=i[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},OO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:(n==null?void 0:n.id)||CO()}),Eu=i=>(e,n)=>{let s=OO(e,i,n);return ra({type:2,toast:s}),s.id},sn=(i,e)=>Eu("blank")(i,e);sn.error=Eu("error");sn.success=Eu("success");sn.loading=Eu("loading");sn.custom=Eu("custom");sn.dismiss=i=>{ra({type:3,toastId:i})};sn.remove=i=>ra({type:4,toastId:i});sn.promise=(i,e,n)=>{let s=sn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?kh(e.success,o):void 0;return u?sn.success(u,{id:s,...n,...n==null?void 0:n.success}):sn.dismiss(s),o}).catch(o=>{let u=e.error?kh(e.error,o):void 0;u?sn.error(u,{id:s,...n,...n==null?void 0:n.error}):sn.dismiss(s)}),i};var MO=(i,e)=>{ra({type:1,toast:{id:i,height:e}})},kO=()=>{ra({type:5,time:Date.now()})},Xl=new Map,VO=1e3,PO=(i,e=VO)=>{if(Xl.has(i))return;let n=setTimeout(()=>{Xl.delete(i),ra({type:4,toastId:i})},e);Xl.set(i,n)},UO=i=>{let{toasts:e,pausedAt:n}=DO(i);z.useEffect(()=>{if(n)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&sn.dismiss(m.id);return}return setTimeout(()=>sn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,n]);let s=z.useCallback(()=>{n&&ra({type:6,time:Date.now()})},[n]),o=z.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},E=e.filter(O=>(O.position||g)===(u.position||g)&&O.height),w=E.findIndex(O=>O.id===u.id),A=E.filter((O,x)=>x<w&&O.visible).length;return E.filter(O=>O.visible).slice(...m?[A+1]:[0,A]).reduce((O,x)=>O+(x.height||0)+p,0)},[e]);return z.useEffect(()=>{e.forEach(u=>{if(u.dismissed)PO(u.id,u.removeDelay);else{let f=Xl.get(u.id);f&&(clearTimeout(f),Xl.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:MO,startPause:kO,endPause:s,calculateOffset:o}}},LO=or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,jO=or`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,zO=or`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,BO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${LO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${jO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${zO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,qO=or`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,HO=ls("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${qO} 1s linear infinite;
`,FO=or`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,GO=or`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KO=ls("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${GO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QO=ls("div")`
  position: absolute;
`,$O=ls("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,YO=or`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,XO=ls("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${YO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,WO=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?z.createElement(XO,null,e):e:n==="blank"?null:z.createElement($O,null,z.createElement(HO,{...s}),n!=="loading"&&z.createElement(QO,null,n==="error"?z.createElement(BO,{...s}):z.createElement(KO,{...s})))},ZO=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,JO=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,eM="0%{opacity:0;} 100%{opacity:1;}",tM="0%{opacity:1;} 100%{opacity:0;}",nM=ls("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,iM=ls("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,rM=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=gw()?[eM,tM]:[ZO(n),JO(n)];return{animation:e?`${or(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${or(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},sM=z.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?rM(i.position||e||"top-center",i.visible):{opacity:0},u=z.createElement(WO,{toast:i}),f=z.createElement(iM,{...i.ariaProps},kh(i.message,i));return z.createElement(nM,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:f}):z.createElement(z.Fragment,null,u,f))});RO(z.createElement);var aM=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=z.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return z.createElement("div",{ref:u,className:e,style:n},o)},oM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:gw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},lM=df`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Zc=16,uM=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=UO(n);return z.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Zc,left:Zc,right:Zc,bottom:Zc,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let E=g.position||e,w=p.calculateOffset(g,{reverseOrder:i,gutter:s,defaultPosition:e}),A=oM(E,w);return z.createElement(aM,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?lM:"",style:A},g.type==="custom"?kh(g.message,g):o?o(g):z.createElement(sM,{toast:g,position:E}))}))},Yt=sn;const cM="/Togethr/assets/avatar-CC0QuunI.png",hM=()=>{const i=Un(x=>x.user),e=Un(x=>x.updateUser),n=Un(x=>x.setUser),{authLoading:s}=Un(),[o,u]=z.useState(!1),[f,m]=z.useState({name:"",bio:"",profession:""}),[p,g]=z.useState({email:"",password:"",name:""});//!result handeling with redirect
z.useEffect(()=>{i&&m({name:i.name||"",bio:i.bio||"",profession:i.profession||""})},[i]);const E=x=>{m($=>({...$,[x.target.name]:x.target.value}))},w=async()=>{try{const x=await yO(p.email,p.password);x?(n(x),Yt.success("Logged in!")):Yt.error("No account found. Please sign up.")}catch(x){Yt.error(x.message)}},A=async()=>{try{const x=await gO(p.email,p.password,p.name);n(x),Yt.success("Account created and logged in.")}catch(x){x.code==="auth/email-already-in-use"?Yt.error("Acc already exists . Try logging in."):Yt.error(x.message)}},O=async()=>{if(!i){Yt.error("Login first to edit profile");return}try{const x=jn(fn,"users",i.uid);await hf(x,f),e(f),u(!1),Yt.success("Profile updated")}catch(x){console.error(x),Yt.error("Failed to update profile")}};return s?N.jsx("div",{className:"text-center mt-10",children:N.jsx("div",{className:"spinner mx-auto"})}):i===null?N.jsx("div",{className:"flex justify-center mt-10 px-4",children:N.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-zinc-800 p-6 rounded-xl shadow-lg space-y-6",children:[N.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome"}),N.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"Please log in or sign up to access your profile."}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:x=>g({...p,email:x.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),N.jsx("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:x=>g({...p,password:x.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),N.jsx("input",{type:"text",name:"name",placeholder:"Name (for sign up)",value:p.name,onChange:x=>g({...p,name:x.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),N.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[N.jsx("button",{onClick:w,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition",children:"Login"}),N.jsx("button",{onClick:A,className:"w-full bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-lg transition",children:"Sign Up"})]})]})}):N.jsx("div",{className:"max-w-xl mx-auto mt-10 bg-white dark:bg-zinc-800 p-6 rounded-xl shadow-md",children:N.jsxs("div",{className:"space-y-4",children:[N.jsx("div",{className:"flex justify-center",children:N.jsx("img",{src:i.photoURL||cM,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"})}),N.jsxs("div",{className:"flex justify-between items-center",children:[N.jsx("h2",{className:"text-2xl font-bold",children:"Your Profile"}),!o&&N.jsx("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:underline",children:"Edit"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium",children:"Name"}),N.jsx("input",{name:"name",value:f.name,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium",children:"Bio"}),N.jsx("textarea",{name:"bio",value:f.bio,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx("label",{className:"block text-sm font-medium",children:"Profession"}),N.jsx("input",{name:"profession",value:f.profession,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),o&&N.jsxs("div",{className:"flex gap-4 mt-4",children:[N.jsx("button",{onClick:O,onKeyDown:x=>{x.key==="Enter"&&O()},className:"bg-green-600 text-white px-4 py-2 rounded-md",children:"Save"}),N.jsx("button",{onClick:()=>{u(!1),m({name:i.name||"",bio:i.bio||"",profession:i.profession||""})},className:"bg-gray-400 text-white px-4 py-2 rounded-md",children:"Cancel"})]}),N.jsx("hr",{className:"my-6"}),N.jsxs("div",{className:"flex justify-between",children:[N.jsx("button",{onClick:_O,className:"bg-red-600 text-white px-4 py-2 rounded-md",children:"Logout"}),N.jsx("button",{onClick:()=>vO(i.uid),className:"bg-red-900 text-white px-4 py-2 rounded-md",children:"Delete Account"})]})]})})},fM=()=>N.jsx("div",{children:"ChatPage"}),dM=()=>{const i=Eo(),e=Un.getState().setUser,n=Un.getState().clearUser,s=Un.getState().setAuthLoading;return jC(i,async o=>{if(!o){n(),s(!1);return}const u=jn(fn,"users",o.uid),f=await hg(u);f.exists()?e({uid:o.uid,...f.data()}):(console.warn("User logged in but no Firestore data found."),n()),s(!1)})},Bt=[];for(let i=0;i<256;++i)Bt.push((i+256).toString(16).slice(1));function mM(i,e=0){return(Bt[i[e+0]]+Bt[i[e+1]]+Bt[i[e+2]]+Bt[i[e+3]]+"-"+Bt[i[e+4]]+Bt[i[e+5]]+"-"+Bt[i[e+6]]+Bt[i[e+7]]+"-"+Bt[i[e+8]]+Bt[i[e+9]]+"-"+Bt[i[e+10]]+Bt[i[e+11]]+Bt[i[e+12]]+Bt[i[e+13]]+Bt[i[e+14]]+Bt[i[e+15]]).toLowerCase()}let Mm;const pM=new Uint8Array(16);function gM(){if(!Mm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Mm=crypto.getRandomValues.bind(crypto)}return Mm(pM)}const yM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),bE={randomUUID:yM};function _M(i,e,n){var o;if(bE.randomUUID&&!i)return bE.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??gM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,mM(s)}const vM=async(i,e,n)=>{const s=_M().split("-")[0],o=jn(tf(fn,"teams")),u={name:i,bio:e,inviteCode:s,members:[n]};return await hw(o,u),{id:o.id,...u}},dg=async i=>{const e=jn(fn,"teams",i),n=await hg(e);return n.exists()?{id:n.id,...n.data()}:null},_w=async(i,e)=>{const n=jn(fn,"users",i);await hf(n,e)},EM=async(i,e)=>{console.log("Firebase 1");const n=aw(tf(fn,"teams"),sO("inviteCode","==",i));console.log("Firebase 2");const s=await uO(n);if(console.log("Firebase 3"),s.empty){Yt.error("Team not found");return}console.log("Firebase 4");const u=s.docs[0].id;return console.log("Firebase 5"),await _w(e,{teamIds:EE(u)}),console.log("Firebase 6"),await hf(jn(fn,"teams",u),{memberIds:EE(e)}),console.log("Firebase 7"),dg(u)},TM=()=>{var Q;const i=Un(Z=>Z.user),e=Un(Z=>Z.updateUser),[n,s]=z.useState([]),[o,u]=z.useState(!1),[f,m]=z.useState(!1),[p,g]=z.useState({name:"",bio:""}),[E,w]=z.useState(""),{authLoading:A}=Un(),O=Un(Z=>Z.setAuthLoading),x=OE();z.useEffect(()=>{(async()=>{var ne;if((ne=i==null?void 0:i.teamIds)!=null&&ne.length){const fe=await Promise.all(i.teamIds.map(he=>dg(he)));s(fe.filter(Boolean))}})(),O(!1)},[i]);const $=async()=>{if(console.log("one"),!i.uid){Yt.error("Login to create team.");return}if(!p.name||!p.bio){Yt.error("Enter all fields");return}const Z=await vM(p.name,p.bio,i.uid);console.log("three");const ne=[...i.teamIds||[],Z.id];await _w(i.uid,{teamIds:ne}),console.log("four before"),e({teamIds:ne}),console.log("four"),s(fe=>[...fe,Z]),console.log("five"),u(!1),g({name:"",bio:""})},j=async()=>{if(!E){Yt.error("Enter Invite Code");return}if(!i.uid){Yt.error("Login to Join ");return}console.log("one");try{console.log("before team");const Z=await EM(E,i.uid);console.log("2");const ne=Array.from(new Set([...i.teamIds||[],Z.id]));console.log("3"),e({teamIds:ne}),console.log("4"),s(fe=>[...fe,Z]),console.log("5"),Yt.success("Joined team!"),w(""),m(!1)}catch(Z){Yt.error(Z.message||"Failed to join team.")}};return A?N.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 space-y-6",children:[N.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teams"}),!((Q=i==null?void 0:i.teamIds)!=null&&Q.length)&&N.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-blue-500 transition",onClick:()=>u(!0),children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create a Team"}),N.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Start a new team with a name and bio."})]}),N.jsxs("div",{onClick:()=>m(!0),className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-green-500 transition",children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Join a Team"}),N.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Enter an invite code to join an existing team."})]})]}),N.jsx("div",{className:"text-center mt-10",children:N.jsx("div",{className:"spinner mx-auto"})})]}):N.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 space-y-6",children:[N.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teams"}),!(i!=null&&i.teamId)&&N.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[N.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-blue-500 transition",onClick:()=>u(!0),children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create a Team"}),N.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Start a new team with a name and bio."})]}),N.jsxs("div",{onClick:()=>m(!0),className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-green-500 transition",children:[N.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Join a Team"}),N.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Enter an invite code to join an existing team."})]})]}),N.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(Z=>N.jsxs("div",{onClick:()=>x(`/teams/${Z.id}`),className:"relative group bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6 shadow-sm transition-all hover:shadow-lg hover:ring-1 hover:ring-blue-500",children:[N.jsxs("div",{className:"flex items-start justify-between mb-3",children:[N.jsx("h2",{className:"text-lg font-semibold text-zinc-900 dark:text-white",children:Z.name}),N.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:"Team"})]}),N.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:Z.bio}),N.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[N.jsx("span",{className:"font-medium",children:"Invite Code:"})," ",N.jsx("code",{className:"bg-gray-100 dark:bg-zinc-700 px-1 py-0.5 rounded",children:Z.inviteCode})]})]},Z.id))}),o&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[N.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Team"}),N.jsx("input",{type:"text",placeholder:"Team Name",value:p.name,onChange:Z=>g({...p,name:Z.target.value}),className:"w-full p-2 mb-2 border rounded dark:bg-zinc-700 dark:text-white"}),N.jsx("textarea",{placeholder:"Team Bio",value:p.bio,onChange:Z=>g({...p,bio:Z.target.value}),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>{u(!1),g({name:"",bio:""})},className:"px-4 py-2 text-sm",children:"Cancel"}),N.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>{$()},onKeyDown:Z=>{Z.key==="Enter"&&$()},children:"Create"})]})]})}),f&&N.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[N.jsx("h2",{className:"text-xl font-bold mb-4",children:"Join Team"}),N.jsx("input",{type:"text",placeholder:"Invite Code",value:E,onChange:Z=>w(Z.target.value),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>{m(!1),w("")},className:"px-4 py-2 text-sm",children:"Cancel"}),N.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",onClick:()=>j(),onKeyDown:Z=>{Z.key==="Enter"&&j()},children:"Join"})]})]})})]})},bM=async(i,e)=>{const n=tf(fn,"teams",i,"tasks");return(await hO(n,{...e,timestamp:Date.now()})).id},wM=(i,e)=>{const n=aw(tf(fn,"teams",i,"tasks"),aO("timestamp","desc"));return fO(n,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},AM=async(i,e,n)=>{const s=jn(fn,"teams",i,"tasks",e);await hf(s,n)},SM=async(i,e)=>{const n=jn(fn,"teams",i,"tasks",e);await cO(n)},RM=({task:i,onSave:e})=>{const[n,s]=z.useState(!1),[o,u]=z.useState(i.title),f=z.useRef(null);z.useEffect(()=>{n&&f.current&&f.current.focus()},[n]);const m=()=>{o.trim()&&o!==i.title&&e(o),s(!1)},p=()=>{u(i.title),s(!1)};return N.jsx("div",{className:"relative",children:n?N.jsxs(N.Fragment,{children:[N.jsx("input",{ref:f,value:o,onChange:g=>u(g.target.value),className:"w-full bg-zinc-700 text-white px-3 py-2 rounded-md outline-none border border-zinc-600"}),N.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 flex gap-3 bg-zinc-800 border border-zinc-600 rounded-md px-3 py-2 shadow-lg z-10",children:[N.jsx("button",{onClick:m,className:"text-green-400 hover:text-green-500",title:"Save",children:N.jsx(NR,{size:18})}),N.jsx("button",{onClick:p,className:"text-red-400 hover:text-red-500",title:"Cancel",children:N.jsx(YR,{size:18})})]})]}):N.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer hover:bg-zinc-700 px-3 py-2 rounded-md transition",children:N.jsx("p",{className:"text-white",children:i.title||N.jsx("span",{className:"italic text-gray-400",children:"Untitled"})})})})},IM={name:"Cloud Warriors",bio:"A team conquering Firebase one bug at a time.",inviteCode:"abc123"},CM=({team:i=IM,teamId:e})=>{const[n,s]=z.useState("Tasks"),o=["Tasks","Members","Info","Activity"],[u,f]=z.useState([]),[m,p]=z.useState(!1),[g,E]=z.useState(""),[w,A]=z.useState(""),[O,x]=z.useState("todo");z.useEffect(()=>{if(!(i!=null&&i.id))return;const j=wM(i.id,f);return()=>j()},[i==null?void 0:i.id]);const $=async()=>{!(i!=null&&i.id)||!g.trim()||(await bM(i.id,{title:g,description:w,status:O}),p(!1),E(""),A(""),x("todo"))};return N.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10 text-gray-100 ",children:[N.jsxs("div",{className:"mb-8",children:[N.jsx("h1",{className:"text-4xl font-bold text-white",children:i.name}),N.jsx("p",{className:"text-gray-400 mt-2 text-base",children:i.bio})]}),N.jsx("div",{className:"flex gap-6 border-b border-gray-600 mb-8",children:o.map(j=>N.jsx("button",{onClick:()=>s(j),className:`pb-2 border-b-2 font-medium text-sm transition-colors ${n===j?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-blue-400"}`,children:j},j))}),N.jsxs("div",{children:[n==="Tasks"&&N.jsxs("div",{className:"space-y-6",children:[N.jsx("h2",{className:"text-2xl font-bold text-white",children:"Team Tasks"}),u.length>0?N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:["todo","in-progress","done"].map(j=>N.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-md p-4 shadow-md",children:[N.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-3 border-b border-zinc-600 pb-2 capitalize",children:j.replace("-"," ")}),N.jsx("ul",{className:"space-y-3 min-h-[40px]",children:u.filter(Q=>Q.status===j).length>0?u.filter(Q=>Q.status===j).map(Q=>N.jsxs("li",{className:"bg-zinc-700 text-white p-3 rounded-md shadow-sm transition-colors flex justify-between items-center",children:[N.jsx(RM,{task:Q,onSave:Z=>AM(i.id,Q.id,{title:Z})}),N.jsx("div",{className:"flex gap-2 items-center",children:N.jsx("button",{onClick:()=>SM(e,Q.id),className:"text-red-500 hover:text-red-300",title:"Delete",children:N.jsx(GR,{size:16})})})]},Q.id)):N.jsx("li",{className:"text-gray-400 italic text-sm",children:"No tasks"})})]},j))}):N.jsx("div",{className:"text-center text-gray-400 italic mt-10",children:"No tasks yet. Start by adding one."}),N.jsx("div",{className:"flex justify-center",children:N.jsx("button",{onClick:()=>p(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md shadow-sm",children:"+ Add Task"})})]}),m&&N.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:N.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg w-full max-w-md space-y-4",children:[N.jsx("h3",{className:"text-xl font-semibold",children:"Add New Task"}),N.jsx("input",{value:g,onChange:j=>E(j.target.value),type:"text",placeholder:"Title",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),N.jsx("textarea",{value:w,onChange:j=>A(j.target.value),placeholder:"Description",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),N.jsxs("select",{value:O,onChange:j=>x(j.target.value),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white",children:[N.jsx("option",{value:"todo",children:"To Do"}),N.jsx("option",{value:"in-progress",children:"In Progress"}),N.jsx("option",{value:"done",children:"Done"})]}),N.jsxs("div",{className:"flex justify-end gap-2",children:[N.jsx("button",{onClick:()=>p(!1),className:"px-4 py-2 bg-gray-300 dark:bg-zinc-600 rounded",children:"Cancel"}),N.jsx("button",{onClick:()=>$(),className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),n==="Members"&&N.jsxs("div",{children:[N.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Team Members"}),N.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 gap-4",children:[{name:"Arjun R",role:"Owner",joined:"Apr 2025"},{name:"Neha K",role:"Member",joined:"May 2025"}].map((j,Q)=>N.jsxs("div",{className:"bg-gray-700 border border-gray-600 rounded-md p-4 text-sm",children:[N.jsx("div",{className:"font-medium text-white",children:j.name}),N.jsxs("div",{className:"text-gray-400 text-xs mt-1",children:[j.role," • Joined: ",j.joined]})]},Q))})]}),n==="Info"&&N.jsxs("div",{className:"space-y-4",children:[N.jsx("h2",{className:"text-xl font-semibold text-white mb-2",children:"Team Info"}),N.jsxs("p",{className:"text-gray-400",children:[N.jsx("span",{className:"font-medium text-white",children:"Name:"})," ",i.name]}),N.jsxs("p",{className:"text-gray-400",children:[N.jsx("span",{className:"font-medium text-white",children:"Description:"})," ",i.bio]}),N.jsxs("p",{className:"text-gray-400",children:[N.jsx("span",{className:"font-medium text-white",children:"Invite Code:"})," ",N.jsx("code",{className:"bg-gray-600 px-2 py-1 rounded text-sm text-gray-100",children:i.inviteCode})]}),N.jsxs("div",{className:"flex gap-3 pt-3",children:[N.jsx("button",{className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-md text-sm",children:"Edit"}),N.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm",children:"Delete Team"})]})]}),n==="Activity"&&N.jsxs("div",{children:[N.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Activity"}),N.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[N.jsxs("li",{children:["• Arjun added task:"," ",N.jsx("span",{className:"font-medium",children:"Deploy to Firebase"})]}),N.jsx("li",{children:"• Neha joined the team"}),N.jsx("li",{children:"• Arjun updated team description"})]})]})]})]})},xM=()=>{const{id:i}=xS(),[e,n]=z.useState(null);return z.useEffect(()=>{(async()=>{const o=await dg(i);n(o)})()},[i]),e?N.jsx(CM,{team:e,teamId:i}):N.jsx("div",{className:"text-center mt-10",children:N.jsx("div",{className:"spinner mx-auto"})})},NM=()=>(z.useEffect(()=>{const i=dM();return console.log("Auth listener mounted"),()=>i()},[]),N.jsxs("div",{className:"flex flex-col md:flex-row h-screen overflow-hidden bg-white dark:bg-zinc-900 transition-colors duration-300",children:[N.jsx(uM,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"},success:{iconTheme:{primary:"green",secondary:"white"}}}}),N.jsx(XR,{}),N.jsx("div",{className:"flex-grow p-4 md:p-6 overflow-y-auto text-gray-900 dark:text-gray-100",children:N.jsxs(FS,{children:[N.jsx(Ks,{path:"/",element:N.jsx(WR,{})}),N.jsx(Ks,{path:"/TasksBoard",element:N.jsx(n1,{})}),N.jsx(Ks,{path:"/Profile",element:N.jsx(hM,{})}),N.jsx(Ks,{path:"/ChatPage",element:N.jsx(fM,{})}),N.jsx(Ks,{path:"/Teams",element:N.jsx(TM,{})}),N.jsx(Ks,{path:"/teams/:id",element:N.jsx(xM,{})})]})})]}));JA.createRoot(document.getElementById("root")).render(N.jsx(mR,{basename:"/Togethr",children:N.jsx(z.StrictMode,{children:N.jsx(NM,{})})}));
