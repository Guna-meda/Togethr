(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function DE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var vm={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dv;function nA(){if(Dv)return Ul;Dv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var Ov;function iA(){return Ov||(Ov=1,vm.exports=nA()),vm.exports}var R=iA(),Em={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mv;function rA(){if(Mv)return Ne;Mv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function S(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,Q={};function F(C,W,oe){this.props=C,this.context=W,this.refs=Q,this.updater=oe||k}F.prototype.isReactComponent={},F.prototype.setState=function(C,W){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,W,"setState")},F.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function G(){}G.prototype=F.prototype;function ae(C,W,oe){this.props=C,this.context=W,this.refs=Q,this.updater=oe||k}var re=ae.prototype=new G;re.constructor=ae,O(re,F.prototype),re.isPureReactComponent=!0;var ge=Array.isArray,he={H:null,A:null,T:null,S:null,V:null},ve=Object.prototype.hasOwnProperty;function V(C,W,oe,se,fe,be){return oe=be.ref,{$$typeof:i,type:C,key:W,ref:oe!==void 0?oe:null,props:be}}function I(C,W){return V(C.type,W,void 0,void 0,void 0,C.props)}function x(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function A(C){var W={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(oe){return W[oe]})}var N=/\/+/g;function j(C,W){return typeof C=="object"&&C!==null&&C.key!=null?A(""+C.key):W.toString(36)}function M(){}function ye(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(M,M):(C.status="pending",C.then(function(W){C.status==="pending"&&(C.status="fulfilled",C.value=W)},function(W){C.status==="pending"&&(C.status="rejected",C.reason=W)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function le(C,W,oe,se,fe){var be=typeof C;(be==="undefined"||be==="boolean")&&(C=null);var Te=!1;if(C===null)Te=!0;else switch(be){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(C.$$typeof){case i:case e:Te=!0;break;case v:return Te=C._init,le(Te(C._payload),W,oe,se,fe)}}if(Te)return fe=fe(C),Te=se===""?"."+j(C,0):se,ge(fe)?(oe="",Te!=null&&(oe=Te.replace(N,"$&/")+"/"),le(fe,W,oe,"",function(kt){return kt})):fe!=null&&(x(fe)&&(fe=I(fe,oe+(fe.key==null||C&&C.key===fe.key?"":(""+fe.key).replace(N,"$&/")+"/")+Te)),W.push(fe)),1;Te=0;var tt=se===""?".":se+":";if(ge(C))for(var qe=0;qe<C.length;qe++)se=C[qe],be=tt+j(se,qe),Te+=le(se,W,oe,be,fe);else if(qe=S(C),typeof qe=="function")for(C=qe.call(C),qe=0;!(se=C.next()).done;)se=se.value,be=tt+j(se,qe++),Te+=le(se,W,oe,be,fe);else if(be==="object"){if(typeof C.then=="function")return le(ye(C),W,oe,se,fe);throw W=String(C),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return Te}function U(C,W,oe){if(C==null)return C;var se=[],fe=0;return le(C,se,"","",function(be){return W.call(oe,be,fe++)}),se}function X(C){if(C._status===-1){var W=C._result;W=W(),W.then(function(oe){(C._status===0||C._status===-1)&&(C._status=1,C._result=oe)},function(oe){(C._status===0||C._status===-1)&&(C._status=2,C._result=oe)}),C._status===-1&&(C._status=0,C._result=W)}if(C._status===1)return C._result.default;throw C._result}var Z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function ce(){}return Ne.Children={map:U,forEach:function(C,W,oe){U(C,function(){W.apply(this,arguments)},oe)},count:function(C){var W=0;return U(C,function(){W++}),W},toArray:function(C){return U(C,function(W){return W})||[]},only:function(C){if(!x(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ne.Component=F,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ae,Ne.StrictMode=s,Ne.Suspense=p,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=he,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(C){return he.H.useMemoCache(C)}},Ne.cache=function(C){return function(){return C.apply(null,arguments)}},Ne.cloneElement=function(C,W,oe){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var se=O({},C.props),fe=C.key,be=void 0;if(W!=null)for(Te in W.ref!==void 0&&(be=void 0),W.key!==void 0&&(fe=""+W.key),W)!ve.call(W,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&W.ref===void 0||(se[Te]=W[Te]);var Te=arguments.length-2;if(Te===1)se.children=oe;else if(1<Te){for(var tt=Array(Te),qe=0;qe<Te;qe++)tt[qe]=arguments[qe+2];se.children=tt}return V(C.type,fe,void 0,void 0,be,se)},Ne.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:u,_context:C},C},Ne.createElement=function(C,W,oe){var se,fe={},be=null;if(W!=null)for(se in W.key!==void 0&&(be=""+W.key),W)ve.call(W,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(fe[se]=W[se]);var Te=arguments.length-2;if(Te===1)fe.children=oe;else if(1<Te){for(var tt=Array(Te),qe=0;qe<Te;qe++)tt[qe]=arguments[qe+2];fe.children=tt}if(C&&C.defaultProps)for(se in Te=C.defaultProps,Te)fe[se]===void 0&&(fe[se]=Te[se]);return V(C,be,void 0,void 0,null,fe)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(C){return{$$typeof:m,render:C}},Ne.isValidElement=x,Ne.lazy=function(C){return{$$typeof:v,_payload:{_status:-1,_result:C},_init:X}},Ne.memo=function(C,W){return{$$typeof:g,type:C,compare:W===void 0?null:W}},Ne.startTransition=function(C){var W=he.T,oe={};he.T=oe;try{var se=C(),fe=he.S;fe!==null&&fe(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(ce,Z)}catch(be){Z(be)}finally{he.T=W}},Ne.unstable_useCacheRefresh=function(){return he.H.useCacheRefresh()},Ne.use=function(C){return he.H.use(C)},Ne.useActionState=function(C,W,oe){return he.H.useActionState(C,W,oe)},Ne.useCallback=function(C,W){return he.H.useCallback(C,W)},Ne.useContext=function(C){return he.H.useContext(C)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(C,W){return he.H.useDeferredValue(C,W)},Ne.useEffect=function(C,W,oe){var se=he.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(C,W)},Ne.useId=function(){return he.H.useId()},Ne.useImperativeHandle=function(C,W,oe){return he.H.useImperativeHandle(C,W,oe)},Ne.useInsertionEffect=function(C,W){return he.H.useInsertionEffect(C,W)},Ne.useLayoutEffect=function(C,W){return he.H.useLayoutEffect(C,W)},Ne.useMemo=function(C,W){return he.H.useMemo(C,W)},Ne.useOptimistic=function(C,W){return he.H.useOptimistic(C,W)},Ne.useReducer=function(C,W,oe){return he.H.useReducer(C,W,oe)},Ne.useRef=function(C){return he.H.useRef(C)},Ne.useState=function(C){return he.H.useState(C)},Ne.useSyncExternalStore=function(C,W,oe){return he.H.useSyncExternalStore(C,W,oe)},Ne.useTransition=function(){return he.H.useTransition()},Ne.version="19.1.0",Ne}var kv;function yp(){return kv||(kv=1,Em.exports=rA()),Em.exports}var L=yp();const Vv=DE(L);var Tm={exports:{}},Ll={},bm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pv;function sA(){return Pv||(Pv=1,function(i){function e(U,X){var Z=U.length;U.push(X);e:for(;0<Z;){var ce=Z-1>>>1,C=U[ce];if(0<o(C,X))U[ce]=X,U[Z]=C,Z=ce;else break e}}function n(U){return U.length===0?null:U[0]}function s(U){if(U.length===0)return null;var X=U[0],Z=U.pop();if(Z!==X){U[0]=Z;e:for(var ce=0,C=U.length,W=C>>>1;ce<W;){var oe=2*(ce+1)-1,se=U[oe],fe=oe+1,be=U[fe];if(0>o(se,Z))fe<C&&0>o(be,se)?(U[ce]=be,U[fe]=Z,ce=fe):(U[ce]=se,U[oe]=Z,ce=oe);else if(fe<C&&0>o(be,Z))U[ce]=be,U[fe]=Z,ce=fe;else break e}}return X}function o(U,X){var Z=U.sortIndex-X.sortIndex;return Z!==0?Z:U.id-X.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var p=[],g=[],v=1,b=null,S=3,k=!1,O=!1,Q=!1,F=!1,G=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ge(U){for(var X=n(g);X!==null;){if(X.callback===null)s(g);else if(X.startTime<=U)s(g),X.sortIndex=X.expirationTime,e(p,X);else break;X=n(g)}}function he(U){if(Q=!1,ge(U),!O)if(n(p)!==null)O=!0,ve||(ve=!0,j());else{var X=n(g);X!==null&&le(he,X.startTime-U)}}var ve=!1,V=-1,I=5,x=-1;function A(){return F?!0:!(i.unstable_now()-x<I)}function N(){if(F=!1,ve){var U=i.unstable_now();x=U;var X=!0;try{e:{O=!1,Q&&(Q=!1,ae(V),V=-1),k=!0;var Z=S;try{t:{for(ge(U),b=n(p);b!==null&&!(b.expirationTime>U&&A());){var ce=b.callback;if(typeof ce=="function"){b.callback=null,S=b.priorityLevel;var C=ce(b.expirationTime<=U);if(U=i.unstable_now(),typeof C=="function"){b.callback=C,ge(U),X=!0;break t}b===n(p)&&s(p),ge(U)}else s(p);b=n(p)}if(b!==null)X=!0;else{var W=n(g);W!==null&&le(he,W.startTime-U),X=!1}}break e}finally{b=null,S=Z,k=!1}X=void 0}}finally{X?j():ve=!1}}}var j;if(typeof re=="function")j=function(){re(N)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,ye=M.port2;M.port1.onmessage=N,j=function(){ye.postMessage(null)}}else j=function(){G(N,0)};function le(U,X){V=G(function(){U(i.unstable_now())},X)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(U){U.callback=null},i.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<U?Math.floor(1e3/U):5},i.unstable_getCurrentPriorityLevel=function(){return S},i.unstable_next=function(U){switch(S){case 1:case 2:case 3:var X=3;break;default:X=S}var Z=S;S=X;try{return U()}finally{S=Z}},i.unstable_requestPaint=function(){F=!0},i.unstable_runWithPriority=function(U,X){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=S;S=U;try{return X()}finally{S=Z}},i.unstable_scheduleCallback=function(U,X,Z){var ce=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?ce+Z:ce):Z=ce,U){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Z+C,U={id:v++,callback:X,priorityLevel:U,startTime:Z,expirationTime:C,sortIndex:-1},Z>ce?(U.sortIndex=Z,e(g,U),n(p)===null&&U===n(g)&&(Q?(ae(V),V=-1):Q=!0,le(he,Z-ce))):(U.sortIndex=C,e(p,U),O||k||(O=!0,ve||(ve=!0,j()))),U},i.unstable_shouldYield=A,i.unstable_wrapCallback=function(U){var X=S;return function(){var Z=S;S=X;try{return U.apply(this,arguments)}finally{S=Z}}}}(wm)),wm}var Uv;function aA(){return Uv||(Uv=1,bm.exports=sA()),bm.exports}var Sm={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function oA(){if(Lv)return en;Lv=1;var i=yp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,v)},en.flushSync=function(p){var g=f.T,v=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=v,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:S,fetchPriority:k}):v==="script"&&s.d.X(p,{crossOrigin:b,integrity:S,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);s.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,v){return f.H.useFormState(p,g,v)},en.useFormStatus=function(){return f.H.useHostTransitionStatus()},en.version="19.1.0",en}var jv;function lA(){if(jv)return Sm.exports;jv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=oA(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function uA(){if(zv)return Ll;zv=1;var i=aA(),e=yp(),n=lA();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function f(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,T=h.child;T;){if(T===a){E=!0,a=h,l=d;break}if(T===l){E=!0,l=h,a=d;break}T=T.sibling}if(!E){for(T=d.child;T;){if(T===a){E=!0,a=d,l=h;break}if(T===l){E=!0,l=d,a=h;break}T=T.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),G=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ge=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=N&&t[N]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function ye(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case F:return"Profiler";case Q:return"StrictMode";case he:return"Suspense";case ve:return"SuspenseList";case x:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case re:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case ge:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V:return r=t.displayName||null,r!==null?r:ye(t.type)||"Memo";case I:r=t._payload,t=t._init;try{return ye(t(r))}catch{}}return null}var le=Array.isArray,U=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},ce=[],C=-1;function W(t){return{current:t}}function oe(t){0>C||(t.current=ce[C],ce[C]=null,C--)}function se(t,r){C++,ce[C]=t.current,t.current=r}var fe=W(null),be=W(null),Te=W(null),tt=W(null);function qe(t,r){switch(se(Te,r),se(be,t),se(fe,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?sv(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=sv(r),t=av(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(fe),se(fe,t)}function kt(){oe(fe),oe(be),oe(Te)}function at(t){t.memoizedState!==null&&se(tt,t);var r=fe.current,a=av(r,t.type);r!==a&&(se(be,t),se(fe,a))}function Vt(t){be.current===t&&(oe(fe),oe(be)),tt.current===t&&(oe(tt),Ol._currentValue=Z)}var vn=Object.prototype.hasOwnProperty,Nn=i.unstable_scheduleCallback,fs=i.unstable_cancelCallback,Co=i.unstable_shouldYield,Ru=i.unstable_requestPaint,Dn=i.unstable_now,vf=i.unstable_getCurrentPriorityLevel,No=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,ds=i.unstable_NormalPriority,Ef=i.unstable_LowPriority,oa=i.unstable_IdlePriority,Do=i.log,Iu=i.unstable_setDisableYieldValue,ht=null,Ke=null;function En(t){if(typeof Do=="function"&&Iu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ht,t)}catch{}}var Zt=Math.clz32?Math.clz32:ms,xu=Math.log,Tf=Math.LN2;function ms(t){return t>>>=0,t===0?32:31-(xu(t)/Tf|0)|0}var ps=256,gs=4194304;function $n(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function la(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,E=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=$n(l):(E&=T,E!==0?h=$n(E):a||(a=T&~t,a!==0&&(h=$n(a))))):(T=l&~d,T!==0?h=$n(T):E!==0?h=$n(E):a||(a=l&~t,a!==0&&(h=$n(a)))),h===0?0:r!==0&&r!==h&&(r&d)===0&&(d=h&-h,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:h}function ys(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function Oo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mo(){var t=ps;return ps<<=1,(ps&4194048)===0&&(ps=256),t}function ko(){var t=gs;return gs<<=1,(gs&62914560)===0&&(gs=4194304),t}function Ii(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Vo(t,r,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,D=t.expirationTimes,H=t.hiddenUpdates;for(a=E&~a;0<a;){var J=31-Zt(a),te=1<<J;T[J]=0,D[J]=-1;var $=H[J];if($!==null)for(H[J]=null,J=0;J<$.length;J++){var K=$[J];K!==null&&(K.lane&=-536870913)}a&=~te}l!==0&&ti(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~r))}function ti(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Po(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),h=1<<l;h&r|t[l]&r&&(t[l]|=r),a&=~h}}function dr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ua(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function mr(){var t=X.p;return t!==0?t:(t=window.event,t===void 0?32:Av(t.type))}function Cu(t,r){var a=X.p;try{return X.p=t,r()}finally{X.p=a}}var rt=Math.random().toString(36).slice(2),It="__reactFiber$"+rt,Et="__reactProps$"+rt,On="__reactContainer$"+rt,Uo="__reactEvents$"+rt,bf="__reactListeners$"+rt,pr="__reactHandles$"+rt,Nu="__reactResources$"+rt,_s="__reactMarker$"+rt;function gr(t){delete t[It],delete t[Et],delete t[Uo],delete t[bf],delete t[pr]}function Ci(t){var r=t[It];if(r)return r;for(var a=t.parentNode;a;){if(r=a[On]||a[It]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=cv(t);t!==null;){if(a=t[It])return a;t=cv(t)}return r}t=a,a=t.parentNode}return null}function ni(t){if(t=t[It]||t[On]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function ii(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function on(t){var r=t[Nu];return r||(r=t[Nu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[_s]=!0}var Lo=new Set,ca={};function Kn(t,r){Ni(t,r),Ni(t+"Capture",r)}function Ni(t,r){for(ca[t]=r,t=0;t<r.length;t++)Lo.add(r[t])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},vs={};function Mu(t){return vn.call(vs,t)?!0:vn.call(Ou,t)?!1:Du.test(t)?vs[t]=!0:(Ou[t]=!0,!1)}function yr(t,r,a){if(Mu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ri(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function qt(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Es,ku;function Di(t){if(Es===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Es=r&&r[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Es+t+ku}var ha=!1;function fa(t,r){if(!t||ha)return"";ha=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var $=K}Reflect.construct(t,[],te)}else{try{te.call()}catch(K){$=K}t.call(te.prototype)}}else{try{throw Error()}catch(K){$=K}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&$&&typeof K.stack=="string")return[K.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],T=d[1];if(E&&T){var D=E.split(`
`),H=T.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<H.length&&!H[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===H.length)for(l=D.length-1,h=H.length-1;1<=l&&0<=h&&D[l]!==H[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==H[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==H[h]){var J=`
`+D[l].replace(" at new "," at ");return t.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",t.displayName)),J}while(1<=l&&0<=h);break}}}finally{ha=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Di(a):""}function jo(t){switch(t.tag){case 26:case 27:case 5:return Di(t.type);case 16:return Di("Lazy");case 13:return Di("Suspense");case 19:return Di("SuspenseList");case 0:case 15:return fa(t.type,!1);case 11:return fa(t.type.render,!1);case 1:return fa(t.type,!0);case 31:return Di("Activity");default:return""}}function da(t){try{var r="";do r+=jo(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function wf(t){var r=zo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ma(t){t._valueTracker||(t._valueTracker=wf(t))}function Bo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=zo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Ts(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sf=/[\n"\\]/g;function Tt(t){return t.replace(Sf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(t,r,a,l,h,d,E,T){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),r!=null?E==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+ln(r)):t.value!==""+ln(r)&&(t.value=""+ln(r)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),r!=null?_r(t,E,ln(r)):a!=null?_r(t,E,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+ln(T):t.removeAttribute("name")}function bs(t,r,a,l,h,d,E,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+ln(a):"",r=r!=null?""+ln(r):a,T||r===t.value||(t.value=r),t.defaultValue=r}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function _r(t,r,a){r==="number"&&Ts(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Oi(t,r,a,l){if(t=t.options,r){r={};for(var h=0;h<a.length;h++)r["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=r.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),r=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Xe(t,r,a){if(r!=null&&(r=""+ln(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+ln(a):""}function ws(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(le(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=ln(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Mn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Ss.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function qo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in r)l=r[h],r.hasOwnProperty(h)&&a[h]!==l&&Vu(t,h,l)}else for(var d in r)r.hasOwnProperty(d)&&Vu(t,d,r[d])}function Ho(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(t){return Rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mi=null;function kn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Vi=null;function Fo(t){var r=ni(t);if(r&&(t=r.stateNode)){var a=t[Et]||null;e:switch(t=r.stateNode,r.type){case"input":if(Tn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Tt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var h=l[Et]||null;if(!h)throw Error(s(90));Tn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Bo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Oi(t,!!a.multiple,r,!1)}}}var si=!1;function Pu(t,r,a){if(si)return t(r,a);si=!0;try{var l=t(r);return l}finally{if(si=!1,(ki!==null||Vi!==null)&&(Cc(),ki&&(r=ki,t=Vi,Vi=ki=null,Fo(r),t)))for(r=0;r<t.length;r++)Fo(t[r])}}function As(t,r){var a=t.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vn=!1;if(Qn)try{var Rs={};Object.defineProperty(Rs,"passive",{get:function(){Vn=!0}}),window.addEventListener("test",Rs,Rs),window.removeEventListener("test",Rs,Rs)}catch{Vn=!1}var ai=null,vr=null,Pi=null;function Go(){if(Pi)return Pi;var t,r=vr,a=r.length,l,h="value"in ai?ai.value:ai.textContent,d=h.length;for(t=0;t<a&&r[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&r[a-l]===h[d-l];l++);return Pi=h.slice(t,1<l?1-l:void 0)}function oi(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function li(){return!0}function $o(){return!1}function Pt(t){function r(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?li:$o,this.isPropagationStopped=$o,this}return v(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=li)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=li)},persist:function(){},isPersistent:li}),r}var Ge={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Pt(Ge),Is=v({},Ge,{view:0,detail:0}),Uu=Pt(Is),ya,_a,ui,xs=v({},Is,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ui&&(ui&&t.type==="mousemove"?(ya=t.screenX-ui.screenX,_a=t.screenY-ui.screenY):_a=ya=0,ui=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Pn=Pt(xs),Lu=v({},xs,{dataTransfer:0}),If=Pt(Lu),Cs=v({},Is,{relatedTarget:0}),va=Pt(Cs),Ko=v({},Ge,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Pt(Ko),ju=v({},Ge,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ta=Pt(ju),xf=v({},Ge,{data:0}),Qo=Pt(xf),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Bu[t])?!!r[t]:!1}function Ds(){return Yo}var qu=v({},Is,{key:function(t){if(t.key){var r=Ns[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=oi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(t){return t.type==="keypress"?oi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?oi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ba=Pt(qu),Hu=v({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Pt(Hu),Ui=v({},Is,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),Fu=Pt(Ui),Gu=v({},Ge,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=Pt(Gu),Ku=v({},xs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wa=Pt(Ku),un=v({},Ge,{newState:0,oldState:0}),Qu=Pt(un),Yu=[9,13,27,32],ci=Qn&&"CompositionEvent"in window,c=null;Qn&&"documentMode"in document&&(c=document.documentMode);var y=Qn&&"TextEvent"in window&&!c,_=Qn&&(!ci||c&&8<c&&11>=c),w=" ",B=!1;function Y(t,r){switch(t){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function xt(t,r){switch(t){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(B=!0,w);case"textInput":return t=r.data,t===w&&B?null:t;default:return null}}function je(t,r){if(Le)return t==="compositionend"||!ci&&Y(t,r)?(t=Go(),Pi=vr=ai=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return _&&r.locale!=="ko"?null:r.data;default:return null}}var Ut={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Ut[t.type]:r==="textarea"}function Li(t,r,a,l){ki?Vi?Vi.push(l):Vi=[l]:ki=l,r=Vc(r,"onChange"),0<r.length&&(a=new ga("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ht=null,hi=null;function Wo(t){ev(t,0)}function Xu(t){var r=ii(t);if(Bo(r))return t}function Tg(t,r){if(t==="change")return r}var bg=!1;if(Qn){var Cf;if(Qn){var Nf="oninput"in document;if(!Nf){var wg=document.createElement("div");wg.setAttribute("oninput","return;"),Nf=typeof wg.oninput=="function"}Cf=Nf}else Cf=!1;bg=Cf&&(!document.documentMode||9<document.documentMode)}function Sg(){Ht&&(Ht.detachEvent("onpropertychange",Ag),hi=Ht=null)}function Ag(t){if(t.propertyName==="value"&&Xu(hi)){var r=[];Li(r,hi,t,kn(t)),Pu(Wo,r)}}function Ow(t,r,a){t==="focusin"?(Sg(),Ht=r,hi=a,Ht.attachEvent("onpropertychange",Ag)):t==="focusout"&&Sg()}function Mw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(hi)}function kw(t,r){if(t==="click")return Xu(r)}function Vw(t,r){if(t==="input"||t==="change")return Xu(r)}function Pw(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var bn=typeof Object.is=="function"?Object.is:Pw;function Zo(t,r){if(bn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!vn.call(r,h)||!bn(t[h],r[h]))return!1}return!0}function Rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ig(t,r){var a=Rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rg(a)}}function xg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?xg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Ts(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Ts(t.document)}return r}function Df(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var Uw=Qn&&"documentMode"in document&&11>=document.documentMode,Sa=null,Of=null,Jo=null,Mf=!1;function Ng(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Sa==null||Sa!==Ts(l)||(l=Sa,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Vc(Of,"onSelect"),0<l.length&&(r=new ga("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Sa)))}function Os(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Aa={animationend:Os("Animation","AnimationEnd"),animationiteration:Os("Animation","AnimationIteration"),animationstart:Os("Animation","AnimationStart"),transitionrun:Os("Transition","TransitionRun"),transitionstart:Os("Transition","TransitionStart"),transitioncancel:Os("Transition","TransitionCancel"),transitionend:Os("Transition","TransitionEnd")},kf={},Dg={};Qn&&(Dg=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Ms(t){if(kf[t])return kf[t];if(!Aa[t])return t;var r=Aa[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Dg)return kf[t]=r[a];return t}var Og=Ms("animationend"),Mg=Ms("animationiteration"),kg=Ms("animationstart"),Lw=Ms("transitionrun"),jw=Ms("transitionstart"),zw=Ms("transitioncancel"),Vg=Ms("transitionend"),Pg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function Yn(t,r){Pg.set(t,r),Kn(r,[t])}var Ug=new WeakMap;function Un(t,r){if(typeof t=="object"&&t!==null){var a=Ug.get(t);return a!==void 0?a:(r={value:t,source:r,stack:da(r)},Ug.set(t,r),r)}return{value:t,source:r,stack:da(r)}}var Ln=[],Ra=0,Pf=0;function Wu(){for(var t=Ra,r=Pf=Ra=0;r<t;){var a=Ln[r];Ln[r++]=null;var l=Ln[r];Ln[r++]=null;var h=Ln[r];Ln[r++]=null;var d=Ln[r];if(Ln[r++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Lg(a,h,d)}}function Zu(t,r,a,l){Ln[Ra++]=t,Ln[Ra++]=r,Ln[Ra++]=a,Ln[Ra++]=l,Pf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,r,a,l){return Zu(t,r,a,l),Ju(t)}function Ia(t,r){return Zu(t,null,null,r),Ju(t)}function Lg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&r!==null&&(h=31-Zt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(t){if(50<Sl)throw Sl=0,Hd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var xa={};function Bw(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,r,a,l){return new Bw(t,r,a,l)}function Lf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ji(t,r){var a=t.alternate;return a===null?(a=wn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ec(t,r,a,l,h,d){var E=0;if(l=t,typeof t=="function")Lf(t)&&(E=1);else if(typeof t=="string")E=HS(t,a,fe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case x:return t=wn(31,a,r,h),t.elementType=x,t.lanes=d,t;case O:return ks(a.children,h,d,r);case Q:E=8,h|=24;break;case F:return t=wn(12,a,r,h|2),t.elementType=F,t.lanes=d,t;case he:return t=wn(13,a,r,h),t.elementType=he,t.lanes=d,t;case ve:return t=wn(19,a,r,h),t.elementType=ve,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G:case re:E=10;break e;case ae:E=9;break e;case ge:E=11;break e;case V:E=14;break e;case I:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=wn(E,a,r,h),r.elementType=t,r.type=l,r.lanes=d,r}function ks(t,r,a,l){return t=wn(7,t,l,r),t.lanes=a,t}function jf(t,r,a){return t=wn(6,t,null,r),t.lanes=a,t}function zf(t,r,a){return r=wn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var Ca=[],Na=0,tc=null,nc=0,jn=[],zn=0,Vs=null,zi=1,Bi="";function Ps(t,r){Ca[Na++]=nc,Ca[Na++]=tc,tc=t,nc=r}function zg(t,r,a){jn[zn++]=zi,jn[zn++]=Bi,jn[zn++]=Vs,Vs=t;var l=zi;t=Bi;var h=32-Zt(l)-1;l&=~(1<<h),a+=1;var d=32-Zt(r)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,zi=1<<32-Zt(r)+h|a<<h|l,Bi=d+t}else zi=1<<d|a<<h|l,Bi=t}function Bf(t){t.return!==null&&(Ps(t,1),zg(t,1,0))}function qf(t){for(;t===tc;)tc=Ca[--Na],Ca[Na]=null,nc=Ca[--Na],Ca[Na]=null;for(;t===Vs;)Vs=jn[--zn],jn[zn]=null,Bi=jn[--zn],jn[zn]=null,zi=jn[--zn],jn[zn]=null}var cn=null,ft=null,Fe=!1,Us=null,fi=!1,Hf=Error(s(519));function Ls(t){var r=Error(s(418,""));throw nl(Un(r,t)),Hf}function Bg(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[It]=t,r[Et]=l,a){case"dialog":Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":case"embed":Ve("load",r);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ve(Rl[a],r);break;case"source":Ve("error",r);break;case"img":case"image":case"link":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"input":Ve("invalid",r),bs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ma(r);break;case"select":Ve("invalid",r);break;case"textarea":Ve("invalid",r),ws(r,l.value,l.defaultValue,l.children),ma(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||rv(r.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",r),Ve("toggle",r)),l.onScroll!=null&&Ve("scroll",r),l.onScrollEnd!=null&&Ve("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Ls(t)}function qg(t){for(cn=t.return;cn;)switch(cn.tag){case 5:case 13:fi=!1;return;case 27:case 3:fi=!0;return;default:cn=cn.return}}function el(t){if(t!==cn)return!1;if(!Fe)return qg(t),Fe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sm(t.type,t.memoizedProps)),a=!a),a&&ft&&Ls(t),qg(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){ft=Wn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}ft=null}}else r===27?(r=ft,Vr(t.type)?(t=um,um=null,ft=t):ft=r):ft=cn?Wn(t.stateNode.nextSibling):null;return!0}function tl(){ft=cn=null,Fe=!1}function Hg(){var t=Us;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Us=null),t}function nl(t){Us===null?Us=[t]:Us.push(t)}var Ff=W(null),js=null,qi=null;function Er(t,r,a){se(Ff,r._currentValue),r._currentValue=a}function Hi(t){t._currentValue=Ff.current,oe(Ff)}function Gf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function $f(t,r,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var D=0;D<r.length;D++)if(T.context===r[D]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),Gf(d.return,a,t),l||(E=null);break e}d=T.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),Gf(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function il(t,r,a,l){t=null;for(var h=r,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var T=h.type;bn(h.pendingProps.value,E.value)||(t!==null?t.push(T):t=[T])}}else if(h===tt.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ol):t=[Ol])}h=h.return}t!==null&&$f(r,t,a,l),r.flags|=262144}function ic(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){js=t,qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return Fg(js,t)}function rc(t,r){return js===null&&zs(t),Fg(t,r)}function Fg(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},qi===null){if(t===null)throw Error(s(308));qi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else qi=qi.next=r;return a}var qw=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},Hw=i.unstable_scheduleCallback,Fw=i.unstable_NormalPriority,Nt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new qw,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&Hw(Fw,function(){t.controller.abort()})}var sl=null,Qf=0,Da=0,Oa=null;function Gw(t,r){if(sl===null){var a=sl=[];Qf=0,Da=Xd(),Oa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,r.then(Gg,Gg),r}function Gg(){if(--Qf===0&&sl!==null){Oa!==null&&(Oa.status="fulfilled");var t=sl;sl=null,Da=0,Oa=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function $w(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var h=0;h<a.length;h++)(0,a[h])(r)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=U.S;U.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Gw(t,r),$g!==null&&$g(t,r)};var Bs=W(null);function Yf(){var t=Bs.current;return t!==null?t:nt.pooledCache}function sc(t,r){r===null?se(Bs,Bs.current):se(Bs,r.pool)}function Kg(){var t=Yf();return t===null?null:{parent:Nt._currentValue,pool:t}}var al=Error(s(460)),Qg=Error(s(474)),ac=Error(s(542)),Xf={then:function(){}};function Yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function Xg(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(oc,oc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t;default:if(typeof r.status=="string")r.then(oc,oc);else{if(t=nt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var h=r;h.status="fulfilled",h.value=l}},function(l){if(r.status==="pending"){var h=r;h.status="rejected",h.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,Zg(t),t}throw ol=r,al}}var ol=null;function Wg(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}function Zg(t){if(t===al||t===ac)throw Error(s(483))}var Tr=!1;function Wf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function wr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,r=Ju(t),Lg(t,null,a),r}return Zu(t,l,r,a),Ju(t)}function ll(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}function Jf(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=r:d=d.next=r}else h=d=r;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var ed=!1;function ul(){if(ed){var t=Oa;if(t!==null)throw t}}function cl(t,r,a,l){ed=!1;var h=t.updateQueue;Tr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var D=T,H=D.next;D.next=null,E===null?d=H:E.next=H,E=D;var J=t.alternate;J!==null&&(J=J.updateQueue,T=J.lastBaseUpdate,T!==E&&(T===null?J.firstBaseUpdate=H:T.next=H,J.lastBaseUpdate=D))}if(d!==null){var te=h.baseState;E=0,J=H=D=null,T=d;do{var $=T.lane&-536870913,K=$!==T.lane;if(K?(ze&$)===$:(l&$)===$){$!==0&&$===Da&&(ed=!0),J!==null&&(J=J.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Re=t,we=T;$=r;var Je=a;switch(we.tag){case 1:if(Re=we.payload,typeof Re=="function"){te=Re.call(Je,te,$);break e}te=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=we.payload,$=typeof Re=="function"?Re.call(Je,te,$):Re,$==null)break e;te=v({},te,$);break e;case 2:Tr=!0}}$=T.callback,$!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[$]:K.push($))}else K={lane:$,tag:T.tag,payload:T.payload,callback:T.callback,next:null},J===null?(H=J=K,D=te):J=J.next=K,E|=$;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;K=T,T=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);J===null&&(D=te),h.baseState=D,h.firstBaseUpdate=H,h.lastBaseUpdate=J,d===null&&(h.shared.lanes=0),Dr|=E,t.lanes=E,t.memoizedState=te}}function Jg(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function ey(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Jg(a[t],r)}var Ma=W(null),lc=W(0);function ty(t,r){t=Xi,se(lc,t),se(Ma,r),Xi=t|r.baseLanes}function td(){se(lc,Xi),se(Ma,Ma.current)}function nd(){Xi=lc.current,oe(Ma),oe(lc)}var Sr=0,De=null,We=null,bt=null,uc=!1,ka=!1,qs=!1,cc=0,hl=0,Va=null,Kw=0;function gt(){throw Error(s(321))}function id(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!bn(t[a],r[a]))return!1;return!0}function rd(t,r,a,l,h,d){return Sr=d,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,U.H=t===null||t.memoizedState===null?Ly:jy,qs=!1,d=a(l,h),qs=!1,ka&&(d=iy(r,a,l,h)),ny(t),d}function ny(t){U.H=gc;var r=We!==null&&We.next!==null;if(Sr=0,bt=We=De=null,uc=!1,hl=0,Va=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&ic(t)&&(Lt=!0))}function iy(t,r,a,l){De=t;var h=0;do{if(ka&&(Va=null),hl=0,ka=!1,25<=h)throw Error(s(301));if(h+=1,bt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}U.H=eS,d=r(a,l)}while(ka);return d}function Qw(){var t=U.H,r=t.useState()[0];return r=typeof r.then=="function"?fl(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),r}function sd(){var t=cc!==0;return cc=0,t}function ad(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function od(t){if(uc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}uc=!1}Sr=0,bt=We=De=null,ka=!1,hl=cc=0,Va=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=t:bt=bt.next=t,bt}function wt(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=bt===null?De.memoizedState:bt.next;if(r!==null)bt=r,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?De.memoizedState=bt=t:bt=bt.next=t}return bt}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fl(t){var r=hl;return hl+=1,Va===null&&(Va=[]),t=Xg(Va,t,r),r=De,(bt===null?r.memoizedState:bt.next)===null&&(r=r.alternate,U.H=r===null||r.memoizedState===null?Ly:jy),t}function hc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===re)return Jt(t)}throw Error(s(438,String(t)))}function ud(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(h){return h.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=ld(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=A;return r.index++,a}function Fi(t,r){return typeof r=="function"?r(t):r}function fc(t){var r=wt();return cd(r,We,t)}function cd(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}r.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{r=h.next;var T=E=null,D=null,H=r,J=!1;do{var te=H.lane&-536870913;if(te!==H.lane?(ze&te)===te:(Sr&te)===te){var $=H.revertLane;if($===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),te===Da&&(J=!0);else if((Sr&$)===$){H=H.next,$===Da&&(J=!0);continue}else te={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=te,E=d):D=D.next=te,De.lanes|=$,Dr|=$;te=H.action,qs&&a(d,te),d=H.hasEagerState?H.eagerState:a(d,te)}else $={lane:te,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(T=D=$,E=d):D=D.next=$,De.lanes|=te,Dr|=te;H=H.next}while(H!==null&&H!==r);if(D===null?E=d:D.next=T,!bn(d,t.memoizedState)&&(Lt=!0,J&&(a=Oa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function hd(t){var r=wt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=r.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);bn(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function ry(t,r,a){var l=De,h=wt(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!bn((We||h).memoizedState,a);E&&(h.memoizedState=a,Lt=!0),h=h.queue;var T=oy.bind(null,l,h,t);if(dl(2048,8,T,[t]),h.getSnapshot!==r||E||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,Pa(9,dc(),ay.bind(null,l,h,a,r),null),nt===null)throw Error(s(349));d||(Sr&124)!==0||sy(l,r,a)}return a}function sy(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=ld(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function ay(t,r,a,l){r.value=a,r.getSnapshot=l,ly(r)&&uy(t)}function oy(t,r,a){return a(function(){ly(r)&&uy(t)})}function ly(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!bn(t,a)}catch{return!0}}function uy(t){var r=Ia(t,2);r!==null&&xn(r,t,2)}function fd(t){var r=dn();if(typeof t=="function"){var a=t;if(t=a(),qs){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},r}function cy(t,r,a,l){return t.baseState=a,cd(t,We,typeof l=="function"?l:Fi)}function Yw(t,r,a,l,h){if(pc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};U.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,hy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function hy(t,r){var a=r.action,l=r.payload,h=t.state;if(r.isTransition){var d=U.T,E={};U.T=E;try{var T=a(h,l),D=U.S;D!==null&&D(E,T),fy(t,r,T)}catch(H){dd(t,r,H)}finally{U.T=d}}else try{d=a(h,l),fy(t,r,d)}catch(H){dd(t,r,H)}}function fy(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){dy(t,r,l)},function(l){return dd(t,r,l)}):dy(t,r,a)}function dy(t,r,a){r.status="fulfilled",r.value=a,my(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,hy(t,a)))}function dd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,my(r),r=r.next;while(r!==l)}t.action=null}function my(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function py(t,r){return r}function gy(t,r){if(Fe){var a=nt.formState;if(a!==null){e:{var l=De;if(Fe){if(ft){t:{for(var h=ft,d=fi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ft=Wn(h.nextSibling),l=h.data==="F!";break e}}Ls(l)}l=!1}l&&(r=a[0])}}return a=dn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:py,lastRenderedState:r},a.queue=l,a=Vy.bind(null,De,l),l.dispatch=a,l=fd(!1),d=_d.bind(null,De,!1,l.queue),l=dn(),h={state:r,dispatch:null,action:t,pending:null},l.queue=h,a=Yw.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[r,a,!1]}function yy(t){var r=wt();return _y(r,We,t)}function _y(t,r,a){if(r=cd(t,r,py)[0],t=fc(Fi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=fl(r)}catch(E){throw E===al?ac:E}else l=r;r=wt();var h=r.queue,d=h.dispatch;return a!==r.memoizedState&&(De.flags|=2048,Pa(9,dc(),Xw.bind(null,h,a),null)),[l,d,t]}function Xw(t,r){t.action=r}function vy(t){var r=wt(),a=We;if(a!==null)return _y(r,a,t);wt(),r=r.memoizedState,a=wt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Pa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=De.updateQueue,r===null&&(r=ld(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function dc(){return{destroy:void 0,resource:void 0}}function Ey(){return wt().memoizedState}function mc(t,r,a,l){var h=dn();l=l===void 0?null:l,De.flags|=t,h.memoizedState=Pa(1|r,dc(),a,l)}function dl(t,r,a,l){var h=wt();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&id(l,We.memoizedState.deps)?h.memoizedState=Pa(r,d,a,l):(De.flags|=t,h.memoizedState=Pa(1|r,d,a,l))}function Ty(t,r){mc(8390656,8,t,r)}function by(t,r){dl(2048,8,t,r)}function wy(t,r){return dl(4,2,t,r)}function Sy(t,r){return dl(4,4,t,r)}function Ay(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function Ry(t,r,a){a=a!=null?a.concat([t]):null,dl(4,4,Ay.bind(null,r,t),a)}function md(){}function Iy(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&id(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function xy(t,r){var a=wt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&id(r,l[1]))return l[0];if(l=t(),qs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,r],l}function pd(t,r,a){return a===void 0||(Sr&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=D_(),De.lanes|=t,Dr|=t,a)}function Cy(t,r,a,l){return bn(a,r)?a:Ma.current!==null?(t=pd(t,a,l),bn(t,r)||(Lt=!0),t):(Sr&42)===0?(Lt=!0,t.memoizedState=a):(t=D_(),De.lanes|=t,Dr|=t,r)}function Ny(t,r,a,l,h){var d=X.p;X.p=d!==0&&8>d?d:8;var E=U.T,T={};U.T=T,_d(t,!1,r,a);try{var D=h(),H=U.S;if(H!==null&&H(T,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=$w(D,l);ml(t,r,J,In(t))}else ml(t,r,l,In(t))}catch(te){ml(t,r,{then:function(){},status:"rejected",reason:te},In())}finally{X.p=d,U.T=E}}function Ww(){}function gd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var h=Dy(t).queue;Ny(t,h,r,Z,a===null?Ww:function(){return Oy(t),a(l)})}function Dy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:Z},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Oy(t){var r=Dy(t).next.queue;ml(t,r,{},In())}function yd(){return Jt(Ol)}function My(){return wt().memoizedState}function ky(){return wt().memoizedState}function Zw(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=In();t=br(a);var l=wr(r,t,a);l!==null&&(xn(l,r,a),ll(l,r,a)),r={cache:Kf()},t.payload=r;return}r=r.return}}function Jw(t,r,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},pc(t)?Py(r,a):(a=Uf(t,r,a,l),a!==null&&(xn(a,t,l),Uy(a,r,l)))}function Vy(t,r,a){var l=In();ml(t,r,a,l)}function ml(t,r,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(pc(t))Py(r,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,T=d(E,a);if(h.hasEagerState=!0,h.eagerState=T,bn(T,E))return Zu(t,r,h,0),nt===null&&Wu(),!1}catch{}finally{}if(a=Uf(t,r,h,l),a!==null)return xn(a,t,l),Uy(a,r,l),!0}return!1}function _d(t,r,a,l){if(l={lane:2,revertLane:Xd(),action:l,hasEagerState:!1,eagerState:null,next:null},pc(t)){if(r)throw Error(s(479))}else r=Uf(t,a,l,2),r!==null&&xn(r,t,2)}function pc(t){var r=t.alternate;return t===De||r!==null&&r===De}function Py(t,r){ka=uc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Uy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Po(t,a)}}var gc={readContext:Jt,use:hc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Ly={readContext:Jt,use:hc,useCallback:function(t,r){return dn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:Ty,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,mc(4194308,4,Ay.bind(null,r,t),a)},useLayoutEffect:function(t,r){return mc(4194308,4,t,r)},useInsertionEffect:function(t,r){mc(4,2,t,r)},useMemo:function(t,r){var a=dn();r=r===void 0?null:r;var l=t();if(qs){En(!0);try{t()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=dn();if(a!==void 0){var h=a(r);if(qs){En(!0);try{a(r)}finally{En(!1)}}}else h=r;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Jw.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=dn();return t={current:t},r.memoizedState=t},useState:function(t){t=fd(t);var r=t.queue,a=Vy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:md,useDeferredValue:function(t,r){var a=dn();return pd(a,t,r)},useTransition:function(){var t=fd(!1);return t=Ny.bind(null,De,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,h=dn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),nt===null)throw Error(s(349));(ze&124)!==0||sy(l,r,a)}h.memoizedState=a;var d={value:a,getSnapshot:r};return h.queue=d,Ty(oy.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,dc(),ay.bind(null,l,d,a,r),null),a},useId:function(){var t=dn(),r=nt.identifierPrefix;if(Fe){var a=Bi,l=zi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=cc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Kw++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:yd,useFormState:gy,useActionState:gy,useOptimistic:function(t){var r=dn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=_d.bind(null,De,!0,a),a.dispatch=r,[t,r]},useMemoCache:ud,useCacheRefresh:function(){return dn().memoizedState=Zw.bind(null,De)}},jy={readContext:Jt,use:hc,useCallback:Iy,useContext:Jt,useEffect:by,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:xy,useReducer:fc,useRef:Ey,useState:function(){return fc(Fi)},useDebugValue:md,useDeferredValue:function(t,r){var a=wt();return Cy(a,We.memoizedState,t,r)},useTransition:function(){var t=fc(Fi)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:yd,useFormState:yy,useActionState:yy,useOptimistic:function(t,r){var a=wt();return cy(a,We,t,r)},useMemoCache:ud,useCacheRefresh:ky},eS={readContext:Jt,use:hc,useCallback:Iy,useContext:Jt,useEffect:by,useImperativeHandle:Ry,useInsertionEffect:wy,useLayoutEffect:Sy,useMemo:xy,useReducer:hd,useRef:Ey,useState:function(){return hd(Fi)},useDebugValue:md,useDeferredValue:function(t,r){var a=wt();return We===null?pd(a,t,r):Cy(a,We.memoizedState,t,r)},useTransition:function(){var t=hd(Fi)[0],r=wt().memoizedState;return[typeof t=="boolean"?t:fl(t),r]},useSyncExternalStore:ry,useId:My,useHostTransitionStatus:yd,useFormState:vy,useActionState:vy,useOptimistic:function(t,r){var a=wt();return We!==null?cy(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ud,useCacheRefresh:ky},Ua=null,pl=0;function yc(t){var r=pl;return pl+=1,Ua===null&&(Ua=[]),Xg(Ua,t,r)}function gl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function _c(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function zy(t){var r=t._init;return r(t._payload)}function By(t){function r(z,P){if(t){var q=z.deletions;q===null?(z.deletions=[P],z.flags|=16):q.push(P)}}function a(z,P){if(!t)return null;for(;P!==null;)r(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=ji(z,P),z.index=0,z.sibling=null,z}function d(z,P,q){return z.index=q,t?(q=z.alternate,q!==null?(q=q.index,q<P?(z.flags|=67108866,P):q):(z.flags|=67108866,P)):(z.flags|=1048576,P)}function E(z){return t&&z.alternate===null&&(z.flags|=67108866),z}function T(z,P,q,ee){return P===null||P.tag!==6?(P=jf(q,z.mode,ee),P.return=z,P):(P=h(P,q),P.return=z,P)}function D(z,P,q,ee){var pe=q.type;return pe===O?J(z,P,q.props.children,ee,q.key):P!==null&&(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&zy(pe)===P.type)?(P=h(P,q.props),gl(P,q),P.return=z,P):(P=ec(q.type,q.key,q.props,null,z.mode,ee),gl(P,q),P.return=z,P)}function H(z,P,q,ee){return P===null||P.tag!==4||P.stateNode.containerInfo!==q.containerInfo||P.stateNode.implementation!==q.implementation?(P=zf(q,z.mode,ee),P.return=z,P):(P=h(P,q.children||[]),P.return=z,P)}function J(z,P,q,ee,pe){return P===null||P.tag!==7?(P=ks(q,z.mode,ee,pe),P.return=z,P):(P=h(P,q),P.return=z,P)}function te(z,P,q){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=jf(""+P,z.mode,q),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return q=ec(P.type,P.key,P.props,null,z.mode,q),gl(q,P),q.return=z,q;case k:return P=zf(P,z.mode,q),P.return=z,P;case I:var ee=P._init;return P=ee(P._payload),te(z,P,q)}if(le(P)||j(P))return P=ks(P,z.mode,q,null),P.return=z,P;if(typeof P.then=="function")return te(z,yc(P),q);if(P.$$typeof===re)return te(z,rc(z,P),q);_c(z,P)}return null}function $(z,P,q,ee){var pe=P!==null?P.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return pe!==null?null:T(z,P,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case S:return q.key===pe?D(z,P,q,ee):null;case k:return q.key===pe?H(z,P,q,ee):null;case I:return pe=q._init,q=pe(q._payload),$(z,P,q,ee)}if(le(q)||j(q))return pe!==null?null:J(z,P,q,ee,null);if(typeof q.then=="function")return $(z,P,yc(q),ee);if(q.$$typeof===re)return $(z,P,rc(z,q),ee);_c(z,q)}return null}function K(z,P,q,ee,pe){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return z=z.get(q)||null,T(P,z,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case S:return z=z.get(ee.key===null?q:ee.key)||null,D(P,z,ee,pe);case k:return z=z.get(ee.key===null?q:ee.key)||null,H(P,z,ee,pe);case I:var Me=ee._init;return ee=Me(ee._payload),K(z,P,q,ee,pe)}if(le(ee)||j(ee))return z=z.get(q)||null,J(P,z,ee,pe,null);if(typeof ee.then=="function")return K(z,P,q,yc(ee),pe);if(ee.$$typeof===re)return K(z,P,q,rc(P,ee),pe);_c(P,ee)}return null}function Re(z,P,q,ee){for(var pe=null,Me=null,_e=P,Se=P=0,zt=null;_e!==null&&Se<q.length;Se++){_e.index>Se?(zt=_e,_e=null):zt=_e.sibling;var He=$(z,_e,q[Se],ee);if(He===null){_e===null&&(_e=zt);break}t&&_e&&He.alternate===null&&r(z,_e),P=d(He,P,Se),Me===null?pe=He:Me.sibling=He,Me=He,_e=zt}if(Se===q.length)return a(z,_e),Fe&&Ps(z,Se),pe;if(_e===null){for(;Se<q.length;Se++)_e=te(z,q[Se],ee),_e!==null&&(P=d(_e,P,Se),Me===null?pe=_e:Me.sibling=_e,Me=_e);return Fe&&Ps(z,Se),pe}for(_e=l(_e);Se<q.length;Se++)zt=K(_e,z,Se,q[Se],ee),zt!==null&&(t&&zt.alternate!==null&&_e.delete(zt.key===null?Se:zt.key),P=d(zt,P,Se),Me===null?pe=zt:Me.sibling=zt,Me=zt);return t&&_e.forEach(function(zr){return r(z,zr)}),Fe&&Ps(z,Se),pe}function we(z,P,q,ee){if(q==null)throw Error(s(151));for(var pe=null,Me=null,_e=P,Se=P=0,zt=null,He=q.next();_e!==null&&!He.done;Se++,He=q.next()){_e.index>Se?(zt=_e,_e=null):zt=_e.sibling;var zr=$(z,_e,He.value,ee);if(zr===null){_e===null&&(_e=zt);break}t&&_e&&zr.alternate===null&&r(z,_e),P=d(zr,P,Se),Me===null?pe=zr:Me.sibling=zr,Me=zr,_e=zt}if(He.done)return a(z,_e),Fe&&Ps(z,Se),pe;if(_e===null){for(;!He.done;Se++,He=q.next())He=te(z,He.value,ee),He!==null&&(P=d(He,P,Se),Me===null?pe=He:Me.sibling=He,Me=He);return Fe&&Ps(z,Se),pe}for(_e=l(_e);!He.done;Se++,He=q.next())He=K(_e,z,Se,He.value,ee),He!==null&&(t&&He.alternate!==null&&_e.delete(He.key===null?Se:He.key),P=d(He,P,Se),Me===null?pe=He:Me.sibling=He,Me=He);return t&&_e.forEach(function(tA){return r(z,tA)}),Fe&&Ps(z,Se),pe}function Je(z,P,q,ee){if(typeof q=="object"&&q!==null&&q.type===O&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case S:e:{for(var pe=q.key;P!==null;){if(P.key===pe){if(pe=q.type,pe===O){if(P.tag===7){a(z,P.sibling),ee=h(P,q.props.children),ee.return=z,z=ee;break e}}else if(P.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===I&&zy(pe)===P.type){a(z,P.sibling),ee=h(P,q.props),gl(ee,q),ee.return=z,z=ee;break e}a(z,P);break}else r(z,P);P=P.sibling}q.type===O?(ee=ks(q.props.children,z.mode,ee,q.key),ee.return=z,z=ee):(ee=ec(q.type,q.key,q.props,null,z.mode,ee),gl(ee,q),ee.return=z,z=ee)}return E(z);case k:e:{for(pe=q.key;P!==null;){if(P.key===pe)if(P.tag===4&&P.stateNode.containerInfo===q.containerInfo&&P.stateNode.implementation===q.implementation){a(z,P.sibling),ee=h(P,q.children||[]),ee.return=z,z=ee;break e}else{a(z,P);break}else r(z,P);P=P.sibling}ee=zf(q,z.mode,ee),ee.return=z,z=ee}return E(z);case I:return pe=q._init,q=pe(q._payload),Je(z,P,q,ee)}if(le(q))return Re(z,P,q,ee);if(j(q)){if(pe=j(q),typeof pe!="function")throw Error(s(150));return q=pe.call(q),we(z,P,q,ee)}if(typeof q.then=="function")return Je(z,P,yc(q),ee);if(q.$$typeof===re)return Je(z,P,rc(z,q),ee);_c(z,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,P!==null&&P.tag===6?(a(z,P.sibling),ee=h(P,q),ee.return=z,z=ee):(a(z,P),ee=jf(q,z.mode,ee),ee.return=z,z=ee),E(z)):a(z,P)}return function(z,P,q,ee){try{pl=0;var pe=Je(z,P,q,ee);return Ua=null,pe}catch(_e){if(_e===al||_e===ac)throw _e;var Me=wn(29,_e,null,z.mode);return Me.lanes=ee,Me.return=z,Me}finally{}}}var La=By(!0),qy=By(!1),Bn=W(null),di=null;function Ar(t){var r=t.alternate;se(Dt,Dt.current&1),se(Bn,t),di===null&&(r===null||Ma.current!==null||r.memoizedState!==null)&&(di=t)}function Hy(t){if(t.tag===22){if(se(Dt,Dt.current),se(Bn,t),di===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(di=t)}}else Rr()}function Rr(){se(Dt,Dt.current),se(Bn,Bn.current)}function Gi(t){oe(Bn),di===t&&(di=null),oe(Dt)}var Dt=W(0);function vc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function vd(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:v({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Ed={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=In(),h=br(l);h.payload=r,a!=null&&(h.callback=a),r=wr(t,h,l),r!==null&&(xn(r,t,l),ll(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=In(),h=br(l);h.tag=1,h.payload=r,a!=null&&(h.callback=a),r=wr(t,h,l),r!==null&&(xn(r,t,l),ll(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=In(),l=br(a);l.tag=2,r!=null&&(l.callback=r),r=wr(t,l,a),r!==null&&(xn(r,t,a),ll(r,t,a))}};function Fy(t,r,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function Gy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&Ed.enqueueReplaceState(r,r.state,null)}function Hs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=v({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Ec=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $y(t){Ec(t)}function Ky(t){console.error(t)}function Qy(t){Ec(t)}function Tc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function Yy(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Td(t,r,a){return a=br(a),a.tag=3,a.payload={element:null},a.callback=function(){Tc(t,r)},a}function Xy(t){return t=br(t),t.tag=3,t}function Wy(t,r,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Yy(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){Yy(r,a,l),typeof h!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function tS(t,r,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&il(r,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return di===null?Gd():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Xf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Xf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kd(t,l,h)),!1}throw Error(s(435,a.tag))}return Kd(t,l,h),Gd(),!1}if(Fe)return r=Bn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=h,l!==Hf&&(t=Error(s(422),{cause:l}),nl(Un(t,a)))):(l!==Hf&&(r=Error(s(423),{cause:l}),nl(Un(r,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=Td(t.stateNode,l,h),Jf(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=Un(d,a),wl===null?wl=[d]:wl.push(d),dt!==4&&(dt=2),r===null)return!0;l=Un(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Td(a.stateNode,l,t),Jf(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Or===null||!Or.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Xy(h),Wy(h,t,a,l),Jf(a,h),!1}a=a.return}while(a!==null);return!1}var Zy=Error(s(461)),Lt=!1;function Ft(t,r,a,l){r.child=t===null?qy(r,null,a,l):La(r,t.child,a,l)}function Jy(t,r,a,l,h){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var T in l)T!=="ref"&&(E[T]=l[T])}else E=l;return zs(r),l=rd(t,r,a,E,d,h),T=sd(),t!==null&&!Lt?(ad(t,r,h),$i(t,r,h)):(Fe&&T&&Bf(r),r.flags|=1,Ft(t,r,l,h),r.child)}function e_(t,r,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Lf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,t_(t,r,d,l,h)):(t=ec(a.type,null,l,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Cd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(E,l)&&t.ref===r.ref)return $i(t,r,h)}return r.flags|=1,t=ji(d,l),t.ref=r.ref,t.return=r,r.child=t}function t_(t,r,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,Cd(t,h))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,$i(t,r,h)}return bd(t,r,a,l,h)}function n_(t,r,a){var l=r.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=r.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return i_(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(r,d!==null?d.cachePool:null),d!==null?ty(r,d):td(),Hy(r);else return r.lanes=r.childLanes=536870912,i_(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(sc(r,d.cachePool),ty(r,d),Rr(),r.memoizedState=null):(t!==null&&sc(r,null),td(),Rr());return Ft(t,r,h,a),r.child}function i_(t,r,a,l){var h=Yf();return h=h===null?null:{parent:Nt._currentValue,pool:h},r.memoizedState={baseLanes:a,cachePool:h},t!==null&&sc(r,null),td(),Hy(r),t!==null&&il(t,r,l,!0),null}function bc(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function bd(t,r,a,l,h){return zs(r),a=rd(t,r,a,l,void 0,h),l=sd(),t!==null&&!Lt?(ad(t,r,h),$i(t,r,h)):(Fe&&l&&Bf(r),r.flags|=1,Ft(t,r,a,h),r.child)}function r_(t,r,a,l,h,d){return zs(r),r.updateQueue=null,a=iy(r,l,a,h),ny(t),l=sd(),t!==null&&!Lt?(ad(t,r,d),$i(t,r,d)):(Fe&&l&&Bf(r),r.flags|=1,Ft(t,r,a,d),r.child)}function s_(t,r,a,l,h){if(zs(r),r.stateNode===null){var d=xa,E=a.contextType;typeof E=="object"&&E!==null&&(d=Jt(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ed,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Wf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?Jt(E):xa,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(vd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Ed.enqueueReplaceState(d,d.state,null),cl(r,l,d,h),ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var T=r.memoizedProps,D=Hs(a,T);d.props=D;var H=d.context,J=a.contextType;E=xa,typeof J=="object"&&J!==null&&(E=Jt(J));var te=a.getDerivedStateFromProps;J=typeof te=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=r.pendingProps!==T,J||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||H!==E)&&Gy(r,d,l,E),Tr=!1;var $=r.memoizedState;d.state=$,cl(r,l,d,h),ul(),H=r.memoizedState,T||$!==H||Tr?(typeof te=="function"&&(vd(r,a,te,l),H=r.memoizedState),(D=Tr||Fy(r,a,D,l,$,H,E))?(J||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=E,l=D):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Zf(t,r),E=r.memoizedProps,J=Hs(a,E),d.props=J,te=r.pendingProps,$=d.context,H=a.contextType,D=xa,typeof H=="object"&&H!==null&&(D=Jt(H)),T=a.getDerivedStateFromProps,(H=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==te||$!==D)&&Gy(r,d,l,D),Tr=!1,$=r.memoizedState,d.state=$,cl(r,l,d,h),ul();var K=r.memoizedState;E!==te||$!==K||Tr||t!==null&&t.dependencies!==null&&ic(t.dependencies)?(typeof T=="function"&&(vd(r,a,T,l),K=r.memoizedState),(J=Tr||Fy(r,a,J,l,$,K,D)||t!==null&&t.dependencies!==null&&ic(t.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=K),d.props=l,d.state=K,d.context=D,l=J):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,bc(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=La(r,t.child,null,h),r.child=La(r,null,a,h)):Ft(t,r,a,h),r.memoizedState=d.state,t=r.child):t=$i(t,r,h),t}function a_(t,r,a,l){return tl(),r.flags|=256,Ft(t,r,a,l),r.child}var wd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(t){return{baseLanes:t,cachePool:Kg()}}function Ad(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=qn),t}function o_(t,r,a){var l=r.pendingProps,h=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),E&&(h=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,t===null){if(Fe){if(h?Ar(r):Rr(),Fe){var T=ft,D;if(D=T){e:{for(D=T,T=fi;D.nodeType!==8;){if(!T){T=null;break e}if(D=Wn(D.nextSibling),D===null){T=null;break e}}T=D}T!==null?(r.memoizedState={dehydrated:T,treeContext:Vs!==null?{id:zi,overflow:Bi}:null,retryLane:536870912,hydrationErrors:null},D=wn(18,null,null,0),D.stateNode=T,D.return=r,r.child=D,cn=r,ft=null,D=!0):D=!1}D||Ls(r)}if(T=r.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return lm(T)?r.lanes=32:r.lanes=536870912,null;Gi(r)}return T=l.children,l=l.fallback,h?(Rr(),h=r.mode,T=wc({mode:"hidden",children:T},h),l=ks(l,h,a,null),T.return=r,l.return=r,T.sibling=l,r.child=T,h=r.child,h.memoizedState=Sd(a),h.childLanes=Ad(t,E,a),r.memoizedState=wd,l):(Ar(r),Rd(r,T))}if(D=t.memoizedState,D!==null&&(T=D.dehydrated,T!==null)){if(d)r.flags&256?(Ar(r),r.flags&=-257,r=Id(t,r,a)):r.memoizedState!==null?(Rr(),r.child=t.child,r.flags|=128,r=null):(Rr(),h=l.fallback,T=r.mode,l=wc({mode:"visible",children:l.children},T),h=ks(h,T,a,null),h.flags|=2,l.return=r,h.return=r,l.sibling=h,r.child=l,La(r,t.child,null,a),l=r.child,l.memoizedState=Sd(a),l.childLanes=Ad(t,E,a),r.memoizedState=wd,r=h);else if(Ar(r),lm(T)){if(E=T.nextSibling&&T.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,nl({value:l,source:null,stack:null}),r=Id(t,r,a)}else if(Lt||il(t,r,a,!1),E=(a&t.childLanes)!==0,Lt||E){if(E=nt,E!==null&&(l=a&-a,l=(l&42)!==0?1:dr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==D.retryLane))throw D.retryLane=l,Ia(t,l),xn(E,t,l),Zy;T.data==="$?"||Gd(),r=Id(t,r,a)}else T.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=D.treeContext,ft=Wn(T.nextSibling),cn=r,Fe=!0,Us=null,fi=!1,t!==null&&(jn[zn++]=zi,jn[zn++]=Bi,jn[zn++]=Vs,zi=t.id,Bi=t.overflow,Vs=r),r=Rd(r,l.children),r.flags|=4096);return r}return h?(Rr(),h=l.fallback,T=r.mode,D=t.child,H=D.sibling,l=ji(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,H!==null?h=ji(H,h):(h=ks(h,T,a,null),h.flags|=2),h.return=r,l.return=r,l.sibling=h,r.child=l,l=h,h=r.child,T=t.child.memoizedState,T===null?T=Sd(a):(D=T.cachePool,D!==null?(H=Nt._currentValue,D=D.parent!==H?{parent:H,pool:H}:D):D=Kg(),T={baseLanes:T.baseLanes|a,cachePool:D}),h.memoizedState=T,h.childLanes=Ad(t,E,a),r.memoizedState=wd,l):(Ar(r),a=t.child,t=a.sibling,a=ji(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(E=r.deletions,E===null?(r.deletions=[t],r.flags|=16):E.push(t)),r.child=a,r.memoizedState=null,a)}function Rd(t,r){return r=wc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function wc(t,r){return t=wn(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Id(t,r,a){return La(r,t.child,null,a),t=Rd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function l_(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Gf(t.return,r,a)}function xd(t,r,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function u_(t,r,a){var l=r.pendingProps,h=l.revealOrder,d=l.tail;if(Ft(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&l_(t,a,r);else if(t.tag===19)l_(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(se(Dt,l),h){case"forwards":for(a=r.child,h=null;a!==null;)t=a.alternate,t!==null&&vc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=r.child,r.child=null):(h=a.sibling,a.sibling=null),xd(r,!1,h,a,d);break;case"backwards":for(a=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&vc(t)===null){r.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}xd(r,!0,a,null,d);break;case"together":xd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Dr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(il(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=ji(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=ji(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Cd(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&ic(t)))}function nS(t,r,a){switch(r.tag){case 3:qe(r,r.stateNode.containerInfo),Er(r,Nt,t.memoizedState.cache),tl();break;case 27:case 5:at(r);break;case 4:qe(r,r.stateNode.containerInfo);break;case 10:Er(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Ar(r),r.flags|=128,null):(a&r.child.childLanes)!==0?o_(t,r,a):(Ar(r),t=$i(t,r,a),t!==null?t.sibling:null);Ar(r);break;case 19:var h=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(il(t,r,a,!1),l=(a&r.childLanes)!==0),h){if(l)return u_(t,r,a);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,n_(t,r,a);case 24:Er(r,Nt,t.memoizedState.cache)}return $i(t,r,a)}function c_(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Cd(t,a)&&(r.flags&128)===0)return Lt=!1,nS(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,Fe&&(r.flags&1048576)!==0&&zg(r,nc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,h=l._init;if(l=h(l._payload),r.type=l,typeof l=="function")Lf(l)?(t=Hs(l,t),r.tag=1,r=s_(null,r,l,t,a)):(r.tag=0,r=bd(null,r,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===ge){r.tag=11,r=Jy(null,r,l,t,a);break e}else if(h===V){r.tag=14,r=e_(null,r,l,t,a);break e}}throw r=ye(l)||l,Error(s(306,r,""))}}return r;case 0:return bd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,h=Hs(l,r.pendingProps),s_(t,r,l,h,a);case 3:e:{if(qe(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;h=d.element,Zf(t,r),cl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Er(r,Nt,l),l!==d.cache&&$f(r,[Nt],a,!0),ul(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=a_(t,r,l,a);break e}else if(l!==h){h=Un(Error(s(424)),r),nl(h),r=a_(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=Wn(t.firstChild),cn=r,Fe=!0,Us=null,fi=!0,a=qy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(tl(),l===h){r=$i(t,r,a);break e}Ft(t,r,l,a)}r=r.child}return r;case 26:return bc(t,r),t===null?(a=mv(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,t=r.pendingProps,l=Uc(Te.current).createElement(a),l[It]=r,l[Et]=t,$t(l,a,t),pt(l),r.stateNode=l):r.memoizedState=mv(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return at(r),t===null&&Fe&&(l=r.stateNode=hv(r.type,r.pendingProps,Te.current),cn=r,fi=!0,h=ft,Vr(r.type)?(um=h,ft=Wn(l.firstChild)):ft=h),Ft(t,r,r.pendingProps.children,a),bc(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&Fe&&((h=l=ft)&&(l=NS(l,r.type,r.pendingProps,fi),l!==null?(r.stateNode=l,cn=r,ft=Wn(l.firstChild),fi=!1,h=!0):h=!1),h||Ls(r)),at(r),h=r.type,d=r.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,sm(h,d)?l=null:E!==null&&sm(h,E)&&(r.flags|=32),r.memoizedState!==null&&(h=rd(t,r,Qw,null,null,a),Ol._currentValue=h),bc(t,r),Ft(t,r,l,a),r.child;case 6:return t===null&&Fe&&((t=a=ft)&&(a=DS(a,r.pendingProps,fi),a!==null?(r.stateNode=a,cn=r,ft=null,t=!0):t=!1),t||Ls(r)),null;case 13:return o_(t,r,a);case 4:return qe(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=La(r,null,l,a):Ft(t,r,l,a),r.child;case 11:return Jy(t,r,r.type,r.pendingProps,a);case 7:return Ft(t,r,r.pendingProps,a),r.child;case 8:return Ft(t,r,r.pendingProps.children,a),r.child;case 12:return Ft(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Er(r,r.type,l.value),Ft(t,r,l.children,a),r.child;case 9:return h=r.type._context,l=r.pendingProps.children,zs(r),h=Jt(h),l=l(h),r.flags|=1,Ft(t,r,l,a),r.child;case 14:return e_(t,r,r.type,r.pendingProps,a);case 15:return t_(t,r,r.type,r.pendingProps,a);case 19:return u_(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=wc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ji(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return n_(t,r,a);case 24:return zs(r),l=Jt(Nt),t===null?(h=Yf(),h===null&&(h=nt,d=Kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),r.memoizedState={parent:l,cache:h},Wf(r),Er(r,Nt,h)):((t.lanes&a)!==0&&(Zf(t,r),cl(r,null,null,a),ul()),h=t.memoizedState,d=r.memoizedState,h.parent!==l?(h={parent:l,cache:l},r.memoizedState=h,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=h),Er(r,Nt,l)):(l=d.cache,Er(r,Nt,l),l!==h.cache&&$f(r,[Nt],a,!0))),Ft(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ki(t){t.flags|=4}function h_(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vv(r)){if(r=Bn.current,r!==null&&((ze&4194048)===ze?di!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==di))throw ol=Xf,Qg;t.flags|=8192}}function Sc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?ko():536870912,t.lanes|=r,qa|=r)}function yl(t,r){if(!Fe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ot(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function iS(t,r,a){var l=r.pendingProps;switch(qf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ot(r),null;case 1:return ot(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Hi(Nt),kt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(r)?Ki(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Hg())),ot(r),null;case 26:return a=r.memoizedState,t===null?(Ki(r),a!==null?(ot(r),h_(r,a)):(ot(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Ki(r),ot(r),h_(r,a)):(ot(r),r.flags&=-16777217):(t.memoizedProps!==l&&Ki(r),ot(r),r.flags&=-16777217),null;case 27:Vt(r),a=Te.current;var h=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}t=fe.current,el(r)?Bg(r):(t=hv(h,l,a),r.stateNode=t,Ki(r))}return ot(r),null;case 5:if(Vt(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ot(r),null}if(t=fe.current,el(r))Bg(r);else{switch(h=Uc(Te.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[It]=r,t[Et]=l;e:for(h=r.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===r)break e;for(;h.sibling===null;){if(h.return===null||h.return===r)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}r.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ki(r)}}return ot(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Ki(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=Te.current,el(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[It]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||rv(t.nodeValue,a)),t||Ls(r)}else t=Uc(t).createTextNode(l),t[It]=r,r.stateNode=t}return ot(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(r),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[It]=r}else tl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ot(r),h=!1}else h=Hg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return r.flags&256?(Gi(r),r):(Gi(r),null)}if(Gi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Sc(r,r.updateQueue),ot(r),null;case 4:return kt(),t===null&&em(r.stateNode.containerInfo),ot(r),null;case 10:return Hi(r.type),ot(r),null;case 19:if(oe(Dt),h=r.memoizedState,h===null)return ot(r),null;if(l=(r.flags&128)!==0,d=h.rendering,d===null)if(l)yl(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=vc(t),d!==null){for(r.flags|=128,yl(h,!1),t=d.updateQueue,r.updateQueue=t,Sc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)jg(a,t),a=a.sibling;return se(Dt,Dt.current&1|2),r.child}t=t.sibling}h.tail!==null&&Dn()>Ic&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304)}else{if(!l)if(t=vc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Sc(r,t),yl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return ot(r),null}else 2*Dn()-h.renderingStartTime>Ic&&a!==536870912&&(r.flags|=128,l=!0,yl(h,!1),r.lanes=4194304);h.isBackwards?(d.sibling=r.child,r.child=d):(t=h.last,t!==null?t.sibling=d:r.child=d,h.last=d)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Dn(),r.sibling=null,t=Dt.current,se(Dt,l?t&1|2:t&1),r):(ot(r),null);case 22:case 23:return Gi(r),nd(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ot(r),r.subtreeFlags&6&&(r.flags|=8192)):ot(r),a=r.updateQueue,a!==null&&Sc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&oe(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Hi(Nt),ot(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function rS(t,r){switch(qf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Hi(Nt),kt(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Vt(r),null;case 13:if(Gi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));tl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return oe(Dt),null;case 4:return kt(),null;case 10:return Hi(r.type),null;case 22:case 23:return Gi(r),nd(),t!==null&&oe(Bs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Hi(Nt),null;case 25:return null;default:return null}}function f_(t,r){switch(qf(r),r.tag){case 3:Hi(Nt),kt();break;case 26:case 27:case 5:Vt(r);break;case 4:kt();break;case 13:Gi(r);break;case 19:oe(Dt);break;case 10:Hi(r.type);break;case 22:case 23:Gi(r),nd(),t!==null&&oe(Bs);break;case 24:Hi(Nt)}}function _l(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(T){et(r,r.return,T)}}function Ir(t,r,a){try{var l=r.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,T=E.destroy;if(T!==void 0){E.destroy=void 0,h=r;var D=a,H=T;try{H()}catch(J){et(h,D,J)}}}l=l.next}while(l!==d)}}catch(J){et(r,r.return,J)}}function d_(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{ey(r,a)}catch(l){et(t,t.return,l)}}}function m_(t,r,a){a.props=Hs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,r,l)}}function vl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,r,h)}}function mi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,r,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,r,h)}else a.current=null}function p_(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Nd(t,r,a){try{var l=t.stateNode;AS(l,t.type,a,r),l[Et]=r}catch(h){et(t,t.return,h)}}function g_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Vr(t.type)||t.tag===4}function Dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Vr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Od(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(Od(t,r,a),t=t.sibling;t!==null;)Od(t,r,a),t=t.sibling}function Ac(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&Vr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,r,a),t=t.sibling;t!==null;)Ac(t,r,a),t=t.sibling}function y_(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=r.attributes;h.length;)r.removeAttributeNode(h[0]);$t(r,l,a),r[It]=t,r[Et]=a}catch(d){et(t,t.return,d)}}var Qi=!1,yt=!1,Md=!1,__=typeof WeakSet=="function"?WeakSet:Set,jt=null;function sS(t,r){if(t=t.containerInfo,im=Hc,t=Cg(t),Df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,T=-1,D=-1,H=0,J=0,te=t,$=null;t:for(;;){for(var K;te!==a||h!==0&&te.nodeType!==3||(T=E+h),te!==d||l!==0&&te.nodeType!==3||(D=E+l),te.nodeType===3&&(E+=te.nodeValue.length),(K=te.firstChild)!==null;)$=te,te=K;for(;;){if(te===t)break t;if($===a&&++H===h&&(T=E),$===d&&++J===l&&(D=E),(K=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=K}a=T===-1||D===-1?null:{start:T,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},Hc=!1,jt=r;jt!==null;)if(r=jt,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,jt=t;else for(;jt!==null;){switch(r=jt,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Hs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){et(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)om(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":om(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,jt=t;break}jt=r.return}}function v_(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xr(t,a),l&4&&_l(5,a);break;case 1:if(xr(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(E){et(a,a.return,E)}else{var h=Hs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(h,r,t.__reactInternalSnapshotBeforeUpdate)}catch(E){et(a,a.return,E)}}l&64&&d_(a),l&512&&vl(a,a.return);break;case 3:if(xr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ey(t,r)}catch(E){et(a,a.return,E)}}break;case 27:r===null&&l&4&&y_(a);case 26:case 5:xr(t,a),r===null&&l&4&&p_(a),l&512&&vl(a,a.return);break;case 12:xr(t,a);break;case 13:xr(t,a),l&4&&b_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=mS.bind(null,a),OS(t,a))));break;case 22:if(l=a.memoizedState!==null||Qi,!l){r=r!==null&&r.memoizedState!==null||yt,h=Qi;var d=yt;Qi=l,(yt=r)&&!d?Cr(t,a,(a.subtreeFlags&8772)!==0):xr(t,a),Qi=h,yt=d}break;case 30:break;default:xr(t,a)}}function E_(t){var r=t.alternate;r!==null&&(t.alternate=null,E_(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&gr(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var st=null,mn=!1;function Yi(t,r,a){for(a=a.child;a!==null;)T_(t,r,a),a=a.sibling}function T_(t,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ht,a)}catch{}switch(a.tag){case 26:yt||mi(a,r),Yi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||mi(a,r);var l=st,h=mn;Vr(a.type)&&(st=a.stateNode,mn=!1),Yi(t,r,a),xl(a.stateNode),st=l,mn=h;break;case 5:yt||mi(a,r);case 6:if(l=st,h=mn,st=null,Yi(t,r,a),st=l,mn=h,st!==null)if(mn)try{(st.nodeType===9?st.body:st.nodeName==="HTML"?st.ownerDocument.body:st).removeChild(a.stateNode)}catch(d){et(a,r,d)}else try{st.removeChild(a.stateNode)}catch(d){et(a,r,d)}break;case 18:st!==null&&(mn?(t=st,uv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Pl(t)):uv(st,a.stateNode));break;case 4:l=st,h=mn,st=a.stateNode.containerInfo,mn=!0,Yi(t,r,a),st=l,mn=h;break;case 0:case 11:case 14:case 15:yt||Ir(2,a,r),yt||Ir(4,a,r),Yi(t,r,a);break;case 1:yt||(mi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&m_(a,r,l)),Yi(t,r,a);break;case 21:Yi(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Yi(t,r,a),yt=l;break;default:Yi(t,r,a)}}function b_(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Pl(t)}catch(a){et(r,r.return,a)}}function aS(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new __),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new __),r;default:throw Error(s(435,t.tag))}}function kd(t,r){var a=aS(t);r.forEach(function(l){var h=pS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Sn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=r,T=E;e:for(;T!==null;){switch(T.tag){case 27:if(Vr(T.type)){st=T.stateNode,mn=!1;break e}break;case 5:st=T.stateNode,mn=!1;break e;case 3:case 4:st=T.stateNode.containerInfo,mn=!0;break e}T=T.return}if(st===null)throw Error(s(160));T_(d,E,h),st=null,mn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)w_(r,t),r=r.sibling}var Xn=null;function w_(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Sn(r,t),An(t),l&4&&(Ir(3,t,t.return),_l(3,t),Ir(5,t,t.return));break;case 1:Sn(r,t),An(t),l&512&&(yt||a===null||mi(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(Sn(r,t),An(t),l&512&&(yt||a===null||mi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[_s]||d[It]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),$t(d,l,a),d[It]=t,pt(d),l=d;break e;case"link":var E=yv("link","href",h).get(l+(a.href||""));if(E){for(var T=0;T<E.length;T++)if(d=E[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(T,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;case"meta":if(E=yv("meta","content",h).get(l+(a.content||""))){for(T=0;T<E.length;T++)if(d=E[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(T,1);break t}}d=h.createElement(l),$t(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[It]=t,pt(d),l=d}t.stateNode=l}else _v(h,t.type,t.stateNode);else t.stateNode=gv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_v(h,t.type,t.stateNode):gv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Nd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,t),An(t),l&512&&(yt||a===null||mi(a,a.return)),a!==null&&l&4&&Nd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,t),An(t),l&512&&(yt||a===null||mi(a,a.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(K){et(t,t.return,K)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Nd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Md=!0);break;case 6:if(Sn(r,t),An(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(K){et(t,t.return,K)}}break;case 3:if(zc=null,h=Xn,Xn=Lc(r.containerInfo),Sn(r,t),Xn=h,An(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(K){et(t,t.return,K)}Md&&(Md=!1,S_(t));break;case 4:l=Xn,Xn=Lc(t.stateNode.containerInfo),Sn(r,t),An(t),Xn=l;break;case 12:Sn(r,t),An(t);break;case 13:Sn(r,t),An(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=Dn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,H=Qi,J=yt;if(Qi=H||h,yt=J||D,Sn(r,t),yt=J,Qi=H,An(t),l&8192)e:for(r=t.stateNode,r._visibility=h?r._visibility&-2:r._visibility|1,h&&(a===null||D||Qi||yt||Fs(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){D=a=r;try{if(d=D.stateNode,h)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{T=D.stateNode;var te=D.memoizedProps.style,$=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(K){et(D,D.return,K)}}}else if(r.tag===6){if(a===null){D=r;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(K){et(D,D.return,K)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kd(t,a))));break;case 19:Sn(r,t),An(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 30:break;case 21:break;default:Sn(r,t),An(t)}}function An(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(g_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Dd(t);Ac(t,d,h);break;case 5:var E=a.stateNode;a.flags&32&&(Mn(E,""),a.flags&=-33);var T=Dd(t);Ac(t,T,E);break;case 3:case 4:var D=a.stateNode.containerInfo,H=Dd(t);Od(t,H,D);break;default:throw Error(s(161))}}catch(J){et(t,t.return,J)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function S_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;S_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function xr(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)v_(t,r.alternate,r),r=r.sibling}function Fs(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Ir(4,r,r.return),Fs(r);break;case 1:mi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&m_(r,r.return,a),Fs(r);break;case 27:xl(r.stateNode);case 26:case 5:mi(r,r.return),Fs(r);break;case 22:r.memoizedState===null&&Fs(r);break;case 30:Fs(r);break;default:Fs(r)}t=t.sibling}}function Cr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,h=t,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Cr(h,d,a),_l(4,d);break;case 1:if(Cr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(H){et(l,l.return,H)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)Jg(D[h],T)}catch(H){et(l,l.return,H)}}a&&E&64&&d_(d),vl(d,d.return);break;case 27:y_(d);case 26:case 5:Cr(h,d,a),a&&l===null&&E&4&&p_(d),vl(d,d.return);break;case 12:Cr(h,d,a);break;case 13:Cr(h,d,a),a&&E&4&&b_(h,d);break;case 22:d.memoizedState===null&&Cr(h,d,a),vl(d,d.return);break;case 30:break;default:Cr(h,d,a)}r=r.sibling}}function Vd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Pd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t))}function pi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)A_(t,r,a,l),r=r.sibling}function A_(t,r,a,l){var h=r.flags;switch(r.tag){case 0:case 11:case 15:pi(t,r,a,l),h&2048&&_l(9,r);break;case 1:pi(t,r,a,l);break;case 3:pi(t,r,a,l),h&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){pi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,E=d.id,T=d.onPostCommit;typeof T=="function"&&T(E,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){et(r,r.return,D)}}else pi(t,r,a,l);break;case 13:pi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?pi(t,r,a,l):El(t,r):d._visibility&2?pi(t,r,a,l):(d._visibility|=2,ja(t,r,a,l,(r.subtreeFlags&10256)!==0)),h&2048&&Vd(E,r);break;case 24:pi(t,r,a,l),h&2048&&Pd(r.alternate,r);break;default:pi(t,r,a,l)}}function ja(t,r,a,l,h){for(h=h&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,E=r,T=a,D=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:ja(d,E,T,D,h),_l(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ja(d,E,T,D,h):El(d,E):(J._visibility|=2,ja(d,E,T,D,h)),h&&H&2048&&Vd(E.alternate,E);break;case 24:ja(d,E,T,D,h),h&&H&2048&&Pd(E.alternate,E);break;default:ja(d,E,T,D,h)}r=r.sibling}}function El(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Vd(l.alternate,l);break;case 24:El(a,l),h&2048&&Pd(l.alternate,l);break;default:El(a,l)}r=r.sibling}}var Tl=8192;function za(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 26:za(t),t.flags&Tl&&t.memoizedState!==null&&GS(Xn,t.memoizedState,t.memoizedProps);break;case 5:za(t);break;case 3:case 4:var r=Xn;Xn=Lc(t.stateNode.containerInfo),za(t),Xn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Tl,Tl=16777216,za(t),Tl=r):za(t));break;default:za(t)}}function I_(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function bl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,C_(l,t)}I_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&Ir(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Rc(t)):bl(t);break;default:bl(t)}}function Rc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];jt=l,C_(l,t)}I_(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Ir(8,r,r.return),Rc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Rc(r));break;default:Rc(r)}t=t.sibling}}function C_(t,r){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:Ir(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,jt=l;else e:for(a=t;jt!==null;){l=jt;var h=l.sibling,d=l.return;if(E_(l),l===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var oS={getCacheForType:function(t){var r=Jt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},lS=typeof WeakMap=="function"?WeakMap:Map,Qe=0,nt=null,ke=null,ze=0,Ye=0,Rn=null,Nr=!1,Ba=!1,Ud=!1,Xi=0,dt=0,Dr=0,Gs=0,Ld=0,qn=0,qa=0,wl=null,pn=null,jd=!1,zd=0,Ic=1/0,xc=null,Or=null,Gt=0,Mr=null,Ha=null,Fa=0,Bd=0,qd=null,N_=null,Sl=0,Hd=null;function In(){if((Qe&2)!==0&&ze!==0)return ze&-ze;if(U.T!==null){var t=Da;return t!==0?t:Xd()}return mr()}function D_(){qn===0&&(qn=(ze&536870912)===0||Fe?Mo():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),qn}function xn(t,r,a){(t===nt&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ga(t,0),kr(t,ze,qn,!1)),xi(t,a),((Qe&2)===0||t!==nt)&&(t===nt&&((Qe&2)===0&&(Gs|=a),dt===4&&kr(t,ze,qn,!1)),gi(t))}function O_(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||ys(t,r),h=l?hS(t,r):$d(t,r,!0),d=l;do{if(h===0){Ba&&!l&&kr(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!uS(a)){h=$d(t,r,!1),d=!1;continue}if(h===2){if(d=r,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var T=t;h=wl;var D=T.current.memoizedState.isDehydrated;if(D&&(Ga(T,E).flags|=256),E=$d(T,E,!1),E!==2){if(Ud&&!D){T.errorRecoveryDisabledLanes|=d,Gs|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=E}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),kr(t,r,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:kr(l,r,qn,!Nr);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(h=zd+300-Dn(),10<h)){if(kr(l,r,qn,!Nr),la(l,0,!0)!==0)break e;l.timeoutHandle=ov(M_.bind(null,l,a,pn,xc,jd,r,qn,Gs,qa,Nr,d,2,-0,0),h);break e}M_(l,a,pn,xc,jd,r,qn,Gs,qa,Nr,d,0,-0,0)}}break}while(!0);gi(t)}function M_(t,r,a,l,h,d,E,T,D,H,J,te,$,K){if(t.timeoutHandle=-1,te=r.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:FS},R_(r),te=$S(),te!==null)){t.cancelPendingCommit=te(z_.bind(null,t,r,d,a,l,h,E,T,D,J,1,$,K)),kr(t,d,E,!H);return}z_(t,r,d,a,l,h,E,T,D)}function uS(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function kr(t,r,a,l){r&=~Ld,r&=~Gs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var h=r;0<h;){var d=31-Zt(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&ti(t,a,r)}function Cc(){return(Qe&6)===0?(Al(0),!1):!0}function Fd(){if(ke!==null){if(Ye===0)var t=ke.return;else t=ke,qi=js=null,od(t),Ua=null,pl=0,t=ke;for(;t!==null;)f_(t.alternate,t),t=t.return;ke=null}}function Ga(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,IS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fd(),nt=t,ke=a=ji(t.current,null),ze=r,Ye=0,Rn=null,Nr=!1,Ba=ys(t,r),Ud=!1,qa=qn=Ld=Gs=Dr=dt=0,pn=wl=null,jd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var h=31-Zt(l),d=1<<h;r|=t[h],l&=~d}return Xi=r,Wu(),a}function k_(t,r){De=null,U.H=gc,r===al||r===ac?(r=Wg(),Ye=3):r===Qg?(r=Wg(),Ye=4):Ye=r===Zy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,ke===null&&(dt=1,Tc(t,Un(r,t.current)))}function V_(){var t=U.H;return U.H=gc,t===null?gc:t}function P_(){var t=U.A;return U.A=oS,t}function Gd(){dt=4,Nr||(ze&4194048)!==ze&&Bn.current!==null||(Ba=!0),(Dr&134217727)===0&&(Gs&134217727)===0||nt===null||kr(nt,ze,qn,!1)}function $d(t,r,a){var l=Qe;Qe|=2;var h=V_(),d=P_();(nt!==t||ze!==r)&&(xc=null,Ga(t,r)),r=!1;var E=dt;e:do try{if(Ye!==0&&ke!==null){var T=ke,D=Rn;switch(Ye){case 8:Fd(),E=6;break e;case 3:case 2:case 9:case 6:Bn.current===null&&(r=!0);var H=Ye;if(Ye=0,Rn=null,$a(t,T,D,H),a&&Ba){E=0;break e}break;default:H=Ye,Ye=0,Rn=null,$a(t,T,D,H)}}cS(),E=dt;break}catch(J){k_(t,J)}while(!0);return r&&t.shellSuspendCounter++,qi=js=null,Qe=l,U.H=h,U.A=d,ke===null&&(nt=null,ze=0,Wu()),E}function cS(){for(;ke!==null;)U_(ke)}function hS(t,r){var a=Qe;Qe|=2;var l=V_(),h=P_();nt!==t||ze!==r?(xc=null,Ic=Dn()+500,Ga(t,r)):Ba=ys(t,r);e:do try{if(Ye!==0&&ke!==null){r=ke;var d=Rn;t:switch(Ye){case 1:Ye=0,Rn=null,$a(t,r,d,1);break;case 2:case 9:if(Yg(d)){Ye=0,Rn=null,L_(r);break}r=function(){Ye!==2&&Ye!==9||nt!==t||(Ye=7),gi(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Yg(d)?(Ye=0,Rn=null,L_(r)):(Ye=0,Rn=null,$a(t,r,d,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var T=ke;if(!E||vv(E)){Ye=0,Rn=null;var D=T.sibling;if(D!==null)ke=D;else{var H=T.return;H!==null?(ke=H,Nc(H)):ke=null}break t}}Ye=0,Rn=null,$a(t,r,d,5);break;case 6:Ye=0,Rn=null,$a(t,r,d,6);break;case 8:Fd(),dt=6;break e;default:throw Error(s(462))}}fS();break}catch(J){k_(t,J)}while(!0);return qi=js=null,U.H=l,U.A=h,Qe=a,ke!==null?0:(nt=null,ze=0,Wu(),dt)}function fS(){for(;ke!==null&&!Co();)U_(ke)}function U_(t){var r=c_(t.alternate,t,Xi);t.memoizedProps=t.pendingProps,r===null?Nc(t):ke=r}function L_(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=r_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=r_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:od(r);default:f_(a,r),r=ke=jg(r,Xi),r=c_(a,r,Xi)}t.memoizedProps=t.pendingProps,r===null?Nc(t):ke=r}function $a(t,r,a,l){qi=js=null,od(r),Ua=null,pl=0;var h=r.return;try{if(tS(t,h,r,a,ze)){dt=1,Tc(t,Un(a,t.current)),ke=null;return}}catch(d){if(h!==null)throw ke=h,d;dt=1,Tc(t,Un(a,t.current)),ke=null;return}r.flags&32768?(Fe||l===1?t=!0:Ba||(ze&536870912)!==0?t=!1:(Nr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(r,t)):Nc(r)}function Nc(t){var r=t;do{if((r.flags&32768)!==0){j_(r,Nr);return}t=r.return;var a=iS(r.alternate,r,Xi);if(a!==null){ke=a;return}if(r=r.sibling,r!==null){ke=r;return}ke=r=t}while(r!==null);dt===0&&(dt=5)}function j_(t,r){do{var a=rS(t.alternate,t);if(a!==null){a.flags&=32767,ke=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){ke=t;return}ke=t=a}while(t!==null);dt=6,ke=null}function z_(t,r,a,l,h,d,E,T,D){t.cancelPendingCommit=null;do Dc();while(Gt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Pf,Vo(t,a,d,E,T,D),t===nt&&(ke=nt=null,ze=0),Ha=r,Mr=t,Fa=a,Bd=d,qd=h,N_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,gS(ds,function(){return G_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=U.T,U.T=null,h=X.p,X.p=2,E=Qe,Qe|=4;try{sS(t,r,a)}finally{Qe=E,X.p=h,U.T=l}}Gt=1,B_(),q_(),H_()}}function B_(){if(Gt===1){Gt=0;var t=Mr,r=Ha,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=U.T,U.T=null;var l=X.p;X.p=2;var h=Qe;Qe|=4;try{w_(r,t);var d=rm,E=Cg(t.containerInfo),T=d.focusedElem,D=d.selectionRange;if(E!==T&&T&&T.ownerDocument&&xg(T.ownerDocument.documentElement,T)){if(D!==null&&Df(T)){var H=D.start,J=D.end;if(J===void 0&&(J=H),"selectionStart"in T)T.selectionStart=H,T.selectionEnd=Math.min(J,T.value.length);else{var te=T.ownerDocument||document,$=te&&te.defaultView||window;if($.getSelection){var K=$.getSelection(),Re=T.textContent.length,we=Math.min(D.start,Re),Je=D.end===void 0?we:Math.min(D.end,Re);!K.extend&&we>Je&&(E=Je,Je=we,we=E);var z=Ig(T,we),P=Ig(T,Je);if(z&&P&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==P.node||K.focusOffset!==P.offset)){var q=te.createRange();q.setStart(z.node,z.offset),K.removeAllRanges(),we>Je?(K.addRange(q),K.extend(P.node,P.offset)):(q.setEnd(P.node,P.offset),K.addRange(q))}}}}for(te=[],K=T;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var ee=te[T];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Hc=!!im,rm=im=null}finally{Qe=h,X.p=l,U.T=a}}t.current=r,Gt=2}}function q_(){if(Gt===2){Gt=0;var t=Mr,r=Ha,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=U.T,U.T=null;var l=X.p;X.p=2;var h=Qe;Qe|=4;try{v_(t,r.alternate,r)}finally{Qe=h,X.p=l,U.T=a}}Gt=3}}function H_(){if(Gt===4||Gt===3){Gt=0,Ru();var t=Mr,r=Ha,a=Fa,l=N_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Ha=Mr=null,F_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Or=null),ua(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ht,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=U.T,h=X.p,X.p=2,U.T=null;try{for(var d=t.onRecoverableError,E=0;E<l.length;E++){var T=l[E];d(T.value,{componentStack:T.stack})}}finally{U.T=r,X.p=h}}(Fa&3)!==0&&Dc(),gi(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Hd?Sl++:(Sl=0,Hd=t):Sl=0,Al(0)}}function F_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,rl(r)))}function Dc(t){return B_(),q_(),H_(),G_()}function G_(){if(Gt!==5)return!1;var t=Mr,r=Bd;Bd=0;var a=ua(Fa),l=U.T,h=X.p;try{X.p=32>a?32:a,U.T=null,a=qd,qd=null;var d=Mr,E=Fa;if(Gt=0,Ha=Mr=null,Fa=0,(Qe&6)!==0)throw Error(s(331));var T=Qe;if(Qe|=4,x_(d.current),A_(d,d.current,E,a),Qe=T,Al(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ht,d)}catch{}return!0}finally{X.p=h,U.T=l,F_(t,r)}}function $_(t,r,a){r=Un(a,r),r=Td(t.stateNode,r,2),t=wr(t,r,2),t!==null&&(xi(t,2),gi(t))}function et(t,r,a){if(t.tag===3)$_(t,t,a);else for(;r!==null;){if(r.tag===3){$_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Or===null||!Or.has(l))){t=Un(a,t),a=Xy(2),l=wr(r,a,2),l!==null&&(Wy(a,l,r,t),xi(l,2),gi(l));break}}r=r.return}}function Kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new lS;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(a)||(Ud=!0,h.add(a),t=dS.bind(null,t,r,a),r.then(t,t))}function dS(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,nt===t&&(ze&a)===a&&(dt===4||dt===3&&(ze&62914560)===ze&&300>Dn()-zd?(Qe&2)===0&&Ga(t,0):Ld|=a,qa===ze&&(qa=0)),gi(t)}function K_(t,r){r===0&&(r=ko()),t=Ia(t,r),t!==null&&(xi(t,r),gi(t))}function mS(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),K_(t,a)}function pS(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),K_(t,a)}function gS(t,r){return Nn(t,r)}var Oc=null,Ka=null,Qd=!1,Mc=!1,Yd=!1,$s=0;function gi(t){t!==Ka&&t.next===null&&(Ka===null?Oc=Ka=t:Ka=Ka.next=t),Mc=!0,Qd||(Qd=!0,_S())}function Al(t,r){if(!Yd&&Mc){Yd=!0;do for(var a=!1,l=Oc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=h&~(E&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,W_(l,d))}else d=ze,d=la(l,l===nt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ys(l,d)||(a=!0,W_(l,d));l=l.next}while(a);Yd=!1}}function yS(){Q_()}function Q_(){Mc=Qd=!1;var t=0;$s!==0&&(RS()&&(t=$s),$s=0);for(var r=Dn(),a=null,l=Oc;l!==null;){var h=l.next,d=Y_(l,r);d===0?(l.next=null,a===null?Oc=h:a.next=h,h===null&&(Ka=a)):(a=l,(t!==0||(d&3)!==0)&&(Mc=!0)),l=h}Al(t)}function Y_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-Zt(d),T=1<<E,D=h[E];D===-1?((T&a)===0||(T&l)!==0)&&(h[E]=Oo(T,r)):D<=r&&(t.expiredLanes|=T),d&=~T}if(r=nt,a=ze,a=la(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&fs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ys(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&fs(l),ua(a)){case 2:case 8:a=aa;break;case 32:a=ds;break;case 268435456:a=oa;break;default:a=ds}return l=X_.bind(null,t),a=Nn(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&fs(l),t.callbackPriority=2,t.callbackNode=null,2}function X_(t,r){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Dc()&&t.callbackNode!==a)return null;var l=ze;return l=la(t,t===nt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(O_(t,l,r),Y_(t,Dn()),t.callbackNode!=null&&t.callbackNode===a?X_.bind(null,t):null)}function W_(t,r){if(Dc())return null;O_(t,r,!0)}function _S(){xS(function(){(Qe&6)!==0?Nn(No,yS):Q_()})}function Xd(){return $s===0&&($s=Mo()),$s}function Z_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:pa(""+t)}function J_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function vS(t,r,a,l,h){if(r==="submit"&&a&&a.stateNode===h){var d=Z_((h[Et]||null).action),E=l.submitter;E&&(r=(r=E[Et]||null)?Z_(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var T=new ga("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var D=E?J_(h,E):new FormData(h);gd(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(T.preventDefault(),D=E?J_(h,E):new FormData(h),gd(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var Wd=0;Wd<Vf.length;Wd++){var Zd=Vf[Wd],ES=Zd.toLowerCase(),TS=Zd[0].toUpperCase()+Zd.slice(1);Yn(ES,"on"+TS)}Yn(Og,"onAnimationEnd"),Yn(Mg,"onAnimationIteration"),Yn(kg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(Lw,"onTransitionRun"),Yn(jw,"onTransitionStart"),Yn(zw,"onTransitionCancel"),Yn(Vg,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function ev(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var T=l[E],D=T.instance,H=T.currentTarget;if(T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){Ec(J)}h.currentTarget=null,d=D}else for(E=0;E<l.length;E++){if(T=l[E],D=T.instance,H=T.currentTarget,T=T.listener,D!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=H;try{d(h)}catch(J){Ec(J)}h.currentTarget=null,d=D}}}}function Ve(t,r){var a=r[Uo];a===void 0&&(a=r[Uo]=new Set);var l=t+"__bubble";a.has(l)||(tv(r,t,2,!1),a.add(l))}function Jd(t,r,a){var l=0;r&&(l|=4),tv(a,t,l,r)}var kc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[kc]){t[kc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(bS.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[kc]||(r[kc]=!0,Jd("selectionchange",!1,r))}}function tv(t,r,a,l){switch(Av(r)){case 2:var h=YS;break;case 8:h=XS;break;default:h=mm}a=h.bind(null,r,a,t),h=void 0,!Vn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(r,a,{capture:!0,passive:h}):t.addEventListener(r,a,!0):h!==void 0?t.addEventListener(r,a,{passive:h}):t.addEventListener(r,a,!1)}function tm(t,r,a,l,h){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var T=l.stateNode.containerInfo;if(T===h)break;if(E===4)for(E=l.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;T!==null;){if(E=Ci(T),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){l=d=E;continue e}T=T.parentNode}}l=l.return}Pu(function(){var H=d,J=kn(a),te=[];e:{var $=Pg.get(t);if($!==void 0){var K=ga,Re=t;switch(t){case"keypress":if(oi(a)===0)break e;case"keydown":case"keyup":K=ba;break;case"focusin":Re="focus",K=va;break;case"focusout":Re="blur",K=va;break;case"beforeblur":case"afterblur":K=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=If;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Fu;break;case Og:case Mg:case kg:K=Ea;break;case Vg:K=$u;break;case"scroll":case"scrollend":K=Uu;break;case"wheel":K=wa;break;case"copy":case"cut":case"paste":K=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xo;break;case"toggle":case"beforetoggle":K=Qu}var we=(r&4)!==0,Je=!we&&(t==="scroll"||t==="scrollend"),z=we?$!==null?$+"Capture":null:$;we=[];for(var P=H,q;P!==null;){var ee=P;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||z===null||(ee=As(P,z),ee!=null&&we.push(Il(P,ee,q))),Je)break;P=P.return}0<we.length&&($=new K($,Re,null,a,J),te.push({event:$,listeners:we}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",$&&a!==Mi&&(Re=a.relatedTarget||a.fromElement)&&(Ci(Re)||Re[On]))break e;if((K||$)&&($=J.window===J?J:($=J.ownerDocument)?$.defaultView||$.parentWindow:window,K?(Re=a.relatedTarget||a.toElement,K=H,Re=Re?Ci(Re):null,Re!==null&&(Je=u(Re),we=Re.tag,Re!==Je||we!==5&&we!==27&&we!==6)&&(Re=null)):(K=null,Re=H),K!==Re)){if(we=Pn,ee="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(we=Xo,ee="onPointerLeave",z="onPointerEnter",P="pointer"),Je=K==null?$:ii(K),q=Re==null?$:ii(Re),$=new we(ee,P+"leave",K,a,J),$.target=Je,$.relatedTarget=q,ee=null,Ci(J)===H&&(we=new we(z,P+"enter",Re,a,J),we.target=q,we.relatedTarget=Je,ee=we),Je=ee,K&&Re)t:{for(we=K,z=Re,P=0,q=we;q;q=Qa(q))P++;for(q=0,ee=z;ee;ee=Qa(ee))q++;for(;0<P-q;)we=Qa(we),P--;for(;0<q-P;)z=Qa(z),q--;for(;P--;){if(we===z||z!==null&&we===z.alternate)break t;we=Qa(we),z=Qa(z)}we=null}else we=null;K!==null&&nv(te,$,K,we,!1),Re!==null&&Je!==null&&nv(te,Je,Re,we,!0)}}e:{if($=H?ii(H):window,K=$.nodeName&&$.nodeName.toLowerCase(),K==="select"||K==="input"&&$.type==="file")var pe=Tg;else if(Ct($))if(bg)pe=Vw;else{pe=Mw;var Me=Ow}else K=$.nodeName,!K||K.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?H&&Ho(H.elementType)&&(pe=Tg):pe=kw;if(pe&&(pe=pe(t,H))){Li(te,pe,a,J);break e}Me&&Me(t,$,H),t==="focusout"&&H&&$.type==="number"&&H.memoizedProps.value!=null&&_r($,"number",$.value)}switch(Me=H?ii(H):window,t){case"focusin":(Ct(Me)||Me.contentEditable==="true")&&(Sa=Me,Of=H,Jo=null);break;case"focusout":Jo=Of=Sa=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Ng(te,a,J);break;case"selectionchange":if(Uw)break;case"keydown":case"keyup":Ng(te,a,J)}var _e;if(ci)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Le?Y(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(_&&a.locale!=="ko"&&(Le||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Le&&(_e=Go()):(ai=J,vr="value"in ai?ai.value:ai.textContent,Le=!0)),Me=Vc(H,Se),0<Me.length&&(Se=new Qo(Se,t,null,a,J),te.push({event:Se,listeners:Me}),_e?Se.data=_e:(_e=ue(a),_e!==null&&(Se.data=_e)))),(_e=y?xt(t,a):je(t,a))&&(Se=Vc(H,"onBeforeInput"),0<Se.length&&(Me=new Qo("onBeforeInput","beforeinput",null,a,J),te.push({event:Me,listeners:Se}),Me.data=_e)),vS(te,t,H,a,J)}ev(te,r)})}function Il(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Vc(t,r){for(var a=r+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=As(t,a),h!=null&&l.unshift(Il(t,h,d)),h=As(t,r),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function nv(t,r,a,l,h){for(var d=r._reactName,E=[];a!==null&&a!==l;){var T=a,D=T.alternate,H=T.stateNode;if(T=T.tag,D!==null&&D===l)break;T!==5&&T!==26&&T!==27||H===null||(D=H,h?(H=As(a,d),H!=null&&E.unshift(Il(a,H,D))):h||(H=As(a,d),H!=null&&E.push(Il(a,H,D)))),a=a.return}E.length!==0&&t.push({event:r,listeners:E})}var wS=/\r\n?/g,SS=/\u0000|\uFFFD/g;function iv(t){return(typeof t=="string"?t:""+t).replace(wS,`
`).replace(SS,"")}function rv(t,r){return r=iv(r),iv(t)===r}function Pc(){}function Ze(t,r,a,l,h,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Mn(t,""+l);break;case"className":ri(t,"class",l);break;case"tabIndex":ri(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ri(t,a,l);break;case"style":qo(t,l,d);break;case"data":if(r!=="object"){ri(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",h.name,h,null),Ze(t,r,"formEncType",h.formEncType,h,null),Ze(t,r,"formMethod",h.formMethod,h,null),Ze(t,r,"formTarget",h.formTarget,h,null)):(Ze(t,r,"encType",h.encType,h,null),Ze(t,r,"method",h.method,h,null),Ze(t,r,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=pa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=pa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),yr(t,"popover",l);break;case"xlinkActuate":qt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":qt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":qt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":qt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":qt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":qt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":qt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":qt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":qt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":yr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,yr(t,a,l))}}function nm(t,r,a,l,h,d){switch(a){case"style":qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),r=a.slice(2,h?a.length-7:void 0),d=t[Et]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):yr(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,E,a,null)}}h&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Ve("invalid",t);var T=d=E=h=null,D=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var J=a[l];if(J!=null)switch(l){case"name":h=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":H=J;break;case"value":d=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(s(137,r));break;default:Ze(t,r,l,J,a,null)}}bs(t,d,T,D,H,E,h,!1),ma(t);return;case"select":Ve("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":E=T;break;case"multiple":l=T;default:Ze(t,r,h,T,a,null)}r=d,a=E,t.multiple=!!l,r!=null?Oi(t,!!l,r,!1):a!=null&&Oi(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(T=a[E],T!=null))switch(E){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Ze(t,r,E,T,a,null)}ws(t,l,h,d),ma(t);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,D,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ve(Rl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,H,l,a,null)}return;default:if(Ho(r)){for(J in a)a.hasOwnProperty(J)&&(l=a[J],l!==void 0&&nm(t,r,J,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Ze(t,r,T,l,a,null))}function AS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,T=null,D=null,H=null,J=null;for(K in a){var te=a[K];if(a.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=te;default:l.hasOwnProperty(K)||Ze(t,r,K,null,l,te)}}for(var $ in l){var K=l[$];if(te=a[$],l.hasOwnProperty($)&&(K!=null||te!=null))switch($){case"type":d=K;break;case"name":h=K;break;case"checked":H=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:K!==te&&Ze(t,r,$,K,l,te)}}Tn(t,E,T,D,H,J,d,h);return;case"select":K=E=T=$=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":$=d;break;case"defaultValue":T=d;break;case"multiple":E=d;default:d!==D&&Ze(t,r,h,d,l,D)}r=T,a=E,l=K,$!=null?Oi(t,!!a,$,!1):!!l!=!!a&&(r!=null?Oi(t,!!a,r,!0):Oi(t,!!a,a?[]:"",!1));return;case"textarea":K=$=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ze(t,r,T,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":$=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,r,E,h,l,d)}Xe(t,$,K);return;case"option":for(var Re in a)if($=a[Re],a.hasOwnProperty(Re)&&$!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":t.selected=!1;break;default:Ze(t,r,Re,null,l,$)}for(D in l)if($=l[D],K=a[D],l.hasOwnProperty(D)&&$!==K&&($!=null||K!=null))switch(D){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(t,r,D,$,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)$=a[we],a.hasOwnProperty(we)&&$!=null&&!l.hasOwnProperty(we)&&Ze(t,r,we,null,l,$);for(H in l)if($=l[H],K=a[H],l.hasOwnProperty(H)&&$!==K&&($!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ze(t,r,H,$,l,K)}return;default:if(Ho(r)){for(var Je in a)$=a[Je],a.hasOwnProperty(Je)&&$!==void 0&&!l.hasOwnProperty(Je)&&nm(t,r,Je,void 0,l,$);for(J in l)$=l[J],K=a[J],!l.hasOwnProperty(J)||$===K||$===void 0&&K===void 0||nm(t,r,J,$,l,K);return}}for(var z in a)$=a[z],a.hasOwnProperty(z)&&$!=null&&!l.hasOwnProperty(z)&&Ze(t,r,z,null,l,$);for(te in l)$=l[te],K=a[te],!l.hasOwnProperty(te)||$===K||$==null&&K==null||Ze(t,r,te,$,l,K)}var im=null,rm=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function sv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function av(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function sm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var am=null;function RS(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var ov=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,lv=typeof Promise=="function"?Promise:void 0,xS=typeof queueMicrotask=="function"?queueMicrotask:typeof lv<"u"?function(t){return lv.resolve(null).then(t).catch(CS)}:ov;function CS(t){setTimeout(function(){throw t})}function Vr(t){return t==="head"}function uv(t,r){var a=r,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=t.ownerDocument;if(a&1&&xl(E.documentElement),a&2&&xl(E.body),a&4)for(a=E.head,xl(a),E=a.firstChild;E;){var T=E.nextSibling,D=E.nodeName;E[_s]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=T}}if(h===0){t.removeChild(d),Pl(r);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Pl(r)}function om(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":om(a),gr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function NS(t,r,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[_s])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function DS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function lm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function OS(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Wn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var um=null;function cv(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function hv(t,r,a){switch(r=Uc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);gr(t)}var Hn=new Map,fv=new Set;function Lc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Wi=X.d;X.d={f:MS,r:kS,D:VS,C:PS,L:US,m:LS,X:zS,S:jS,M:BS};function MS(){var t=Wi.f(),r=Cc();return t||r}function kS(t){var r=ni(t);r!==null&&r.tag===5&&r.type==="form"?Oy(r):Wi.r(t)}var Ya=typeof document>"u"?null:document;function dv(t,r,a){var l=Ya;if(l&&typeof r=="string"&&r){var h=Tt(r);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fv.has(h)||(fv.add(h),t={rel:t,crossOrigin:a,href:r},l.querySelector(h)===null&&(r=l.createElement("link"),$t(r,"link",t),pt(r),l.head.appendChild(r)))}}function VS(t){Wi.D(t),dv("dns-prefetch",t,null)}function PS(t,r){Wi.C(t,r),dv("preconnect",t,r)}function US(t,r,a){Wi.L(t,r,a);var l=Ya;if(l&&t&&r){var h='link[rel="preload"][as="'+Tt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+Tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+Tt(a.imageSizes)+'"]')):h+='[href="'+Tt(t)+'"]';var d=h;switch(r){case"style":d=Xa(t);break;case"script":d=Wa(t)}Hn.has(d)||(t=v({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Hn.set(d,t),l.querySelector(h)!==null||r==="style"&&l.querySelector(Cl(d))||r==="script"&&l.querySelector(Nl(d))||(r=l.createElement("link"),$t(r,"link",t),pt(r),l.head.appendChild(r)))}}function LS(t,r){Wi.m(t,r);var a=Ya;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",h='link[rel="modulepreload"][as="'+Tt(l)+'"][href="'+Tt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Hn.has(d)&&(t=v({rel:"modulepreload",href:t},r),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Nl(d)))return}l=a.createElement("link"),$t(l,"link",t),pt(l),a.head.appendChild(l)}}}function jS(t,r,a){Wi.S(t,r,a);var l=Ya;if(l&&t){var h=on(l).hoistableStyles,d=Xa(t);r=r||"default";var E=h.get(d);if(!E){var T={loading:0,preload:null};if(E=l.querySelector(Cl(d)))T.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Hn.get(d))&&cm(t,a);var D=E=l.createElement("link");pt(D),$t(D,"link",t),D._p=new Promise(function(H,J){D.onload=H,D.onerror=J}),D.addEventListener("load",function(){T.loading|=1}),D.addEventListener("error",function(){T.loading|=2}),T.loading|=4,jc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:T},h.set(d,E)}}}function zS(t,r){Wi.X(t,r);var a=Ya;if(a&&t){var l=on(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=v({src:t,async:!0},r),(r=Hn.get(h))&&hm(t,r),d=a.createElement("script"),pt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function BS(t,r){Wi.M(t,r);var a=Ya;if(a&&t){var l=on(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Nl(h)),d||(t=v({src:t,async:!0,type:"module"},r),(r=Hn.get(h))&&hm(t,r),d=a.createElement("script"),pt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function mv(t,r,a,l){var h=(h=Te.current)?Lc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=Xa(a.href),a=on(h).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=on(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Cl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||qS(h,t,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Wa(a),a=on(h).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+Tt(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function pv(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function qS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),pt(r),t.head.appendChild(r))}function Wa(t){return'[src="'+Tt(t)+'"]'}function Nl(t){return"script[async]"+t}function gv(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Tt(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var h=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),$t(l,"style",h),jc(l,a.precedence,t),r.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Cl(h));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=pv(a),(h=Hn.get(h))&&cm(l,h),d=(t.ownerDocument||t).createElement("link"),pt(d);var E=d;return E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),$t(d,"link",l),r.state.loading|=4,jc(d,a.precedence,t),r.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Nl(d)))?(r.instance=h,pt(h),h):(l=a,(h=Hn.get(d))&&(l=v({},a),hm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),pt(h),$t(h,"link",l),t.head.appendChild(h),r.instance=h);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,jc(l,a.precedence,t));return r.instance}function jc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var T=l[E];if(T.dataset.precedence===r)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function hm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var zc=null;function yv(t,r,a){if(zc===null){var l=new Map,h=zc=new Map;h.set(a,l)}else h=zc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[_s]||d[It]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=t+E;var T=l.get(E);T?T.push(d):l.set(E,[d])}}return l}function _v(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function HS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function vv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function FS(){}function GS(t,r,a){if(Dl===null)throw Error(s(475));var l=Dl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=Xa(a.href),d=t.querySelector(Cl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Bc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=t.ownerDocument||t,a=pv(a),(h=Hn.get(h))&&cm(a,h),d=d.createElement("link"),pt(d);var E=d;E._p=new Promise(function(T,D){E.onload=T,E.onerror=D}),$t(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function $S(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&fm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&fm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)fm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var qc=null;function fm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,qc=new Map,r.forEach(KS,t),qc=null,Bc.call(t))}function KS(t,r){if(!(r.state.loading&4)){var a=qc.get(t);if(a)var l=a.get(null);else{a=new Map,qc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=r.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),r.state.loading|=4}}var Ol={$$typeof:re,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function QS(t,r,a,l,h,d,E,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Ev(t,r,a,l,h,d,E,T,D,H,J,te){return t=new QS(t,r,a,E,T,D,H,te),r=1,d===!0&&(r|=24),d=wn(3,null,null,r),t.current=d,d.stateNode=t,r=Kf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Wf(d),t}function Tv(t){return t?(t=xa,t):xa}function bv(t,r,a,l,h,d){h=Tv(h),l.context===null?l.context=h:l.pendingContext=h,l=br(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=wr(t,l,r),a!==null&&(xn(a,t,r),ll(a,t,r))}function wv(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function dm(t,r){wv(t,r),(t=t.alternate)&&wv(t,r)}function Sv(t){if(t.tag===13){var r=Ia(t,67108864);r!==null&&xn(r,t,67108864),dm(t,67108864)}}var Hc=!0;function YS(t,r,a,l){var h=U.T;U.T=null;var d=X.p;try{X.p=2,mm(t,r,a,l)}finally{X.p=d,U.T=h}}function XS(t,r,a,l){var h=U.T;U.T=null;var d=X.p;try{X.p=8,mm(t,r,a,l)}finally{X.p=d,U.T=h}}function mm(t,r,a,l){if(Hc){var h=pm(l);if(h===null)tm(t,r,l,Fc,a),Rv(t,l);else if(ZS(h,t,r,a,l))l.stopPropagation();else if(Rv(t,l),r&4&&-1<WS.indexOf(t)){for(;h!==null;){var d=ni(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=$n(d.pendingLanes);if(E!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;E;){var D=1<<31-Zt(E);T.entanglements[1]|=D,E&=~D}gi(d),(Qe&6)===0&&(Ic=Dn()+500,Al(0))}}break;case 13:T=Ia(d,2),T!==null&&xn(T,d,2),Cc(),dm(d,2)}if(d=pm(l),d===null&&tm(t,r,l,Fc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else tm(t,r,l,null,a)}}function pm(t){return t=kn(t),gm(t)}var Fc=null;function gm(t){if(Fc=null,t=Ci(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=f(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Fc=t,null}function Av(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vf()){case No:return 2;case aa:return 8;case ds:case Ef:return 32;case oa:return 268435456;default:return 32}default:return 32}}var ym=!1,Pr=null,Ur=null,Lr=null,Ml=new Map,kl=new Map,jr=[],WS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Rv(t,r){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Ur=null;break;case"mouseover":case"mouseout":Lr=null;break;case"pointerover":case"pointerout":Ml.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(r.pointerId)}}function Vl(t,r,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},r!==null&&(r=ni(r),r!==null&&Sv(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function ZS(t,r,a,l,h){switch(r){case"focusin":return Pr=Vl(Pr,t,r,a,l,h),!0;case"dragenter":return Ur=Vl(Ur,t,r,a,l,h),!0;case"mouseover":return Lr=Vl(Lr,t,r,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ml.set(d,Vl(Ml.get(d)||null,t,r,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Vl(kl.get(d)||null,t,r,a,l,h)),!0}return!1}function Iv(t){var r=Ci(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=f(a),r!==null){t.blockedOn=r,Cu(t.priority,function(){if(a.tag===13){var l=In();l=dr(l);var h=Ia(a,l);h!==null&&xn(h,a,l),dm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=pm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Mi=l,a.target.dispatchEvent(l),Mi=null}else return r=ni(a),r!==null&&Sv(r),t.blockedOn=a,!1;r.shift()}return!0}function xv(t,r,a){Gc(t)&&a.delete(r)}function JS(){ym=!1,Pr!==null&&Gc(Pr)&&(Pr=null),Ur!==null&&Gc(Ur)&&(Ur=null),Lr!==null&&Gc(Lr)&&(Lr=null),Ml.forEach(xv),kl.forEach(xv)}function $c(t,r){t.blockedOn===r&&(t.blockedOn=null,ym||(ym=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,JS)))}var Kc=null;function Cv(t){Kc!==t&&(Kc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===t&&(Kc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],h=t[r+2];if(typeof l!="function"){if(gm(l||a)===null)continue;break}var d=ni(a);d!==null&&(t.splice(r,3),r-=3,gd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Pl(t){function r(D){return $c(D,t)}Pr!==null&&$c(Pr,t),Ur!==null&&$c(Ur,t),Lr!==null&&$c(Lr,t),Ml.forEach(r),kl.forEach(r);for(var a=0;a<jr.length;a++){var l=jr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<jr.length&&(a=jr[0],a.blockedOn===null);)Iv(a),a.blockedOn===null&&jr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Et]||null;if(typeof d=="function")E||Cv(a);else if(E){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Et]||null)T=E.formAction;else if(gm(h)!==null)continue}else T=E.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Cv(a)}}}function _m(t){this._internalRoot=t}Qc.prototype.render=_m.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=In();bv(a,l,t,r,null,null)},Qc.prototype.unmount=_m.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;bv(t.current,2,null,t,null,null),Cc(),r[On]=null}};function Qc(t){this._internalRoot=t}Qc.prototype.unstable_scheduleHydration=function(t){if(t){var r=mr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<jr.length&&r!==0&&r<jr[a].priority;a++);jr.splice(a,0,t),a===0&&Iv(t)}};var Nv=e.version;if(Nv!=="19.1.0")throw Error(s(527,Nv,"19.1.0"));X.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{ht=Yc.inject(eA),Ke=Yc}catch{}}return Ll.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",h=$y,d=Ky,E=Qy,T=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(h=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(T=r.unstable_transitionCallbacks)),r=Ev(t,1,!1,null,null,a,l,h,d,E,T,null),t[On]=r.current,em(t),new _m(r)},Ll.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=$y,E=Ky,T=Qy,D=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(D=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=Ev(t,1,!0,r,a??null,l,h,d,E,T,D,H),r.context=Tv(null),a=r.current,l=In(),l=dr(l),h=br(l),h.callback=null,wr(a,h,l),a=l,r.current.lanes=a,xi(r,a),gi(r),t[On]=r.current,em(t),new Qc(r)},Ll.version="19.1.0",Ll}var Bv;function cA(){if(Bv)return Tm.exports;Bv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tm.exports=uA(),Tm.exports}var hA=cA(),jl={},qv;function fA(){if(qv)return jl;qv=1,Object.defineProperty(jl,"__esModule",{value:!0}),jl.parse=f,jl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,k){const O=new u,Q=S.length;if(Q<2)return O;const F=(k==null?void 0:k.decode)||v;let G=0;do{const ae=S.indexOf("=",G);if(ae===-1)break;const re=S.indexOf(";",G),ge=re===-1?Q:re;if(ae>ge){G=S.lastIndexOf(";",ae-1)+1;continue}const he=m(S,G,ae),ve=p(S,ae,he),V=S.slice(he,ve);if(O[V]===void 0){let I=m(S,ae+1,ge),x=p(S,ge,I);const A=F(S.slice(I,x));O[V]=A}G=ge+1}while(G<Q);return O}function m(S,k,O){do{const Q=S.charCodeAt(k);if(Q!==32&&Q!==9)return k}while(++k<O);return O}function p(S,k,O){for(;k>O;){const Q=S.charCodeAt(--k);if(Q!==32&&Q!==9)return k+1}return O}function g(S,k,O){const Q=(O==null?void 0:O.encode)||encodeURIComponent;if(!i.test(S))throw new TypeError(`argument name is invalid: ${S}`);const F=Q(k);if(!e.test(F))throw new TypeError(`argument val is invalid: ${k}`);let G=S+"="+F;if(!O)return G;if(O.maxAge!==void 0){if(!Number.isInteger(O.maxAge))throw new TypeError(`option maxAge is invalid: ${O.maxAge}`);G+="; Max-Age="+O.maxAge}if(O.domain){if(!n.test(O.domain))throw new TypeError(`option domain is invalid: ${O.domain}`);G+="; Domain="+O.domain}if(O.path){if(!s.test(O.path))throw new TypeError(`option path is invalid: ${O.path}`);G+="; Path="+O.path}if(O.expires){if(!b(O.expires)||!Number.isFinite(O.expires.valueOf()))throw new TypeError(`option expires is invalid: ${O.expires}`);G+="; Expires="+O.expires.toUTCString()}if(O.httpOnly&&(G+="; HttpOnly"),O.secure&&(G+="; Secure"),O.partitioned&&(G+="; Partitioned"),O.priority)switch(typeof O.priority=="string"?O.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${O.priority}`)}if(O.sameSite)switch(typeof O.sameSite=="string"?O.sameSite.toLowerCase():O.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${O.sameSite}`)}return G}function v(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function b(S){return o.call(S)==="[object Date]"}return jl}fA();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hv="popstate";function dA(i={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return jm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Jl(o)}return pA(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function bi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mA(){return Math.random().toString(36).substring(2,10)}function Fv(i,e){return{usr:i.state,key:i.key,idx:e}}function jm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||mA()}}function Jl({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function yo(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function pA(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=v();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function v(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=v(),G=F==null?null:F-g;g=F,p&&p({action:m,location:Q.location,delta:G})}function S(F,G){m="PUSH";let ae=jm(Q.location,F,G);g=v()+1;let re=Fv(ae,g),ge=Q.createHref(ae);try{f.pushState(re,"",ge)}catch(he){if(he instanceof DOMException&&he.name==="DataCloneError")throw he;o.location.assign(ge)}u&&p&&p({action:m,location:Q.location,delta:1})}function k(F,G){m="REPLACE";let ae=jm(Q.location,F,G);g=v();let re=Fv(ae,g),ge=Q.createHref(ae);f.replaceState(re,"",ge),u&&p&&p({action:m,location:Q.location,delta:0})}function O(F){let G=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof F=="string"?F:Jl(F);return ae=ae.replace(/ $/,"%20"),lt(G,`No window.location.(origin|href) available to create URL for href: ${ae}`),new URL(ae,G)}let Q={get action(){return m},get location(){return i(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hv,b),p=F,()=>{o.removeEventListener(Hv,b),p=null}},createHref(F){return e(o,F)},createURL:O,encodeLocation(F){let G=O(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:S,replace:k,go(F){return f.go(F)}};return Q}function OE(i,e,n="/"){return gA(i,e,n,!1)}function gA(i,e,n,s){let o=typeof e=="string"?yo(e):e,u=sr(o.pathname||"/",n);if(u==null)return null;let f=ME(i);yA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=xA(u);m=RA(f[p],g,s)}return m}function ME(i,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=nr([s,p.relativePath]),v=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),ME(u.children,e,v,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:SA(g,u.index),routesMeta:v})};return i.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of kE(u.path))o(u,f,p)}),e}function kE(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function yA(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:AA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var _A=/^:[\w-]+$/,vA=3,EA=2,TA=1,bA=10,wA=-2,Gv=i=>i==="*";function SA(i,e){let n=i.split("/"),s=n.length;return n.some(Gv)&&(s+=wA),e&&(s+=EA),n.filter(o=>!Gv(o)).reduce((o,u)=>o+(_A.test(u)?vA:u===""?TA:bA),s)}function AA(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function RA(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,v=u==="/"?e:e.slice(u.length)||"/",b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:nr([u,b.pathname]),pathnameBase:OA(nr([u,b.pathnameBase])),route:S}),b.pathnameBase!=="/"&&(u=nr([u,b.pathnameBase]))}return f}function _h(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=IA(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:v,isOptional:b},S)=>{if(v==="*"){let O=m[S]||"";f=u.slice(0,u.length-O.length).replace(/(.)\/+$/,"$1")}const k=m[S];return b&&!k?g[v]=void 0:g[v]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:i}}function IA(i,e=!1,n=!0){bi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xA(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function sr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function CA(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?yo(i):i;return{pathname:n?n.startsWith("/")?n:NA(n,e):e,search:MA(s),hash:kA(o)}}function NA(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DA(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function VE(i){let e=DA(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function PE(i,e,n,s=!1){let o;typeof i=="string"?o=yo(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),b-=1;o.pathname=S.join("/")}m=b>=0?e[b]:"/"}let p=CA(o,m),g=f&&f!=="/"&&f.endsWith("/"),v=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var nr=i=>i.join("/").replace(/\/\/+/g,"/"),OA=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),MA=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,kA=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function VA(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var PA=["GET",...UE];new Set(PA);var _o=L.createContext(null);_o.displayName="DataRouter";var zh=L.createContext(null);zh.displayName="DataRouterState";var LE=L.createContext({isTransitioning:!1});LE.displayName="ViewTransition";var UA=L.createContext(new Map);UA.displayName="Fetchers";var LA=L.createContext(null);LA.displayName="Await";var Si=L.createContext(null);Si.displayName="Navigation";var cu=L.createContext(null);cu.displayName="Location";var Ai=L.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var _p=L.createContext(null);_p.displayName="RouteError";function jA(i,{relative:e}={}){lt(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(Si),{hash:o,pathname:u,search:f}=fu(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:nr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function hu(){return L.useContext(cu)!=null}function Ri(){return lt(hu(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(cu).location}var jE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zE(i){L.useContext(Si).static||L.useLayoutEffect(i)}function Bh(){let{isDataRoute:i}=L.useContext(Ai);return i?JA():zA()}function zA(){lt(hu(),"useNavigate() may be used only in the context of a <Router> component.");let i=L.useContext(_o),{basename:e,navigator:n}=L.useContext(Si),{matches:s}=L.useContext(Ai),{pathname:o}=Ri(),u=JSON.stringify(VE(s)),f=L.useRef(!1);return zE(()=>{f.current=!0}),L.useCallback((p,g={})=>{if(bi(f.current,jE),!f.current)return;if(typeof p=="number"){n.go(p);return}let v=PE(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:nr([e,v.pathname])),(g.replace?n.replace:n.push)(v,g.state,g)},[e,n,u,o,i])}L.createContext(null);function BA(){let{matches:i}=L.useContext(Ai),e=i[i.length-1];return e?e.params:{}}function fu(i,{relative:e}={}){let{matches:n}=L.useContext(Ai),{pathname:s}=Ri(),o=JSON.stringify(VE(n));return L.useMemo(()=>PE(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function qA(i,e){return BE(i,e)}function BE(i,e,n,s){var ae;lt(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=L.useContext(Si),{matches:f}=L.useContext(Ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",v=m?m.pathnameBase:"/",b=m&&m.route;{let re=b&&b.path||"";qE(g,!b||re.endsWith("*")||re.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${re}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${re}"> to <Route path="${re==="/"?"*":`${re}/*`}">.`)}let S=Ri(),k;if(e){let re=typeof e=="string"?yo(e):e;lt(v==="/"||((ae=re.pathname)==null?void 0:ae.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${re.pathname}" was given in the \`location\` prop.`),k=re}else k=S;let O=k.pathname||"/",Q=O;if(v!=="/"){let re=v.replace(/^\//,"").split("/");Q="/"+O.replace(/^\//,"").split("/").slice(re.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:OE(i,{pathname:Q});bi(b||F!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),bi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=KA(F&&F.map(re=>Object.assign({},re,{params:Object.assign({},p,re.params),pathname:nr([v,o.encodeLocation?o.encodeLocation(re.pathname).pathname:re.pathname]),pathnameBase:re.pathnameBase==="/"?v:nr([v,o.encodeLocation?o.encodeLocation(re.pathnameBase).pathname:re.pathnameBase])})),f,n,s);return e&&G?L.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},G):G}function HA(){let i=ZA(),e=VA(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var FA=L.createElement(HA,null),GA=class extends L.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?L.createElement(Ai.Provider,{value:this.props.routeContext},L.createElement(_p.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $A({routeContext:i,match:e,children:n}){let s=L.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(Ai.Provider,{value:i},n)}function KA(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:v,errors:b}=n,S=g.route.loader&&!v.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,v)=>{let b,S=!1,k=null,O=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||FA,f&&(m<0&&v===0?(qE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,O=null):m===v&&(S=!0,O=g.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,v+1)),F=()=>{let G;return b?G=k:S?G=O:g.route.Component?G=L.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,L.createElement($A,{match:g,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?L.createElement(GA,{location:n.location,revalidation:n.revalidation,component:k,error:b,children:F(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):F()},null)}function vp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QA(i){let e=L.useContext(_o);return lt(e,vp(i)),e}function YA(i){let e=L.useContext(zh);return lt(e,vp(i)),e}function XA(i){let e=L.useContext(Ai);return lt(e,vp(i)),e}function Ep(i){let e=XA(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function WA(){return Ep("useRouteId")}function ZA(){var s;let i=L.useContext(_p),e=YA("useRouteError"),n=Ep("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function JA(){let{router:i}=QA("useNavigate"),e=Ep("useNavigate"),n=L.useRef(!1);return zE(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{bi(n.current,jE),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var $v={};function qE(i,e,n){!e&&!$v[i]&&($v[i]=!0,bi(!1,n))}L.memo(e1);function e1({routes:i,future:e,state:n}){return BE(i,void 0,n,e)}function Ks(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function t1({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:g="",hash:v="",state:b=null,key:S="default"}=n,k=L.useMemo(()=>{let O=sr(p,f);return O==null?null:{location:{pathname:O,search:g,hash:v,state:b,key:S},navigationType:s}},[f,p,g,v,b,S,s]);return bi(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(Si.Provider,{value:m},L.createElement(cu.Provider,{children:e,value:k}))}function n1({children:i,location:e}){return qA(zm(i),e)}function zm(i,e=[]){let n=[];return L.Children.forEach(i,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,zm(s.props.children,u));return}lt(s.type===Ks,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=zm(s.props.children,u)),n.push(f)}),n}var rh="get",sh="application/x-www-form-urlencoded";function qh(i){return i!=null&&typeof i.tagName=="string"}function i1(i){return qh(i)&&i.tagName.toLowerCase()==="button"}function r1(i){return qh(i)&&i.tagName.toLowerCase()==="form"}function s1(i){return qh(i)&&i.tagName.toLowerCase()==="input"}function a1(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function o1(i,e){return i.button===0&&(!e||e==="_self")&&!a1(i)}var Xc=null;function l1(){if(Xc===null)try{new FormData(document.createElement("form"),0),Xc=!1}catch{Xc=!0}return Xc}var u1=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Rm(i){return i!=null&&!u1.has(i)?(bi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sh}"`),null):i}function c1(i,e){let n,s,o,u,f;if(r1(i)){let m=i.getAttribute("action");s=m?sr(m,e):null,n=i.getAttribute("method")||rh,o=Rm(i.getAttribute("enctype"))||sh,u=new FormData(i)}else if(i1(i)||s1(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?sr(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||rh,o=Rm(i.getAttribute("formenctype"))||Rm(m.getAttribute("enctype"))||sh,u=new FormData(m,i),!l1()){let{name:g,type:v,value:b}=i;if(v==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,b)}}else{if(qh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,s=null,o=sh,f=i}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Tp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function h1(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function f1(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function d1(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await h1(u,n);return f.links?f.links():[]}return[]}));return y1(s.flat(1).filter(f1).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kv(i,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var v;return n[g].pathname!==p.pathname||((v=n[g].route.path)==null?void 0:v.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let v=s.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function m1(i,e,{includeHydrateFallback:n}={}){return p1(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function p1(i){return[...new Set(i)]}function g1(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function y1(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(g1(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var _1=new Set([100,101,204,205]);function v1(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&sr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function HE(){let i=L.useContext(_o);return Tp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function E1(){let i=L.useContext(zh);return Tp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bp=L.createContext(void 0);bp.displayName="FrameworkContext";function FE(){let i=L.useContext(bp);return Tp(i,"You must render this element inside a <HydratedRouter> element"),i}function T1(i,e){let n=L.useContext(bp),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:b}=e,S=L.useRef(null);L.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let Q=G=>{G.forEach(ae=>{f(ae.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return S.current&&F.observe(S.current),()=>{F.disconnect()}}},[i]),L.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let k=()=>{o(!0)},O=()=>{o(!1),f(!1)};return n?i!=="intent"?[u,S,{}]:[u,S,{onFocus:zl(m,k),onBlur:zl(p,O),onMouseEnter:zl(g,k),onMouseLeave:zl(v,O),onTouchStart:zl(b,k)}]:[!1,S,{}]}function zl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function b1({page:i,...e}){let{router:n}=HE(),s=L.useMemo(()=>OE(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?L.createElement(S1,{page:i,matches:s,...e}):null}function w1(i){let{manifest:e,routeModules:n}=FE(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return d1(i,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[i,e,n]),s}function S1({page:i,matches:e,...n}){let s=Ri(),{manifest:o,routeModules:u}=FE(),{basename:f}=HE(),{loaderData:m,matches:p}=E1(),g=L.useMemo(()=>Kv(i,e,p,o,s,"data"),[i,e,p,o,s]),v=L.useMemo(()=>Kv(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=L.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let O=new Set,Q=!1;if(e.forEach(G=>{var re;let ae=o.routes[G.route.id];!ae||!ae.hasLoader||(!g.some(ge=>ge.route.id===G.route.id)&&G.route.id in m&&((re=u[G.route.id])!=null&&re.shouldRevalidate)||ae.hasClientLoader?Q=!0:O.add(G.route.id))}),O.size===0)return[];let F=v1(i,f);return Q&&O.size>0&&F.searchParams.set("_routes",e.filter(G=>O.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,g,e,i,u]),S=L.useMemo(()=>m1(v,o),[v,o]),k=w1(v);return L.createElement(L.Fragment,null,b.map(O=>L.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...n})),S.map(O=>L.createElement("link",{key:O,rel:"modulepreload",href:O,...n})),k.map(({key:O,link:Q})=>L.createElement("link",{key:O,...Q})))}function A1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var GE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GE&&(window.__reactRouterVersion="7.5.1")}catch{}function R1({basename:i,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=dA({window:n,v5Compat:!0}));let o=s.current,[u,f]=L.useState({action:o.action,location:o.location}),m=L.useCallback(p=>{L.startTransition(()=>f(p))},[f]);return L.useLayoutEffect(()=>o.listen(m),[o,m]),L.createElement(t1,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var $E=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vh=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:v,viewTransition:b,...S},k){let{basename:O}=L.useContext(Si),Q=typeof g=="string"&&$E.test(g),F,G=!1;if(typeof g=="string"&&Q&&(F=g,GE))try{let x=new URL(window.location.href),A=g.startsWith("//")?new URL(x.protocol+g):new URL(g),N=sr(A.pathname,O);A.origin===x.origin&&N!=null?g=N+A.search+A.hash:G=!0}catch{bi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ae=jA(g,{relative:o}),[re,ge,he]=T1(s,S),ve=N1(g,{replace:f,state:m,target:p,preventScrollReset:v,relative:o,viewTransition:b});function V(x){e&&e(x),x.defaultPrevented||ve(x)}let I=L.createElement("a",{...S,...he,href:F||ae,onClick:G||u?e:V,ref:A1(k,ge),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return re&&!Q?L.createElement(L.Fragment,null,I,L.createElement(b1,{page:ae})):I});vh.displayName="Link";var I1=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},v){let b=fu(f,{relative:g.relative}),S=Ri(),k=L.useContext(zh),{navigator:O,basename:Q}=L.useContext(Si),F=k!=null&&V1(b)&&m===!0,G=O.encodeLocation?O.encodeLocation(b).pathname:b.pathname,ae=S.pathname,re=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,G=G.toLowerCase()),re&&Q&&(re=sr(re,Q)||re);const ge=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let he=ae===G||!o&&ae.startsWith(G)&&ae.charAt(ge)==="/",ve=re!=null&&(re===G||!o&&re.startsWith(G)&&re.charAt(G.length)==="/"),V={isActive:he,isPending:ve,isTransitioning:F},I=he?e:void 0,x;typeof s=="function"?x=s(V):x=[s,he?"active":null,ve?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let A=typeof u=="function"?u(V):u;return L.createElement(vh,{...g,"aria-current":I,className:x,ref:v,style:A,to:f,viewTransition:m},typeof p=="function"?p(V):p)});I1.displayName="NavLink";var x1=L.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=rh,action:m,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:b,...S},k)=>{let O=M1(),Q=k1(m,{relative:g}),F=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&$E.test(m),ae=re=>{if(p&&p(re),re.defaultPrevented)return;re.preventDefault();let ge=re.nativeEvent.submitter,he=(ge==null?void 0:ge.getAttribute("formmethod"))||f;O(ge||re.currentTarget,{fetcherKey:e,method:he,navigate:n,replace:o,state:u,relative:g,preventScrollReset:v,viewTransition:b})};return L.createElement("form",{ref:k,method:F,action:Q,onSubmit:s?p:ae,...S,"data-discover":!G&&i==="render"?"true":void 0})});x1.displayName="Form";function C1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function KE(i){let e=L.useContext(_o);return lt(e,C1(i)),e}function N1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Bh(),p=Ri(),g=fu(i,{relative:u});return L.useCallback(v=>{if(o1(v,e)){v.preventDefault();let b=n!==void 0?n:Jl(p)===Jl(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,i,o,u,f])}var D1=0,O1=()=>`__${String(++D1)}__`;function M1(){let{router:i}=KE("useSubmit"),{basename:e}=L.useContext(Si),n=WA();return L.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=c1(s,e);if(o.navigate===!1){let v=o.fetcherKey||O1();await i.fetch(v,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function k1(i,{relative:e}={}){let{basename:n}=L.useContext(Si),s=L.useContext(Ai);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(i||".",{relative:e})},f=Ri();if(i==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(v=>v==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let v=m.toString();u.search=v?`?${v}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:nr([n,u.pathname])),Jl(u)}function V1(i,e={}){let n=L.useContext(LE);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=KE("useViewTransitionState"),o=fu(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=sr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=sr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(o.pathname,f)!=null||_h(o.pathname,u)!=null}new TextEncoder;[..._1];/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),U1=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),Qv=i=>{const e=U1(i);return e.charAt(0).toUpperCase()+e.slice(1)},QE=(...i)=>i.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),L1=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var j1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=L.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>L.createElement("svg",{ref:p,...j1,width:e,height:e,stroke:i,strokeWidth:s?Number(n)*24/Number(e):n,className:QE("lucide",o),...!u&&!L1(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,v])=>L.createElement(g,v)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=(i,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(z1,{ref:u,iconNode:e,className:QE(`lucide-${P1(Qv(i))}`,`lucide-${i}`,s),...o}));return n.displayName=Qv(i),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],q1=fn("check",B1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],F1=fn("chevron-left",H1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],$1=fn("circle-user-round",G1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Q1=fn("clipboard-list",K1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],X1=fn("copy",Y1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Z1=fn("layout-dashboard",W1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Yv=fn("menu",J1);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],tR=fn("message-circle-more",eR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],iR=fn("moon",nR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sR=fn("pencil",rR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oR=fn("send",aR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uR=fn("sun",lR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],YE=fn("trash-2",cR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],fR=fn("users",hR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],mR=fn("x",dR),pR=()=>{const[i,e]=L.useState(!1),{pathname:n}=Ri(),s=[{name:"home",icon:R.jsx(Z1,{}),path:"/"},{name:"teams",icon:R.jsx(fR,{}),path:"/Teams"},{name:"tasks",icon:R.jsx(Q1,{}),path:"/TasksBoard"},{name:"chat",icon:R.jsx(tR,{}),path:"/ChatPage"}],[o,u]=L.useState(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches),f=()=>{o?(document.documentElement.classList.remove("dark"),localStorage.theme="light",u(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",u(!0))};return R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"md:hidden p-6",children:R.jsx(Yv,{onClick:()=>e(!i),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),R.jsx("div",{className:`
          fixed top-0 left-0 h-full w-20 bg-white dark:bg-zinc-900 shadow-xl z-50 
          transform transition-transform duration-300 ease-in-out
          ${i?"translate-x-0":"-translate-x-full"} 
          md:translate-x-0 md:static md:block
        `,children:R.jsxs("nav",{className:"h-full flex flex-col justify-between items-center p-4",children:[R.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[R.jsx("div",{className:"md:hidden p-3 self-start",children:R.jsx(Yv,{onClick:()=>e(!1),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),R.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.map(m=>R.jsx(vh,{to:m.path,className:`
                    p-3 rounded-lg text-center 
                    ${n===m.path?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                    transition-colors w-full text-gray-800 dark:text-gray-100
                  `,onClick:()=>e(!1),children:m.icon},m.name))})]}),R.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[R.jsx(vh,{to:"/profile",className:`
                p-3 rounded-lg text-center 
                ${n==="/profile"?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                transition-colors text-gray-800 dark:text-gray-100
              `,onClick:()=>e(!1),children:R.jsx($1,{})}),R.jsx("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-zinc-200 dark:bg-zinc-800 text-gray-900 dark:text-white rounded-xl hover:opacity-80",children:o?R.jsx(uR,{size:18}):R.jsx(iR,{size:18})})]})]})})]})},gR=()=>R.jsx("div",{children:"Dashboard"}),yR=()=>{};var Xv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_R=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],f=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],f=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],f=o+1<i.length,m=f?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,v=u>>2,b=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(S=64)),s.push(n[v],n[b],n[S],n[k])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(XE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):_R(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new vR;const S=u<<2|m>>4;if(s.push(S),g!==64){const k=m<<4&240|g>>2;if(s.push(k),b!==64){const O=g<<6&192|b;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ER=function(i){const e=XE(i);return WE.encodeByteArray(e,!0)},Eh=function(i){return ER(i).replace(/\./g,"")},ZE=function(i){try{return WE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>TR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof Xv>"u")return;const i=Xv.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},SR=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&ZE(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return yR()||bR()||wR()||SR()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JE=i=>{var e,n;return(n=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},AR=i=>{const e=JE(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eT=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},tT=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IR(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(an())}function CR(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function NR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function DR(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function OR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MR(){const i=an();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function kR(){return!CR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function VR(){try{return typeof indexedDB=="object"}catch{return!1}}function PR(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?LR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function LR(i,e){return i.replace(jR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const jR=/\{\$([^}]+)}/g;function zR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Zr(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],f=e[o];if(Wv(u)&&Wv(f)){if(!Zr(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Wv(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Bl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function BR(i,e){const n=new qR(i,e);return n.subscribe.bind(n)}class qR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Im),o.error===void 0&&(o.error=Im),o.complete===void 0&&(o.complete=Im);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Im(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(i){return i&&i._delegate?i._delegate:i}class Ws{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new RR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($R(e))try{this.getOrInitializeService({instanceIdentifier:Qs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Qs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qs){return this.instances.has(e)}getOptions(e=Qs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Qs){return this.component?this.component.multipleInstances?e:Qs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GR(i){return i===Qs?void 0:i}function $R(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new FR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const QR={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},YR=Pe.INFO,XR={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},WR=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=XR[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=YR,this._logHandler=WR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const ZR=(i,e)=>e.some(n=>i instanceof n);let Zv,Jv;function JR(){return Zv||(Zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return Jv||(Jv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,Bm=new WeakMap,iT=new WeakMap,xm=new WeakMap,Sp=new WeakMap;function tI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",f)},u=()=>{n(Kr(i.result)),o()},f=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,i)}).catch(()=>{}),Sp.set(e,i),e}function nI(i){if(Bm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",f),i.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",f),i.addEventListener("abort",f)});Bm.set(i,e)}let qm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Bm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||iT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function iI(i){qm=i(qm)}function rI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Cm(this),e,...n);return iT.set(s,e.sort?e.sort():[e]),Kr(s)}:eI().includes(i)?function(...e){return i.apply(Cm(this),e),Kr(nT.get(this))}:function(...e){return Kr(i.apply(Cm(this),e))}}function sI(i){return typeof i=="function"?rI(i):(i instanceof IDBTransaction&&nI(i),ZR(i,JR())?new Proxy(i,qm):i)}function Kr(i){if(i instanceof IDBRequest)return tI(i);if(xm.has(i))return xm.get(i);const e=sI(i);return e!==i&&(xm.set(i,e),Sp.set(e,i)),e}const Cm=i=>Sp.get(i);function aI(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(i,e),m=Kr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Kr(f.result),p.oldVersion,p.newVersion,Kr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],Nm=new Map;function e0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=lI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||oI.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Nm.set(e,u),u}iI(i=>({...i,get:(e,n,s)=>e0(e,n)||i.get(e,n,s),has:(e,n)=>!!e0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(cI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function cI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",t0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new wp("@firebase/app"),hI="@firebase/app-compat",fI="@firebase/analytics-compat",dI="@firebase/analytics",mI="@firebase/app-check-compat",pI="@firebase/app-check",gI="@firebase/auth",yI="@firebase/auth-compat",_I="@firebase/database",vI="@firebase/data-connect",EI="@firebase/database-compat",TI="@firebase/functions",bI="@firebase/functions-compat",wI="@firebase/installations",SI="@firebase/installations-compat",AI="@firebase/messaging",RI="@firebase/messaging-compat",II="@firebase/performance",xI="@firebase/performance-compat",CI="@firebase/remote-config",NI="@firebase/remote-config-compat",DI="@firebase/storage",OI="@firebase/storage-compat",MI="@firebase/firestore",kI="@firebase/vertexai",VI="@firebase/firestore-compat",PI="firebase",UI="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="[DEFAULT]",LI={[Hm]:"fire-core",[hI]:"fire-core-compat",[dI]:"fire-analytics",[fI]:"fire-analytics-compat",[pI]:"fire-app-check",[mI]:"fire-app-check-compat",[gI]:"fire-auth",[yI]:"fire-auth-compat",[_I]:"fire-rtdb",[vI]:"fire-data-connect",[EI]:"fire-rtdb-compat",[TI]:"fire-fn",[bI]:"fire-fn-compat",[wI]:"fire-iid",[SI]:"fire-iid-compat",[AI]:"fire-fcm",[RI]:"fire-fcm-compat",[II]:"fire-perf",[xI]:"fire-perf-compat",[CI]:"fire-rc",[NI]:"fire-rc-compat",[DI]:"fire-gcs",[OI]:"fire-gcs-compat",[MI]:"fire-fst",[VI]:"fire-fst-compat",[kI]:"fire-vertex","fire-js":"fire-js",[PI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th=new Map,jI=new Map,Gm=new Map;function n0(i,e){try{i.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function oo(i){const e=i.name;if(Gm.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Gm.set(e,i);for(const n of Th.values())n0(n,i);for(const n of jI.values())n0(n,i);return!0}function Ap(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new du("app","Firebase",zI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ws("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo=UI;function rT(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Fm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Qr.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw Qr.create("no-options");const u=Th.get(o);if(u){if(Zr(n,u.options)&&Zr(s,u.config))return u;throw Qr.create("duplicate-app",{appName:o})}const f=new KR(o);for(const p of Gm.values())f.addComponent(p);const m=new BI(n,s,f);return Th.set(o,m),m}function sT(i=Fm){const e=Th.get(i);if(!e&&i===Fm&&eT())return rT();if(!e)throw Qr.create("no-app",{appName:i});return e}function Yr(i,e,n){var s;let o=(s=LI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(m.join(" "));return}oo(new Ws(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI="firebase-heartbeat-database",HI=1,eu="firebase-heartbeat-store";let Dm=null;function aT(){return Dm||(Dm=aI(qI,HI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Qr.create("idb-open",{originalErrorMessage:i.message})})),Dm}async function FI(i){try{const n=(await aT()).transaction(eu),s=await n.objectStore(eu).get(oT(i));return await n.done,s}catch(e){if(e instanceof fr)ar.warn(e.message);else{const n=Qr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function i0(i,e){try{const s=(await aT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,oT(i)),await s.done}catch(n){if(n instanceof fr)ar.warn(n.message);else{const s=Qr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(s.message)}}}function oT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI=1024,$I=30;class KI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=r0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>$I){const f=XI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ar.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=r0(),{heartbeatsToSend:s,unsentEntries:o}=QI(this._heartbeatsCache.heartbeats),u=Eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ar.warn(n),""}}}function r0(){return new Date().toISOString().substring(0,10)}function QI(i,e=GI){const n=[];let s=i.slice();for(const o of i){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),s0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),s0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class YI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return VR()?PR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return i0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return i0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function s0(i){return Eh(JSON.stringify({version:2,heartbeats:i})).length}function XI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(i){oo(new Ws("platform-logger",e=>new uI(e),"PRIVATE")),oo(new Ws("heartbeat",e=>new KI(e),"PRIVATE")),Yr(Hm,t0,i),Yr(Hm,t0,"esm2017"),Yr("fire-js","")}WI("");var a0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Xr,lT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,I){function x(){}x.prototype=I.prototype,V.D=I.prototype,V.prototype=new x,V.prototype.constructor=V,V.C=function(A,N,j){for(var M=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)M[ye-2]=arguments[ye];return I.prototype[N].apply(A,M)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,I,x){x||(x=0);var A=Array(16);if(typeof I=="string")for(var N=0;16>N;++N)A[N]=I.charCodeAt(x++)|I.charCodeAt(x++)<<8|I.charCodeAt(x++)<<16|I.charCodeAt(x++)<<24;else for(N=0;16>N;++N)A[N]=I[x++]|I[x++]<<8|I[x++]<<16|I[x++]<<24;I=V.g[0],x=V.g[1],N=V.g[2];var j=V.g[3],M=I+(j^x&(N^j))+A[0]+3614090360&4294967295;I=x+(M<<7&4294967295|M>>>25),M=j+(N^I&(x^N))+A[1]+3905402710&4294967295,j=I+(M<<12&4294967295|M>>>20),M=N+(x^j&(I^x))+A[2]+606105819&4294967295,N=j+(M<<17&4294967295|M>>>15),M=x+(I^N&(j^I))+A[3]+3250441966&4294967295,x=N+(M<<22&4294967295|M>>>10),M=I+(j^x&(N^j))+A[4]+4118548399&4294967295,I=x+(M<<7&4294967295|M>>>25),M=j+(N^I&(x^N))+A[5]+1200080426&4294967295,j=I+(M<<12&4294967295|M>>>20),M=N+(x^j&(I^x))+A[6]+2821735955&4294967295,N=j+(M<<17&4294967295|M>>>15),M=x+(I^N&(j^I))+A[7]+4249261313&4294967295,x=N+(M<<22&4294967295|M>>>10),M=I+(j^x&(N^j))+A[8]+1770035416&4294967295,I=x+(M<<7&4294967295|M>>>25),M=j+(N^I&(x^N))+A[9]+2336552879&4294967295,j=I+(M<<12&4294967295|M>>>20),M=N+(x^j&(I^x))+A[10]+4294925233&4294967295,N=j+(M<<17&4294967295|M>>>15),M=x+(I^N&(j^I))+A[11]+2304563134&4294967295,x=N+(M<<22&4294967295|M>>>10),M=I+(j^x&(N^j))+A[12]+1804603682&4294967295,I=x+(M<<7&4294967295|M>>>25),M=j+(N^I&(x^N))+A[13]+4254626195&4294967295,j=I+(M<<12&4294967295|M>>>20),M=N+(x^j&(I^x))+A[14]+2792965006&4294967295,N=j+(M<<17&4294967295|M>>>15),M=x+(I^N&(j^I))+A[15]+1236535329&4294967295,x=N+(M<<22&4294967295|M>>>10),M=I+(N^j&(x^N))+A[1]+4129170786&4294967295,I=x+(M<<5&4294967295|M>>>27),M=j+(x^N&(I^x))+A[6]+3225465664&4294967295,j=I+(M<<9&4294967295|M>>>23),M=N+(I^x&(j^I))+A[11]+643717713&4294967295,N=j+(M<<14&4294967295|M>>>18),M=x+(j^I&(N^j))+A[0]+3921069994&4294967295,x=N+(M<<20&4294967295|M>>>12),M=I+(N^j&(x^N))+A[5]+3593408605&4294967295,I=x+(M<<5&4294967295|M>>>27),M=j+(x^N&(I^x))+A[10]+38016083&4294967295,j=I+(M<<9&4294967295|M>>>23),M=N+(I^x&(j^I))+A[15]+3634488961&4294967295,N=j+(M<<14&4294967295|M>>>18),M=x+(j^I&(N^j))+A[4]+3889429448&4294967295,x=N+(M<<20&4294967295|M>>>12),M=I+(N^j&(x^N))+A[9]+568446438&4294967295,I=x+(M<<5&4294967295|M>>>27),M=j+(x^N&(I^x))+A[14]+3275163606&4294967295,j=I+(M<<9&4294967295|M>>>23),M=N+(I^x&(j^I))+A[3]+4107603335&4294967295,N=j+(M<<14&4294967295|M>>>18),M=x+(j^I&(N^j))+A[8]+1163531501&4294967295,x=N+(M<<20&4294967295|M>>>12),M=I+(N^j&(x^N))+A[13]+2850285829&4294967295,I=x+(M<<5&4294967295|M>>>27),M=j+(x^N&(I^x))+A[2]+4243563512&4294967295,j=I+(M<<9&4294967295|M>>>23),M=N+(I^x&(j^I))+A[7]+1735328473&4294967295,N=j+(M<<14&4294967295|M>>>18),M=x+(j^I&(N^j))+A[12]+2368359562&4294967295,x=N+(M<<20&4294967295|M>>>12),M=I+(x^N^j)+A[5]+4294588738&4294967295,I=x+(M<<4&4294967295|M>>>28),M=j+(I^x^N)+A[8]+2272392833&4294967295,j=I+(M<<11&4294967295|M>>>21),M=N+(j^I^x)+A[11]+1839030562&4294967295,N=j+(M<<16&4294967295|M>>>16),M=x+(N^j^I)+A[14]+4259657740&4294967295,x=N+(M<<23&4294967295|M>>>9),M=I+(x^N^j)+A[1]+2763975236&4294967295,I=x+(M<<4&4294967295|M>>>28),M=j+(I^x^N)+A[4]+1272893353&4294967295,j=I+(M<<11&4294967295|M>>>21),M=N+(j^I^x)+A[7]+4139469664&4294967295,N=j+(M<<16&4294967295|M>>>16),M=x+(N^j^I)+A[10]+3200236656&4294967295,x=N+(M<<23&4294967295|M>>>9),M=I+(x^N^j)+A[13]+681279174&4294967295,I=x+(M<<4&4294967295|M>>>28),M=j+(I^x^N)+A[0]+3936430074&4294967295,j=I+(M<<11&4294967295|M>>>21),M=N+(j^I^x)+A[3]+3572445317&4294967295,N=j+(M<<16&4294967295|M>>>16),M=x+(N^j^I)+A[6]+76029189&4294967295,x=N+(M<<23&4294967295|M>>>9),M=I+(x^N^j)+A[9]+3654602809&4294967295,I=x+(M<<4&4294967295|M>>>28),M=j+(I^x^N)+A[12]+3873151461&4294967295,j=I+(M<<11&4294967295|M>>>21),M=N+(j^I^x)+A[15]+530742520&4294967295,N=j+(M<<16&4294967295|M>>>16),M=x+(N^j^I)+A[2]+3299628645&4294967295,x=N+(M<<23&4294967295|M>>>9),M=I+(N^(x|~j))+A[0]+4096336452&4294967295,I=x+(M<<6&4294967295|M>>>26),M=j+(x^(I|~N))+A[7]+1126891415&4294967295,j=I+(M<<10&4294967295|M>>>22),M=N+(I^(j|~x))+A[14]+2878612391&4294967295,N=j+(M<<15&4294967295|M>>>17),M=x+(j^(N|~I))+A[5]+4237533241&4294967295,x=N+(M<<21&4294967295|M>>>11),M=I+(N^(x|~j))+A[12]+1700485571&4294967295,I=x+(M<<6&4294967295|M>>>26),M=j+(x^(I|~N))+A[3]+2399980690&4294967295,j=I+(M<<10&4294967295|M>>>22),M=N+(I^(j|~x))+A[10]+4293915773&4294967295,N=j+(M<<15&4294967295|M>>>17),M=x+(j^(N|~I))+A[1]+2240044497&4294967295,x=N+(M<<21&4294967295|M>>>11),M=I+(N^(x|~j))+A[8]+1873313359&4294967295,I=x+(M<<6&4294967295|M>>>26),M=j+(x^(I|~N))+A[15]+4264355552&4294967295,j=I+(M<<10&4294967295|M>>>22),M=N+(I^(j|~x))+A[6]+2734768916&4294967295,N=j+(M<<15&4294967295|M>>>17),M=x+(j^(N|~I))+A[13]+1309151649&4294967295,x=N+(M<<21&4294967295|M>>>11),M=I+(N^(x|~j))+A[4]+4149444226&4294967295,I=x+(M<<6&4294967295|M>>>26),M=j+(x^(I|~N))+A[11]+3174756917&4294967295,j=I+(M<<10&4294967295|M>>>22),M=N+(I^(j|~x))+A[2]+718787259&4294967295,N=j+(M<<15&4294967295|M>>>17),M=x+(j^(N|~I))+A[9]+3951481745&4294967295,V.g[0]=V.g[0]+I&4294967295,V.g[1]=V.g[1]+(N+(M<<21&4294967295|M>>>11))&4294967295,V.g[2]=V.g[2]+N&4294967295,V.g[3]=V.g[3]+j&4294967295}s.prototype.u=function(V,I){I===void 0&&(I=V.length);for(var x=I-this.blockSize,A=this.B,N=this.h,j=0;j<I;){if(N==0)for(;j<=x;)o(this,V,j),j+=this.blockSize;if(typeof V=="string"){for(;j<I;)if(A[N++]=V.charCodeAt(j++),N==this.blockSize){o(this,A),N=0;break}}else for(;j<I;)if(A[N++]=V[j++],N==this.blockSize){o(this,A),N=0;break}}this.h=N,this.o+=I},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var I=1;I<V.length-8;++I)V[I]=0;var x=8*this.o;for(I=V.length-8;I<V.length;++I)V[I]=x&255,x/=256;for(this.u(V),V=Array(16),I=x=0;4>I;++I)for(var A=0;32>A;A+=8)V[x++]=this.g[I]>>>A&255;return V};function u(V,I){var x=m;return Object.prototype.hasOwnProperty.call(x,V)?x[V]:x[V]=I(V)}function f(V,I){this.h=I;for(var x=[],A=!0,N=V.length-1;0<=N;N--){var j=V[N]|0;A&&j==I||(x[N]=j,A=!1)}this.g=x}var m={};function p(V){return-128<=V&&128>V?u(V,function(I){return new f([I|0],0>I?-1:0)}):new f([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return b;if(0>V)return F(g(-V));for(var I=[],x=1,A=0;V>=x;A++)I[A]=V/x|0,x*=4294967296;return new f(I,0)}function v(V,I){if(V.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(V.charAt(0)=="-")return F(v(V.substring(1),I));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=g(Math.pow(I,8)),A=b,N=0;N<V.length;N+=8){var j=Math.min(8,V.length-N),M=parseInt(V.substring(N,N+j),I);8>j?(j=g(Math.pow(I,j)),A=A.j(j).add(g(M))):(A=A.j(x),A=A.add(g(M)))}return A}var b=p(0),S=p(1),k=p(16777216);i=f.prototype,i.m=function(){if(Q(this))return-F(this).m();for(var V=0,I=1,x=0;x<this.g.length;x++){var A=this.i(x);V+=(0<=A?A:4294967296+A)*I,I*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(O(this))return"0";if(Q(this))return"-"+F(this).toString(V);for(var I=g(Math.pow(V,6)),x=this,A="";;){var N=ge(x,I).g;x=G(x,N.j(I));var j=((0<x.g.length?x.g[0]:x.h)>>>0).toString(V);if(x=N,O(x))return j+A;for(;6>j.length;)j="0"+j;A=j+A}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function O(V){if(V.h!=0)return!1;for(var I=0;I<V.g.length;I++)if(V.g[I]!=0)return!1;return!0}function Q(V){return V.h==-1}i.l=function(V){return V=G(this,V),Q(V)?-1:O(V)?0:1};function F(V){for(var I=V.g.length,x=[],A=0;A<I;A++)x[A]=~V.g[A];return new f(x,~V.h).add(S)}i.abs=function(){return Q(this)?F(this):this},i.add=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],A=0,N=0;N<=I;N++){var j=A+(this.i(N)&65535)+(V.i(N)&65535),M=(j>>>16)+(this.i(N)>>>16)+(V.i(N)>>>16);A=M>>>16,j&=65535,M&=65535,x[N]=M<<16|j}return new f(x,x[x.length-1]&-2147483648?-1:0)};function G(V,I){return V.add(F(I))}i.j=function(V){if(O(this)||O(V))return b;if(Q(this))return Q(V)?F(this).j(F(V)):F(F(this).j(V));if(Q(V))return F(this.j(F(V)));if(0>this.l(k)&&0>V.l(k))return g(this.m()*V.m());for(var I=this.g.length+V.g.length,x=[],A=0;A<2*I;A++)x[A]=0;for(A=0;A<this.g.length;A++)for(var N=0;N<V.g.length;N++){var j=this.i(A)>>>16,M=this.i(A)&65535,ye=V.i(N)>>>16,le=V.i(N)&65535;x[2*A+2*N]+=M*le,ae(x,2*A+2*N),x[2*A+2*N+1]+=j*le,ae(x,2*A+2*N+1),x[2*A+2*N+1]+=M*ye,ae(x,2*A+2*N+1),x[2*A+2*N+2]+=j*ye,ae(x,2*A+2*N+2)}for(A=0;A<I;A++)x[A]=x[2*A+1]<<16|x[2*A];for(A=I;A<2*I;A++)x[A]=0;return new f(x,0)};function ae(V,I){for(;(V[I]&65535)!=V[I];)V[I+1]+=V[I]>>>16,V[I]&=65535,I++}function re(V,I){this.g=V,this.h=I}function ge(V,I){if(O(I))throw Error("division by zero");if(O(V))return new re(b,b);if(Q(V))return I=ge(F(V),I),new re(F(I.g),F(I.h));if(Q(I))return I=ge(V,F(I)),new re(F(I.g),I.h);if(30<V.g.length){if(Q(V)||Q(I))throw Error("slowDivide_ only works with positive integers.");for(var x=S,A=I;0>=A.l(V);)x=he(x),A=he(A);var N=ve(x,1),j=ve(A,1);for(A=ve(A,2),x=ve(x,2);!O(A);){var M=j.add(A);0>=M.l(V)&&(N=N.add(x),j=M),A=ve(A,1),x=ve(x,1)}return I=G(V,N.j(I)),new re(N,I)}for(N=b;0<=V.l(I);){for(x=Math.max(1,Math.floor(V.m()/I.m())),A=Math.ceil(Math.log(x)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),j=g(x),M=j.j(I);Q(M)||0<M.l(V);)x-=A,j=g(x),M=j.j(I);O(j)&&(j=S),N=N.add(j),V=G(V,M)}return new re(N,V)}i.A=function(V){return ge(this,V).h},i.and=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],A=0;A<I;A++)x[A]=this.i(A)&V.i(A);return new f(x,this.h&V.h)},i.or=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],A=0;A<I;A++)x[A]=this.i(A)|V.i(A);return new f(x,this.h|V.h)},i.xor=function(V){for(var I=Math.max(this.g.length,V.g.length),x=[],A=0;A<I;A++)x[A]=this.i(A)^V.i(A);return new f(x,this.h^V.h)};function he(V){for(var I=V.g.length+1,x=[],A=0;A<I;A++)x[A]=V.i(A)<<1|V.i(A-1)>>>31;return new f(x,V.h)}function ve(V,I){var x=I>>5;I%=32;for(var A=V.g.length-x,N=[],j=0;j<A;j++)N[j]=0<I?V.i(j+x)>>>I|V.i(j+x+1)<<32-I:V.i(j+x);return new f(N,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=v,Xr=f}).apply(typeof a0<"u"?a0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,Hl,cT,ah,$m,hT,fT,dT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var B=c[w];if(!(B in _))break e;_=_[B]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,B={next:function(){if(!w&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,_){return c.call.apply(c.bind,arguments)}function b(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),c.apply(y,B)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,S.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function O(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,B,Y){for(var ue=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ue[Le-2]=arguments[Le];return y.prototype[B].apply(w,ue)}}function Q(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function F(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const B=c.length||0,Y=w.length||0;c.length=B+Y;for(let ue=0;ue<Y;ue++)c[B+ue]=w[ue]}else c.push(w)}}class G{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ge(c){return ge[" "](c),c}ge[" "]=function(){};var he=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function ve(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function I(c){const y={};for(const _ in c)y[_]=c[_];return y}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(c,y){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)c[_]=w[_];for(let Y=0;Y<x.length;Y++)_=x[Y],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function N(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function M(){var c=ce;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ye{constructor(){this.h=this.g=null}add(y,_){const w=le.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var le=new G(()=>new U,c=>c.reset());class U{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let X,Z=!1,ce=new ye,C=()=>{const c=m.Promise.resolve(void 0);X=()=>{c.then(W)}};var W=()=>{for(var c;c=M();){try{c.h.call(c.g)}catch(_){j(_)}var y=le;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}Z=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function be(c,y){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(he){e:{try{ge(y.nodeName);var B=!0;break e}catch{}B=!1}B||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&be.aa.h.call(this)}}O(be,se);var Te={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function kt(c,y,_,w,B){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=B,this.key=++qe,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Vt(c){this.src=c,this.g={},this.h=0}Vt.prototype.add=function(c,y,_,w,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=Nn(c,y,w,B);return-1<ue?(y=c[ue],_||(y.fa=!1)):(y=new kt(y,this.src,Y,!!w,B),y.fa=_,c.push(y)),y};function vn(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],B=Array.prototype.indexOf.call(w,y,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(w,B,1),Y&&(at(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Nn(c,y,_,w){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==w)return B}return-1}var fs="closure_lm_"+(1e6*Math.random()|0),Co={};function Ru(c,y,_,w,B){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Ru(c,y[Y],_,w,B);return null}return _=Iu(_),c&&c[tt]?c.K(y,_,g(w)?!!w.capture:!1,B):Dn(c,y,_,!1,w,B)}function Dn(c,y,_,w,B,Y){if(!y)throw Error("Invalid event type");var ue=g(B)?!!B.capture:!!B,Le=oa(c);if(Le||(c[fs]=Le=new Vt(c)),_=Le.add(y,_,w,ue,Y),_.proxy)return _;if(w=vf(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)fe||(B=ue),B===void 0&&(B=!1),c.addEventListener(y.toString(),w,B);else if(c.attachEvent)c.attachEvent(ds(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vf(){function c(_){return y.call(c.src,c.listener,_)}const y=Ef;return c}function No(c,y,_,w,B){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)No(c,y[Y],_,w,B);else w=g(w)?!!w.capture:!!w,_=Iu(_),c&&c[tt]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=Nn(Y,_,w,B),-1<_&&(at(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=oa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Nn(y,_,w,B)),(_=-1<c?y[c]:null)&&aa(_))}function aa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[tt])vn(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ds(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=oa(y))?(vn(_,c),_.h==0&&(_.src=null,y[fs]=null)):at(c)}}}function ds(c){return c in Co?Co[c]:Co[c]="on"+c}function Ef(c,y){if(c.da)c=!0;else{y=new be(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&aa(c),c=_.call(w,y)}return c}function oa(c){return c=c[fs],c instanceof Vt?c:null}var Do="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function ht(){oe.call(this),this.i=new Vt(this),this.M=this,this.F=null}O(ht,oe),ht.prototype[tt]=!0,ht.prototype.removeEventListener=function(c,y,_,w){No(this,c,y,_,w)};function Ke(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new se(y,c);else if(y instanceof se)y.target=y.target||c;else{var B=y;y=new se(w,c),A(y,B)}if(B=!0,_)for(var Y=_.length-1;0<=Y;Y--){var ue=y.g=_[Y];B=En(ue,w,!0,y)&&B}if(ue=y.g=c,B=En(ue,w,!0,y)&&B,B=En(ue,w,!1,y)&&B,_)for(Y=0;Y<_.length;Y++)ue=y.g=_[Y],B=En(ue,w,!1,y)&&B}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)at(_[w]);delete c.g[y],c.h--}}this.F=null},ht.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},ht.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function En(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var B=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==_){var Le=ue.listener,xt=ue.ha||ue.src;ue.fa&&vn(c.i,ue),B=Le.call(xt,w)!==!1&&B}}return B&&!w.defaultPrevented}function Zt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function xu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,xu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Tf extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:xu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){oe.call(this),this.h=c,this.g={}}O(ms,oe);var ps=[];function gs(c){ve(c.g,function(y,_){this.g.hasOwnProperty(_)&&aa(y)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),gs(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var $n=m.JSON.stringify,la=m.JSON.parse,ys=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Oo(){}Oo.prototype.h=null;function Mo(c){return c.h||(c.h=c.i())}function ko(){}var Ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){se.call(this,"d")}O(xi,se);function Vo(){se.call(this,"c")}O(Vo,se);var ti={},Po=null;function dr(){return Po=Po||new ht}ti.La="serverreachability";function ua(c){se.call(this,ti.La,c)}O(ua,se);function mr(c){const y=dr();Ke(y,new ua(y))}ti.STAT_EVENT="statevent";function Cu(c,y){se.call(this,ti.STAT_EVENT,c),this.stat=y}O(Cu,se);function rt(c){const y=dr();Ke(y,new Cu(y,c))}ti.Ma="timingevent";function It(c,y){se.call(this,ti.Ma,c),this.size=y}O(It,se);function Et(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function On(){this.g=!0}On.prototype.xa=function(){this.g=!1};function Uo(c,y,_,w,B,Y){c.info(function(){if(c.g)if(Y)for(var ue="",Le=Y.split("&"),xt=0;xt<Le.length;xt++){var je=Le[xt].split("=");if(1<je.length){var Ut=je[0];je=je[1];var Ct=Ut.split("_");ue=2<=Ct.length&&Ct[1]=="type"?ue+(Ut+"="+je+"&"):ue+(Ut+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+y+`
`+_+`
`+ue})}function bf(c,y,_,w,B,Y,ue){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+y+`
`+_+`
`+Y+" "+ue})}function pr(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,_)+(w?" "+w:"")})}function Nu(c,y){c.info(function(){return"TIMEOUT: "+y})}On.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<B.length;ue++)B[ue]=""}}}}return $n(_)}catch{return y}}var gr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ni;function ii(){}O(ii,Oo),ii.prototype.g=function(){return new XMLHttpRequest},ii.prototype.i=function(){return{}},ni=new ii;function on(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var Lo={},ca={};function Kn(c,y,_){c.L=1,c.v=ws(Tn(y)),c.m=_,c.P=!0,Ni(c,null)}function Ni(c,y){c.F=Date.now(),vs(c),c.A=Tn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Fo(_.i,"t",w),c.C=0,_=c.j.J,c.h=new pt,c.g=$u(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Tf(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(ps[0]=B.toString()),B=ps);for(var Y=0;Y<B.length;Y++){var ue=Ru(_,B[Y],w||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),mr(),Uo(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&Pn(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Pn(this.g);var y=this.g.Ba();const Li=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||Ct!=4||y==7||(y==8||0>=Li?mr(3):mr(2)),yr(this);var _=this.g.Z();this.X=_;t:if(Du(this)){var w=Lu(this.g);c="";var B=w.length,Y=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){qt(this),ri(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<B;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(Y&&y==B-1)});w.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=_==200,bf(this.i,this.u,this.A,this.l,this.R,Ct,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,xt=this.g;if((Le=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(Le)){var je=Le;break t}}je=null}if(_=je)pr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,_);else{this.o=!1,this.s=3,rt(12),qt(this),ri(this);break e}}if(this.P){_=!0;let Ht;for(;!this.J&&this.C<ue.length;)if(Ht=Ou(this,ue),Ht==ca){Ct==4&&(this.s=4,rt(14),_=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Lo){this.s=4,rt(15),pr(this.i,this.l,ue,"[Invalid Chunk]"),_=!1;break}else pr(this.i,this.l,Ht,null),Es(this,Ht);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ue.length!=0||this.h.h||(this.s=1,rt(16),_=!1),this.o=this.o&&_,!_)pr(this.i,this.l,ue,"[Invalid Chunked Response]"),qt(this),ri(this);else if(0<ue.length&&!this.W){this.W=!0;var Ut=this.j;Ut.g==this&&Ut.ba&&!Ut.M&&(Ut.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ds(Ut),Ut.M=!0,rt(11))}}else pr(this.i,this.l,ue,null),Es(this,ue);Ct==4&&qt(this),this.o&&!this.J&&(Ct==4?Hu(this.j,this):(this.o=!1,vs(this)))}else If(this.g),_==400&&0<ue.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),qt(this),ri(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?ca:(_=Number(y.substring(_,w)),isNaN(_)?Lo:(w+=1,w+_>y.length?ca:(y=y.slice(w,w+_),c.C=w+_,y)))}on.prototype.cancel=function(){this.J=!0,qt(this)};function vs(c){c.S=Date.now()+c.I,Mu(c,c.I)}function Mu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Et(S(c.ba,c),y)}function yr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Nu(this.i,this.A),this.L!=2&&(mr(),rt(17)),qt(this),this.s=2,ri(this)):Mu(this,this.S-c)};function ri(c){c.j.G==0||c.J||Hu(c.j,c)}function qt(c){yr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,gs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Es(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||jo(_.h,c))){if(!c.K&&jo(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)ba(_),Ea(_);else break e;Yo(_),rt(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(S(_.Za,_),6e3));if(1>=fa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ui(_,11)}else if((c.K||_.g==c)&&ba(_),!ae(y))for(B=_.Da.g.parse(y),y=0;y<B.length;y++){let je=B[y];if(_.T=je[0],je=je[1],_.G==2)if(je[0]=="c"){_.K=je[1],_.ia=je[2];const Ut=je[3];Ut!=null&&(_.la=Ut,_.j.info("VER="+_.la));const Ct=je[4];Ct!=null&&(_.Aa=Ct,_.j.info("SVER="+_.Aa));const Li=je[5];Li!=null&&typeof Li=="number"&&0<Li&&(w=1.5*Li,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Ht=c.g;if(Ht){const hi=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var Y=w.h;Y.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(da(Y,Y.h),Y.h=null))}if(w.D){const Wo=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(w.ya=Wo,Xe(w.I,w.D,Wo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var ue=c;if(w.qa=Gu(w,w.J?w.ia:null,w.W),ue.K){ln(w.h,ue);var Le=ue,xt=w.L;xt&&(Le.I=xt),Le.B&&(yr(Le),vs(Le)),w.g=ue}else Bu(w);0<_.i.length&&Ta(_)}else je[0]!="stop"&&je[0]!="close"||Ui(_,7);else _.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Ui(_,7):Ko(_):je[0]!="noop"&&_.l&&_.l.ta(je),_.v=0)}}mr(4)}catch{}}var ku=class{constructor(c,y){this.g=c,this.map=y}};function Di(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function jo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function da(c,y){c.g?c.g.add(y):c.h=y}function ln(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Di.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return Q(c.i)}function wf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function ma(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ma(c),w=wf(c),B=w.length,Y=0;Y<B;Y++)y.call(void 0,w[Y],_&&_[Y],c)}var Ts=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),B=null;if(0<=w){var Y=c[_].substring(0,w);B=c[_].substring(w+1)}else Y=c[_];y(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tt){this.h=c.h,bs(this,c.j),this.o=c.o,this.g=c.g,_r(this,c.s),this.l=c.l;var y=c.i,_=new Mi;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Oi(this,_),this.m=c.m}else c&&(y=String(c).match(Ts))?(this.h=!1,bs(this,y[1]||"",!0),this.o=Mn(y[2]||""),this.g=Mn(y[3]||"",!0),_r(this,y[4]),this.l=Mn(y[5]||"",!0),Oi(this,y[6]||"",!0),this.m=Mn(y[7]||"")):(this.h=!1,this.i=new Mi(null,this.h))}Tt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ss(y,qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ss(y,qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ss(_,_.charAt(0)=="/"?Af:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ss(_,pa)),c.join("")};function Tn(c){return new Tt(c)}function bs(c,y,_){c.j=_?Mn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function _r(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Oi(c,y,_){y instanceof Mi?(c.i=y,Pu(c.i,c.h)):(_||(y=Ss(y,Rf)),c.i=new Mi(y,c.h))}function Xe(c,y,_){c.i.set(y,_)}function ws(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Mn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ss(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qo=/[#\/\?@]/g,Ho=/[#\?:]/g,Af=/[#\?]/g,Rf=/[#\?@]/g,pa=/#/g;function Mi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function kn(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}i=Mi.prototype,i.add=function(c,y){kn(this),this.i=null,c=si(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function ki(c,y){kn(c),y=si(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Vi(c,y){return kn(c),y=si(c,y),c.g.has(y)}i.forEach=function(c,y){kn(this),this.g.forEach(function(_,w){_.forEach(function(B){c.call(y,B,w,this)},this)},this)},i.na=function(){kn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const B=c[w];for(let Y=0;Y<B.length;Y++)_.push(y[w])}return _},i.V=function(c){kn(this);let y=[];if(typeof c=="string")Vi(this,c)&&(y=y.concat(this.g.get(si(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},i.set=function(c,y){return kn(this),this.i=null,c=si(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,_){ki(c,y),0<_.length&&(c.i=null,c.g.set(si(c,y),Q(_)),c.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const Y=encodeURIComponent(String(w)),ue=this.V(w);for(w=0;w<ue.length;w++){var B=Y;ue[w]!==""&&(B+="="+encodeURIComponent(String(ue[w]))),c.push(B)}}return this.i=c.join("&")};function si(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(kn(c),c.i=null,c.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(ki(this,w),Fo(this,B,_))},c)),c.j=y}function As(c,y){const _=new On;if(m.Image){const w=new Image;w.onload=k(Vn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=k(Vn,_,"TestLoadImage: error",!1,y,w),w.onabort=k(Vn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=k(Vn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Qn(c,y){const _=new On,w=new AbortController,B=setTimeout(()=>{w.abort(),Vn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(Y=>{clearTimeout(B),Y.ok?Vn(_,"TestPingServer: ok",!0,y):Vn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(B),Vn(_,"TestPingServer: error",!1,y)})}function Vn(c,y,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Rs(){this.g=new ys}function ai(c,y,_){const w=_||"";try{Bo(c,function(B,Y){let ue=B;g(B)&&(ue=$n(B)),y.push(w+Y+"="+encodeURIComponent(ue))})}catch(B){throw y.push(w+"type="+encodeURIComponent("_badmap")),B}}function vr(c){this.l=c.Ub||null,this.j=c.eb||!1}O(vr,Oo),vr.prototype.g=function(){return new Pi(this.l,this.j)},vr.prototype.i=function(c){return function(){return c}}({});function Pi(c,y){ht.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(Pi,ht),i=Pi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,li(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,oi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,li(this)),this.g&&(this.readyState=3,li(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?oi(this):li(this),this.readyState==3&&Go(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,oi(this))},i.Qa=function(c){this.g&&(this.response=c,oi(this))},i.ga=function(){this.g&&oi(this)};function oi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,li(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function li(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let y="";return ve(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function Pt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=$o(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Xe(c,y,_))}function Ge(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(Ge,ht);var ga=/^https?$/i,Is=["POST","PUT"];i=Ge.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ni.g(),this.v=this.o?Mo(this.o):Mo(ni),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){Uu(this,Y);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Y of w.keys())_.set(Y,w.get(Y));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Is,y,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of _)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){Uu(this,Y)}};function Uu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ya(c),ui(c)}function ya(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),ui(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ui(this,!0)),Ge.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},i.bb=function(){_a(this)};function _a(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Pn(c)!=4||c.Z()!=2)){if(c.u&&Pn(c)==4)Zt(c.Ea,0,c);else if(Ke(c,"readystatechange"),Pn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=ue===0){var B=String(c.D).match(Ts)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),w=!ga.test(B?B.toLowerCase():"")}_=w}if(_)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var Y=2<Pn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ya(c)}}finally{ui(c)}}}}function ui(c,y){if(c.g){xs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{_.onreadystatechange=w}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Pn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),la(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function If(c){const y={};c=(c.g&&2<=Pn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ae(c[w]))continue;var _=N(c[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[B]||[];y[B]=Y,Y.push(_)}V(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Cs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function va(c){this.Aa=0,this.i=[],this.j=new On,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Cs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Cs("baseRetryDelayMs",5e3,c),this.cb=Cs("retryDelaySeedMs",1e4,c),this.Wa=Cs("forwardChannelMaxRetries",2,c),this.wa=Cs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Di(c&&c.concurrentRequestLimit),this.Da=new Rs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=va.prototype,i.la=8,i.G=1,i.connect=function(c,y,_,w){rt(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Gu(this,null,this.W),Ta(this)};function Ko(c){if(ju(c),c.G==3){var y=c.U++,_=Tn(c.I);if(Xe(_,"SID",c.K),Xe(_,"RID",y),Xe(_,"TYPE","terminate"),Ns(c,_),y=new on(c,c.j,y),y.L=2,y.v=ws(Tn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vs(y)}Fu(c)}function Ea(c){c.g&&(Ds(c),c.g.cancel(),c.g=null)}function ju(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!ha(c.h)&&!c.s){c.s=!0;var y=c.Ga;X||C(),Z||(X(),Z=!0),ce.add(y,c),c.B=0}}function xf(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Et(S(c.Ga,c,y),Xo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new on(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=I(Y),A(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zu(this,B,y),_=Tn(this.I),Xe(_,"RID",c),Xe(_,"CVER",22),this.D&&Xe(_,"X-HTTP-Session-Id",this.D),Ns(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String($o(Y)))+"&"+y:this.m&&Pt(_,this.m,Y)),da(this.h,B),this.Ua&&Xe(_,"TYPE","init"),this.P?(Xe(_,"$req",y),Xe(_,"SID","null"),B.T=!0,Kn(B,_,null)):Kn(B,_,y),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||ha(this.h)||Qo(this))};function Qo(c,y){var _;y?_=y.l:_=c.U++;const w=Tn(c.I);Xe(w,"SID",c.K),Xe(w,"RID",_),Xe(w,"AID",c.T),Ns(c,w),c.m&&c.o&&Pt(w,c.m,c.o),_=new on(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),da(c.h,_),Kn(_,w,y)}function Ns(c,y){c.H&&ve(c.H,function(_,w){Xe(y,w,_)}),c.l&&Bo({},function(_,w){Xe(y,w,_)})}function zu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?S(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const ue=["count="+_];Y==-1?0<_?(Y=B[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let Le=!0;for(let xt=0;xt<_;xt++){let je=B[xt].g;const Ut=B[xt].map;if(je-=Y,0>je)Y=Math.max(0,B[xt].g-100),Le=!1;else try{ai(Ut,ue,"req"+je+"_")}catch{w&&w(Ut)}}if(Le){w=ue.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;X||C(),Z||(X(),Z=!0),ce.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Et(S(c.Fa,c),Xo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Et(S(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),Ea(this),qu(this))};function Ds(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=ws(Tn(y)),_.m=null,_.P=!0,Ni(_,c)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),Yo(this),rt(19))};function ba(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){ba(c),Ds(c),c.g=null;var w=2}else if(jo(c.h,y))_=y.D,ln(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var B=c.B;w=dr(),Ke(w,new It(w,_)),Ta(c)}else Bu(c);else if(B=y.s,B==3||B==0&&0<y.X||!(w==1&&xf(c,y)||w==2&&Yo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),B){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Xo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ui(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),w=c.Xa;const B=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||bs(w,"https"),ws(w),B?As(w.toString(),_):Qn(w.toString(),_)}else rt(2);c.G=0,c.l&&c.l.sa(y),Fu(c),ju(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(F(c.ka,y),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Gu(c,y,_){var w=_ instanceof Tt?Tn(_):new Tt(_);if(w.g!="")y&&(w.g=y+"."+w.g),_r(w,w.s);else{var B=m.location;w=B.protocol,y=y?y+"."+B.hostname:B.hostname,B=+B.port;var Y=new Tt(null);w&&bs(Y,w),y&&(Y.g=y),B&&_r(Y,B),_&&(Y.l=_),w=Y}return _=c.D,y=c.ya,_&&y&&Xe(w,_,y),Xe(w,"VER",c.la),Ns(c,w),w}function $u(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ge(new vr({eb:_})):new Ge(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function wa(){}wa.prototype.g=function(c,y){return new un(c,y)};function un(c,y){ht.call(this),this.g=new va(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new ci(this)}O(un,ht),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){Ko(this.g)},un.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=$n(c),c=_);y.i.push(new ku(y.Ya++,c)),y.G==3&&Ta(y)},un.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,un.aa.N.call(this)};function Qu(c){xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}O(Qu,xi);function Yu(){Vo.call(this),this.status=1}O(Yu,Vo);function ci(c){this.g=c}O(ci,Ku),ci.prototype.ua=function(){Ke(this.g,"a")},ci.prototype.ta=function(c){Ke(this.g,new Qu(c))},ci.prototype.sa=function(c){Ke(this.g,new Yu)},ci.prototype.ra=function(){Ke(this.g,"b")},wa.prototype.createWebChannel=wa.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,dT=function(){return new wa},fT=function(){return dr()},hT=ti,$m={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,ah=gr,Ci.COMPLETE="complete",cT=Ci,ko.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Hl=ko,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,uT=Ge}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const o0="@firebase/firestore",l0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Eo="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new wp("@firebase/firestore");function Za(){return Zs.logLevel}function de(i,...e){if(Zs.logLevel<=Pe.DEBUG){const n=e.map(Rp);Zs.debug(`Firestore (${Eo}): ${i}`,...n)}}function or(i,...e){if(Zs.logLevel<=Pe.ERROR){const n=e.map(Rp);Zs.error(`Firestore (${Eo}): ${i}`,...n)}}function lo(i,...e){if(Zs.logLevel<=Pe.WARN){const n=e.map(Rp);Zs.warn(`Firestore (${Eo}): ${i}`,...n)}}function Rp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(i="Unexpected state"){const e=`FIRESTORE (${Eo}) INTERNAL ASSERTION FAILED: `+i;throw or(e),new Error(e)}function $e(i,e){i||Ie()}function Ce(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class JI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class ex{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ir;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ir,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ir)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new mT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new nn(e)}}class tx{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class nx{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new tx(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ix{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,de("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new u0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new u0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=rx(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Km(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=pT(),f=sx(u.encode(c0(i,n)),u.encode(c0(e,n)));return f!==0?f:Oe(s,o)}}n+=s>65535?2:1}return Oe(i.length,e.length)}function c0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function sx(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Oe(i[n],e[n]);return Oe(i.length,e.length)}function uo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=-62135596800,f0=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*f0);return new Ot(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<h0)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/f0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-h0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{static fromTimestamp(e){return new xe(e)}static min(){return new xe(new Ot(0,0))}static max(){return new xe(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0="__name__";class yi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ie(),s===void 0?s=e.length-n:s>e.length-n&&Ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return yi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof yi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=yi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=yi.isNumericId(e),o=yi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?yi.extractNumericId(e).compare(yi.extractNumericId(n)):Km(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Xr.fromString(e.substring(4,e.length-2))}}class it extends yi{construct(e,n,s){return new it(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new it(n)}static emptyPath(){return new it([])}}const ax=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends yi{construct(e,n,s){return new Yt(e,n,s)}static isValidIdentifier(e){return ax.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d0}static keyField(){return new Yt([d0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(it.fromString(e))}static fromName(e){return new Ee(it.fromString(e).popFirst(5))}static empty(){return new Ee(it.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&it.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return it.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new it(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function ox(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=xe.fromTimestamp(s===1e9?new Ot(n+1,0):new Ot(n,s));return new Jr(o,Ee.empty(),e)}function lx(i){return new Jr(i.readTime,i.key,tu)}class Jr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Jr(xe.min(),Ee.empty(),tu)}static max(){return new Jr(xe.max(),Ee.empty(),tu)}}function ux(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=Ee.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class hx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==cx)throw i;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ie((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ie?n:ie.resolve(n)}catch(n){return ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ie.reject(n)}static resolve(e){return new ie((n,s)=>{n(e)})}static reject(e){return new ie((n,s)=>{s(e)})}static waitFor(e){return new ie((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=ie.resolve(!1);for(const s of e)n=n.next(o=>o?ie.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new ie((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(v=>{f[g]=v,++m,m===u&&s(f)},v=>o(v))}})}static doWhile(e,n){return new ie((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function fx(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function bo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip=-1;function Gh(i){return i==null}function bh(i){return i===0&&1/i==-1/0}function dx(i){return typeof i=="number"&&Number.isInteger(i)&&!bh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function mx(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=m0(e)),e=px(i.get(n),e);return m0(e)}function px(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case yT:n+="";break;default:n+=u}}return n}function m0(i){return i+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function as(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _T(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Qt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Qt.RED,this.left=o??Qt.EMPTY,this.right=u??Qt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Qt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Qt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ie();const e=this.left.check();if(e!==this.right.check())throw Ie();return e+(this.isRed()?0:1)}}Qt.EMPTY=null,Qt.RED=!0,Qt.BLACK=!1;Qt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie()}get value(){throw Ie()}get color(){throw Ie()}get left(){throw Ie()}get right(){throw Ie()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Qt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Mt(Yt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new vT("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const gx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function es(i){if($e(!!i),typeof i=="string"){let e=0;const n=gx.exec(i);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ts(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="server_timestamp",TT="__type__",bT="__previous_value__",wT="__local_write_time__";function xp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||n===void 0?void 0:n.stringValue)===ET}function $h(i){const e=i.mapValue.fields[bT];return xp(e)?$h(e):e}function nu(i){const e=es(i.mapValue.fields[wT].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const wh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="__type__",_x="__max__",Jc={mapValue:{}},AT="__vector__",Sh="value";function ns(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?xp(i)?4:Ex(i)?9007199254740991:vx(i)?10:11:Ie()}function wi(i,e){if(i===e)return!0;const n=ns(i);if(n!==ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=es(o.timestampValue),m=es(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ts(o.bytesValue).isEqual(ts(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=vt(o.doubleValue),m=vt(u.doubleValue);return f===m?bh(f)===bh(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return uo(i.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(p0(f)!==p0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wi(f[p],m[p])))return!1;return!0}(i,e);default:return Ie()}}function ru(i,e){return(i.values||[]).find(n=>wi(n,e))!==void 0}function co(i,e){if(i===e)return 0;const n=ns(i),s=ns(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,f){const m=vt(u.integerValue||u.doubleValue),p=vt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return y0(i.timestampValue,e.timestampValue);case 4:return y0(nu(i),nu(e));case 5:return Km(i.stringValue,e.stringValue);case 6:return function(u,f){const m=ts(u),p=ts(f);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const v=Oe(m[g],p[g]);if(v!==0)return v}return Oe(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Oe(vt(u.latitude),vt(f.latitude));return m!==0?m:Oe(vt(u.longitude),vt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return _0(i.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,v;const b=u.fields||{},S=f.fields||{},k=(m=b[Sh])===null||m===void 0?void 0:m.arrayValue,O=(p=S[Sh])===null||p===void 0?void 0:p.arrayValue,Q=Oe(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((v=O==null?void 0:O.values)===null||v===void 0?void 0:v.length)||0);return Q!==0?Q:_0(k,O)}(i.mapValue,e.mapValue);case 11:return function(u,f){if(u===Jc.mapValue&&f===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(f===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let b=0;b<p.length&&b<v.length;++b){const S=Km(p[b],v[b]);if(S!==0)return S;const k=co(m[p[b]],g[v[b]]);if(k!==0)return k}return Oe(p.length,v.length)}(i.mapValue,e.mapValue);default:throw Ie()}}function y0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=es(i),s=es(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function _0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function ho(i){return Qm(i)}function Qm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=es(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ts(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return Ee.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Qm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Qm(n.fields[f])}`;return o+"}"}(i.mapValue):Ie()}function oh(i){switch(ns(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$h(i);return e?16+oh(e):16;case 5:return 2*i.stringValue.length;case 6:return ts(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+oh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return as(s.fields,(u,f)=>{o+=u.length+oh(f)}),o}(i.mapValue);default:throw Ie()}}function v0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ym(i){return!!i&&"integerValue"in i}function Cp(i){return!!i&&"arrayValue"in i}function E0(i){return!!i&&"nullValue"in i}function T0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function lh(i){return!!i&&"mapValue"in i}function vx(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||n===void 0?void 0:n.stringValue)===AT}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return as(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Ex(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===_x}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!lh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Yt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Kl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());lh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];lh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){as(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new yn(Kl(this.value))}}function RT(i){const e=[];return as(i.fields,(n,s)=>{const o=new Yt([n]);if(lh(s)){const u=RT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,xe.min(),xe.min(),xe.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,xe.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,xe.min(),xe.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,xe.min(),xe.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.position=e,this.inclusive=n}}function b0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],f=i.position[o];if(u.field.isKeyField()?s=Ee.comparator(Ee.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function w0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!wi(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n="asc"){this.field=e,this.dir=n}}function Tx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class At extends IT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new wx(e,n,s):n==="array-contains"?new Rx(e,s):n==="in"?new Ix(e,s):n==="not-in"?new xx(e,s):n==="array-contains-any"?new Cx(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Sx(e,s):new Ax(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&ns(this.value)===ns(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Jn(e,n)}matches(e){return xT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xT(i){return i.op==="and"}function CT(i){return bx(i)&&xT(i)}function bx(i){for(const e of i.filters)if(e instanceof Jn)return!1;return!0}function Xm(i){if(i instanceof At)return i.field.canonicalString()+i.op.toString()+ho(i.value);if(CT(i))return i.filters.map(e=>Xm(e)).join(",");{const e=i.filters.map(n=>Xm(n)).join(",");return`${i.op}(${e})`}}function NT(i,e){return i instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(i,e):i instanceof Jn?function(s,o){return o instanceof Jn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&NT(f,o.filters[m]),!0):!1}(i,e):void Ie()}function DT(i){return i instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(i):i instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(i):"Filter"}class wx extends At{constructor(e,n,s){super(e,n,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const n=Ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class Sx extends At{constructor(e,n){super(e,"in",n),this.keys=OT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ax extends At{constructor(e,n){super(e,"not-in",n),this.keys=OT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function OT(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Ee.fromName(s.referenceValue))}class Rx extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cp(n)&&ru(n.arrayValue,this.value)}}class Ix extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class xx extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class Cx extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function S0(i,e=null,n=[],s=[],o=null,u=null,f=null){return new Nx(i,e,n,s,o,u,f)}function Np(i){const e=Ce(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Xm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ho(s)).join(",")),e.le=n}return e.le}function Dp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Tx(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!NT(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!w0(i.startAt,e.startAt)&&w0(i.endAt,e.endAt)}function Wm(i){return Ee.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Dx(i,e,n,s,o,u,f,m){return new wo(i,e,n,s,o,u,f,m)}function Kh(i){return new wo(i)}function A0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function MT(i){return i.collectionGroup!==null}function Ql(i){const e=Ce(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Mt(Yt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new su(u,s))}),n.has(Yt.keyField().canonicalString())||e.he.push(new su(Yt.keyField(),s))}return e.he}function _i(i){const e=Ce(i);return e.Pe||(e.Pe=Ox(e,Ql(i))),e.Pe}function Ox(i,e){if(i.limitType==="F")return S0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new su(o.field,u)});const n=i.endAt?new Ah(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ah(i.startAt.position,i.startAt.inclusive):null;return S0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Zm(i,e){const n=i.filters.concat([e]);return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Jm(i,e,n){return new wo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Qh(i,e){return Dp(_i(i),_i(e))&&i.limitType===e.limitType}function kT(i){return`${Np(_i(i))}|lt:${i.limitType}`}function Ja(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>DT(o)).join(", ")}]`),Gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(_i(i))}; limitType=${i.limitType})`}function Yh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Ee.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=b0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(f,m,p){const g=b0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function Mx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function VT(i){return(e,n)=>{let s=!1;for(const o of Ql(i)){const u=kx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function kx(i,e,n){const s=i.field.isKeyField()?Ee.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?co(p,g):Ie()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=new ut(Ee.comparator);function lr(){return Vx}const PT=new ut(Ee.comparator);function Fl(...i){let e=PT;for(const n of i)e=e.insert(n.key,n);return e}function UT(i){let e=PT;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ys(){return Yl()}function LT(){return Yl()}function Yl(){return new na(i=>i.toString(),(i,e)=>i.isEqual(e))}const Px=new ut(Ee.comparator),Ux=new Mt(Ee.comparator);function Ue(...i){let e=Ux;for(const n of i)e=e.add(n);return e}const Lx=new Mt(Oe);function jx(){return Lx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bh(e)?"-0":e}}function jT(i){return{integerValue:""+i}}function zx(i,e){return dx(e)?jT(e):Op(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function Bx(i,e,n){return i instanceof au?function(o,u){const f={fields:{[TT]:{stringValue:ET},[wT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&xp(u)&&(u=$h(u)),u&&(f.fields[bT]=u),{mapValue:f}}(n,e):i instanceof fo?BT(i,e):i instanceof ou?qT(i,e):function(o,u){const f=zT(o,u),m=R0(f)+R0(o.Ie);return Ym(f)&&Ym(o.Ie)?jT(m):Op(o.serializer,m)}(i,e)}function qx(i,e,n){return i instanceof fo?BT(i,e):i instanceof ou?qT(i,e):n}function zT(i,e){return i instanceof Rh?function(s){return Ym(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class au extends Xh{}class fo extends Xh{constructor(e){super(),this.elements=e}}function BT(i,e){const n=HT(e);for(const s of i.elements)n.some(o=>wi(o,s))||n.push(s);return{arrayValue:{values:n}}}class ou extends Xh{constructor(e){super(),this.elements=e}}function qT(i,e){let n=HT(e);for(const s of i.elements)n=n.filter(o=>!wi(o,s));return{arrayValue:{values:n}}}class Rh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function R0(i){return vt(i.integerValue||i.doubleValue)}function HT(i){return Cp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n){this.field=e,this.transform=n}}function Hx(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof fo&&o instanceof fo||s instanceof ou&&o instanceof ou?uo(s.elements,o.elements,wi):s instanceof Rh&&o instanceof Rh?wi(s.Ie,o.Ie):s instanceof au&&o instanceof au}(i.transform,e.transform)}class Fx{constructor(e,n){this.version=e,this.transformResults=n}}class Gn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Gn}static exists(e){return new Gn(void 0,e)}static updateTime(e){return new Gn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Wh{}function GT(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Mp(i.key,Gn.none()):new pu(i.key,i.data,Gn.none());{const n=i.data,s=yn.empty();let o=new Mt(Yt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new os(i.key,s,new Cn(o.toArray()),Gn.none())}}function Gx(i,e,n){i instanceof pu?function(o,u,f){const m=o.value.clone(),p=x0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof os?function(o,u,f){if(!uh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=x0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll($T(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Xl(i,e,n,s){return i instanceof pu?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=u.value.clone(),v=C0(u.fieldTransforms,p,f);return g.setAll(v),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof os?function(u,f,m,p){if(!uh(u.precondition,f))return m;const g=C0(u.fieldTransforms,p,f),v=f.data;return v.setAll($T(u)),v.setAll(g),f.convertToFoundDocument(f.version,v).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,f,m){return uh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function $x(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=zT(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function I0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,f)=>Hx(u,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class pu extends Wh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Wh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $T(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function x0(i,e,n){const s=new Map;$e(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,qx(f,m,n[o]))}return s}function C0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,f=n.data.field(o.field);s.set(o.field,Bx(u,f,e))}return s}class Mp extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Kx extends Wh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Gx(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Xl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=LT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=GT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(xe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,s)=>I0(n,s))&&uo(this.baseMutations,e.baseMutations,(n,s)=>I0(n,s))}}class kp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return Px}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new kp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function Wx(i){switch(i){case ne.OK:return Ie();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Ie()}}function KT(i){if(i===void 0)return or("GRPC error has no .code"),ne.UNKNOWN;switch(i){case St.OK:return ne.OK;case St.CANCELLED:return ne.CANCELLED;case St.UNKNOWN:return ne.UNKNOWN;case St.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case St.INTERNAL:return ne.INTERNAL;case St.UNAVAILABLE:return ne.UNAVAILABLE;case St.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case St.NOT_FOUND:return ne.NOT_FOUND;case St.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case St.ABORTED:return ne.ABORTED;case St.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case St.DATA_LOSS:return ne.DATA_LOSS;default:return Ie()}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new Xr([4294967295,4294967295],0);function N0(i){const e=pT().encode(i),n=new lT;return n.update(e),new Uint8Array(n.digest())}function D0(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Xr([n,s],0),new Xr([o,u],0)]}class Vp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Gl(`Invalid padding: ${n}`);if(s<0)throw new Gl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Gl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Xr.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Xr.fromNumber(s)));return o.compare(Zx)===1&&(o=new Xr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=N0(e),[s,o]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Vp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=N0(e),[s,o]=D0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Zh(xe.min(),o,new ut(Oe),lr(),Ue())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class QT{constructor(e,n){this.targetId=e,this.ge=n}}class YT{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class O0{constructor(){this.pe=0,this.ye=M0(),this.we=Xt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),n=Ue(),s=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ie()}}),new gu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=M0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Jx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new ut(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Wm(u))if(s===0){const f=new Ee(u.path);this.ze(n,f,rn.newNoDocument(f,xe.min()))}else $e(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ts(s).toUint8Array()}catch(p){if(p instanceof vT)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Vp(f,o,u)}catch(p){return lo(p instanceof Gl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Wm(m.target)){const p=new Ee(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,rn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ue();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Zh(e,n,this.Ke,this.Qe,s);return this.Qe=lr(),this.$e=eh(),this.Ue=eh(),this.Ke=new ut(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new O0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Mt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Mt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new O0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function eh(){return new ut(Ee.comparator)}function M0(){return new ut(Ee.comparator)}const eC={asc:"ASCENDING",desc:"DESCENDING"},tC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nC={and:"AND",or:"OR"};class iC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(i,e){return i.useProto3Json||Gh(e)?e:{value:e}}function Ih(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function rC(i,e){return Ih(i,e.toTimestamp())}function vi(i){return $e(!!i),xe.fromTimestamp(function(n){const s=es(n);return new Ot(s.seconds,s.nanos)}(i))}function Pp(i,e){return tp(i,e).canonicalString()}function tp(i,e){const n=function(o){return new it(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function WT(i){const e=it.fromString(i);return $e(nb(e)),e}function np(i,e){return Pp(i.databaseId,e.path)}function Om(i,e){const n=WT(e);if(n.get(1)!==i.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Ee(JT(n))}function ZT(i,e){return Pp(i.databaseId,e)}function sC(i){const e=WT(i);return e.length===4?it.emptyPath():JT(e)}function ip(i){return new it(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function JT(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function k0(i,e,n){return{name:np(i,e),fields:n.value.mapValue.fields}}function aC(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,v){return g.useProto3Json?($e(v===void 0||typeof v=="string"),Xt.fromBase64String(v||"")):($e(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Xt.fromUint8Array(v||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const v=g.code===void 0?ne.UNKNOWN:KT(g.code);return new me(v,g.message||"")}(f);n=new YT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(i,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):xe.min(),m=new yn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,f,m),g=s.targetIds||[],v=s.removedTargetIds||[];n=new ch(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(i,s.document),u=s.readTime?vi(s.readTime):xe.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ch([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(i,s.document),u=s.removedTargetIds||[];n=new ch([],u,o,null)}else{if(!("filter"in e))return Ie();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new Xx(o,u),m=s.targetId;n=new QT(m,f)}}return n}function oC(i,e){let n;if(e instanceof pu)n={update:k0(i,e.key,e.value)};else if(e instanceof Mp)n={delete:np(i,e.key)};else if(e instanceof os)n={update:k0(i,e.key,e.data),updateMask:gC(e.fieldMask)};else{if(!(e instanceof Kx))return Ie();n={verify:np(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof au)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof fo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ie()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:rC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ie()}(i,e.precondition)),n}function lC(i,e){return i&&i.length>0?($e(e!==void 0),i.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(xe.min())&&(f=vi(u)),new Fx(f,o.transformResults||[])}(n,e))):[]}function uC(i,e){return{documents:[ZT(i,e.path)]}}function cC(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZT(i,o);const u=function(g){if(g.length!==0)return tb(Jn.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(v=>function(S){return{field:eo(S.field),direction:dC(S.dir)}}(v))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=ep(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function hC(i){let e=sC(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let u=[];n.where&&(u=function(b){const S=eb(b);return S instanceof Jn&&CT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(S=>function(O){return new su(to(O.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(b){let S;return S=typeof b=="object"?b.value:b,Gh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(b){const S=!!b.before,k=b.values||[];return new Ah(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const S=!b.before,k=b.values||[];return new Ah(k,S)}(n.endAt)),Dx(e,o,f,u,m,"F",p,g)}function fC(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return At.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ie()}}(i):i.fieldFilter!==void 0?function(n){return At.create(to(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ie()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(s=>eb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie()}}(n.compositeFilter.op))}(i):Ie()}function dC(i){return eC[i]}function mC(i){return tC[i]}function pC(i){return nC[i]}function eo(i){return{fieldPath:i.canonicalString()}}function to(i){return Yt.fromServerFormat(i.fieldPath)}function tb(i){return i instanceof At?function(n){if(n.op==="=="){if(T0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(E0(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:mC(n.op),value:n.value}}}(i):i instanceof Jn?function(n){const s=n.getFilters().map(o=>tb(o));return s.length===1?s[0]:{compositeFilter:{op:pC(n.op),filters:s}}}(i):Ie()}function gC(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s,o,u=xe.min(),f=xe.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e){this.Tt=e}}function _C(i){const e=hC({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(){this.Tn=new EC}addToCollectionParentIndex(e,n){return this.Tn.add(n),ie.resolve()}getCollectionParents(e,n){return ie.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ie.resolve()}deleteFieldIndex(e,n){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,n){return ie.resolve()}getDocumentsMatchingTarget(e,n){return ie.resolve(null)}getIndexType(e,n){return ie.resolve(0)}getFieldIndexes(e,n){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,n){return ie.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return ie.resolve(Jr.min())}updateCollectionGroup(e,n,s){return ie.resolve()}updateIndexEntries(e,n){return ie.resolve()}}class EC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(it.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(it.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(ib,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new mo(0)}static Kn(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="LruGarbageCollector",TC=1048576;function U0([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class bC{constructor(e){this.Hn=e,this.buffer=new Mt(U0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();U0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(P0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){bo(n)?de(P0,"Ignoring IndexedDB error during garbage collection: ",n):await To(n)}await this.er(3e5)})}}class SC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return ie.resolve(Fh.ae);const s=new bC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(V0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),Za()<=Pe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-v}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function AC(i,e){return new SC(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ie.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Xl(s.mutation,o,Cn.empty(),Ot.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Ys();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Fl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ys();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=lr();const f=Yl(),m=function(){return Yl()}();return n.forEach((p,g)=>{const v=s.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof os)?u=u.insert(g.key,g):v!==void 0?(f.set(g.key,v.mutation.getFieldMask()),Xl(v.mutation,g,v.mutation.getFieldMask(),Ot.now())):f.set(g.key,Cn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,v)=>f.set(g,v)),n.forEach((g,v)=>{var b;return m.set(g,new IC(v,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Yl();let o=new ut((f,m)=>f-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let v=s.get(p)||Cn.empty();v=m.applyToLocalView(g,v),s.set(p,v);const b=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,v=p.value,b=LT();v.forEach(S=>{if(!u.has(S)){const k=GT(n.get(S),s.get(S));k!==null&&b.set(S,k),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ie.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return Ee.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ie.resolve(Ys());let m=tu,p=u;return f.next(g=>ie.forEach(g,(v,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(v)?ie.resolve():this.remoteDocumentCache.getEntry(e,v).next(S=>{p=p.insert(v,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(v=>({batchId:m,changes:UT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ee(n)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>ie.forEach(m,p=>{const g=function(b,S){return new wo(S,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(v=>{v.forEach((b,S)=>{f=f.insert(b,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const v=g.getKey();f.get(v)===null&&(f=f.insert(v,rn.newInvalidDocument(v)))});let m=Fl();return f.forEach((p,g)=>{const v=u.get(p);v!==void 0&&Xl(v.mutation,g,Cn.empty(),Ot.now()),Yh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ie.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),ie.resolve()}getNamedQuery(e,n){return ie.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:_C(o.bundledQuery),readTime:vi(o.readTime)}}(n)),ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(){this.overlays=new ut(Ee.comparator),this.Rr=new Map}getOverlay(e,n){return ie.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ys();return ie.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),ie.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),ie.resolve()}getOverlaysForCollection(e,n,s){const o=Ys(),u=n.length+1,f=new Ee(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ie.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((g,v)=>g-v);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let v=u.get(g.largestBatchId);v===null&&(v=Ys(),u=u.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const m=Ys(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,v)=>m.set(g,v)),!(m.size()>=o)););return ie.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new Yx(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ue(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(){this.Vr=new Mt(Bt.mr),this.gr=new Mt(Bt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Bt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new Ee(new it([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ee(new it([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=Ue();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Bt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ee.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||Ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Mt(Bt.mr)}checkEmpty(e){return ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new Qx(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Bt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(f)}lookupMutationBatch(e,n){return ie.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(this.mutationQueue.length===0?Ip:this.Fr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Oe);return n.forEach(o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),ie.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;Ee.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new Ee(u),0);let m=new Mt(Oe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),ie.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return ie.forEach(n.mutations,o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Mr.firstAfterOrEqual(s);return ie.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.kr=e,this.docs=function(){return new ut(Ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ie.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=lr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),ie.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=lr();const f=n.path,m=new Ee(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||ux(lx(v),s)<=0||(o.has(v.key)||Yh(n,v))&&(u=u.insert(v.key,v.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ie()}qr(e,n){return ie.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new kC(this)}getSize(e){return ie.resolve(this.size)}}class kC extends RC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),ie.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.persistence=e,this.Qr=new na(n=>Np(n),Dp),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Up,this.targetCount=0,this.Kr=mo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),ie.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ie.resolve()}updateTargetData(e,n){return this.zn(n),ie.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ie.waitFor(u).next(()=>o)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return ie.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),ie.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ie.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return ie.resolve(s)}containsKey(e,n){return ie.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Fh(0),this.zr=!1,this.zr=!0,this.jr=new DC,this.referenceDelegate=e(this),this.Hr=new VC(this),this.indexManager=new vC,this.remoteDocumentCache=function(o){return new MC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new yC(n),this.Yr=new CC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new OC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){de("MemoryPersistence","Starting transaction:",e);const o=new PC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return ie.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class PC extends hx{constructor(e){super(),this.currentSequenceNumber=e}}class Lp{constructor(e){this.persistence=e,this.ti=new Up,this.ni=null}static ri(e){return new Lp(e)}get ii(){if(this.ni)return this.ni;throw Ie()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),ie.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),ie.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ie.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.ii,s=>{const o=Ee.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,xe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ie.or([()=>ie.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class xh{constructor(e,n){this.persistence=e,this.oi=new na(s=>mx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=AC(this,n)}static ri(e,n){return new xh(e,n)}Zr(){}Xr(e){return ie.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return ie.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?ie.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,xe.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ie.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=oh(e.data.value)),n}ar(e,n,s){return ie.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ie.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return kR()?8:fx(an())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new UC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Za()<=Pe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ie.resolve()):(Za()<=Pe.DEBUG&&de("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Za()<=Pe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(n))):ie.resolve())}rs(e,n){if(A0(n))return ie.resolve(null);let s=_i(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Jm(n,null,"F"),s=_i(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ue(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Jm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return A0(n)||o.isEqual(xe.min())?ie.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?ie.resolve(null):(Za()<=Pe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.hs(e,f,n,ox(o,tu)).next(m=>m))})}cs(e,n){let s=new Mt(VT(e));return n.forEach((o,u)=>{Yh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Za()<=Pe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ns.getDocumentsMatchingQuery(e,n,Jr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",jC=3e8;class zC{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ut(Oe),this.Is=new na(u=>Np(u),Dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function BC(i,e,n,s){return new zC(i,e,n,s)}async function sb(i,e){const n=Ce(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ue();for(const g of o){f.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of u){m.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function qC(i,e){const n=Ce(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,v){const b=g.batch,S=b.keys();let k=ie.resolve();return S.forEach(O=>{k=k.next(()=>v.getEntry(p,O)).next(Q=>{const F=g.docVersions.get(O);$e(F!==null),Q.version.compareTo(F)<0&&(b.applyToRemoteDocument(Q,g),Q.isValidDocument()&&(Q.setReadTime(g.commitVersion),v.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ab(i){const e=Ce(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function HC(i,e){const n=Ce(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((v,b)=>{const S=o.get(b);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,v.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,v.addedDocuments,b)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?k=k.withResumeToken(Xt.EMPTY_BYTE_STRING,xe.min()).withLastLimboFreeSnapshotVersion(xe.min()):v.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(v.resumeToken,s)),o=o.insert(b,k),function(Q,F,G){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=jC?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(S,k,v)&&m.push(n.Hr.updateTargetData(u,k))});let p=lr(),g=Ue();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,v))}),m.push(FC(u,f,e.documentUpdates).next(v=>{p=v.Vs,g=v.fs})),!s.isEqual(xe.min())){const v=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(v)}return ie.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function FC(i,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let f=lr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(xe.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):de(zp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function GC(i,e){const n=Ce(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function $C(i,e){const n=Ce(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,ie.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function rp(i,e,n){const s=Ce(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!bo(f))throw f;de(zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function L0(i,e,n){const s=Ce(i);let o=xe.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,v){const b=Ce(p),S=b.Is.get(v);return S!==void 0?ie.resolve(b.Ts.get(S)):b.Hr.getTargetData(g,v)}(s,f,_i(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:xe.min(),n?u:Ue())).next(m=>(KC(s,Mx(e),m),{documents:m,gs:u})))}function KC(i,e,n){let s=i.Es.get(e)||xe.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class j0{constructor(){this.activeTargetIds=jx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QC{constructor(){this.ho=new j0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new j0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="ConnectivityMonitor";class B0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(z0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(z0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function sp(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm="RestConnection",XC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WC{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=sp(),m=this.bo(e,n.toUriEncodedString());de(Mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(de(Mm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw lo(Mm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Eo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=XC[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class JC extends WC{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=sp();return new Promise((f,m)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ah.NO_ERROR:const v=p.getResponseJson();de(tn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),f(v);break;case ah.TIMEOUT:de(tn,`RPC '${e}' ${u} timed out`),m(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case ah.HTTP_ERROR:const b=p.getStatus();if(de(tn,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const O=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(G)>=0?G:ne.UNKNOWN}(k.status);m(new me(O,k.message))}else m(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Ie()}}finally{de(tn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);de(tn,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=sp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dT(),m=fT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const v=u.join("");de(tn,`Creating RPC '${e}' stream ${o}: ${v}`,p);const b=f.createWebChannel(v,p);let S=!1,k=!1;const O=new ZC({Fo:F=>{k?de(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(S||(de(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),S=!0),de(tn,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),Q=(F,G,ae)=>{F.listen(G,re=>{try{ae(re)}catch(ge){setTimeout(()=>{throw ge},0)}})};return Q(b,Hl.EventType.OPEN,()=>{k||(de(tn,`RPC '${e}' stream ${o} transport opened.`),O.Qo())}),Q(b,Hl.EventType.CLOSE,()=>{k||(k=!0,de(tn,`RPC '${e}' stream ${o} transport closed`),O.Uo())}),Q(b,Hl.EventType.ERROR,F=>{k||(k=!0,lo(tn,`RPC '${e}' stream ${o} transport errored:`,F),O.Uo(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Hl.EventType.MESSAGE,F=>{var G;if(!k){const ae=F.data[0];$e(!!ae);const re=ae,ge=(re==null?void 0:re.error)||((G=re[0])===null||G===void 0?void 0:G.error);if(ge){de(tn,`RPC '${e}' stream ${o} received error:`,ge);const he=ge.status;let ve=function(x){const A=St[x];if(A!==void 0)return KT(A)}(he),V=ge.message;ve===void 0&&(ve=ne.INTERNAL,V="Unknown error status: "+he+" with message "+ge.message),k=!0,O.Uo(new me(ve,V)),b.close()}else de(tn,`RPC '${e}' stream ${o} received:`,ae),O.Ko(ae)}}),Q(m,hT.STAT_EVENT,F=>{F.stat===$m.PROXY?de(tn,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===$m.NOPROXY&&de(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{O.$o()},0),O}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jh(i){return new iC(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0="PersistentStream";class lb{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ob(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(or(n.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(q0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(q0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e2 extends lb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=aC(this.serializer,e),s=function(u){if(!("targetChange"in u))return xe.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?xe.min():f.readTime?vi(f.readTime):xe.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=ip(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Wm(p)?{documents:uC(u,p)}:{query:cC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XT(u,f.resumeToken);const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(xe.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const g=ep(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=fC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=ip(this.serializer),n.removeTarget=e,this.I_(n)}}class t2 extends lb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=lC(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=ip(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>oC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{}class i2 extends n2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,tp(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,tp(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class r2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(or(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class s2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ia(this)&&(de(Js,"Restarting streams for network reachability change."),await async function(p){const g=Ce(p);g.W_.add(4),await yu(g),g.j_.set("Unknown"),g.W_.delete(4),await ef(g)}(this))})}),this.j_=new r2(s,o)}}async function ef(i){if(ia(i))for(const e of i.G_)await e(!0)}async function yu(i){for(const e of i.G_)await e(!1)}function ub(i,e){const n=Ce(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Fp(n)?Hp(n):So(n).c_()&&qp(n,e))}function Bp(i,e){const n=Ce(i),s=So(n);n.K_.delete(e),s.c_()&&cb(n,e),n.K_.size===0&&(s.c_()?s.P_():ia(n)&&n.j_.set("Unknown"))}function qp(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(xe.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(i).y_(e)}function cb(i,e){i.H_.Ne(e),So(i).w_(e)}function Hp(i){i.H_=new Jx({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),So(i).start(),i.j_.B_()}function Fp(i){return ia(i)&&!So(i).u_()&&i.K_.size>0}function ia(i){return Ce(i).W_.size===0}function hb(i){i.H_=void 0}async function a2(i){i.j_.set("Online")}async function o2(i){i.K_.forEach((e,n)=>{qp(i,e)})}async function l2(i,e){hb(i),Fp(i)?(i.j_.q_(e),Hp(i)):i.j_.set("Unknown")}async function u2(i,e,n){if(i.j_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(i,e)}catch(s){de(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ch(i,s)}else if(e instanceof ch?i.H_.We(e):e instanceof QT?i.H_.Ze(e):i.H_.je(e),!n.isEqual(xe.min()))try{const s=await ab(i.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=u.K_.get(g);v&&u.K_.set(g,v.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const v=u.K_.get(p);if(!v)return;u.K_.set(p,v.withResumeToken(Xt.EMPTY_BYTE_STRING,v.snapshotVersion)),cb(u,p);const b=new $r(v.target,p,g,v.sequenceNumber);qp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){de(Js,"Failed to raise snapshot:",s),await Ch(i,s)}}async function Ch(i,e,n){if(!bo(e))throw e;i.W_.add(1),await yu(i),i.j_.set("Offline"),n||(n=()=>ab(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{de(Js,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await ef(i)})}function fb(i,e){return e().catch(n=>Ch(i,n,e))}async function tf(i){const e=Ce(i),n=is(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ip;for(;c2(e);)try{const o=await GC(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,h2(e,o)}catch(o){await Ch(e,o)}db(e)&&mb(e)}function c2(i){return ia(i)&&i.U_.length<10}function h2(i,e){i.U_.push(e);const n=is(i);n.c_()&&n.S_&&n.b_(e.mutations)}function db(i){return ia(i)&&!is(i).u_()&&i.U_.length>0}function mb(i){is(i).start()}async function f2(i){is(i).C_()}async function d2(i){const e=is(i);for(const n of i.U_)e.b_(n.mutations)}async function m2(i,e,n){const s=i.U_.shift(),o=kp.from(s,e,n);await fb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await tf(i)}async function p2(i,e){e&&is(i).S_&&await async function(s,o){if(function(f){return Wx(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();is(s).h_(),await fb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await tf(s)}}(i,e),db(i)&&mb(i)}async function H0(i,e){const n=Ce(i);n.asyncQueue.verifyOperationInProgress(),de(Js,"RemoteStore received new credentials");const s=ia(n);n.W_.add(3),await yu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ef(n)}async function g2(i,e){const n=Ce(i);e?(n.W_.delete(2),await ef(n)):e||(n.W_.add(2),await yu(n),n.j_.set("Unknown"))}function So(i){return i.J_||(i.J_=function(n,s,o){const u=Ce(n);return u.M_(),new e2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:a2.bind(null,i),No:o2.bind(null,i),Lo:l2.bind(null,i),p_:u2.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),Fp(i)?Hp(i):i.j_.set("Unknown")):(await i.J_.stop(),hb(i))})),i.J_}function is(i){return i.Y_||(i.Y_=function(n,s,o){const u=Ce(n);return u.M_(),new t2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:f2.bind(null,i),Lo:p2.bind(null,i),D_:d2.bind(null,i),v_:m2.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await tf(i)):(await i.Y_.stop(),i.U_.length>0&&(de(Js,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Gp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $p(i,e){if(or("AsyncQueue",`${e}: ${i}`),bo(i))return new me(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||Ee.comparator(n.key,s.key):(n,s)=>Ee.comparator(n.key,s.key),this.keyedMap=Fl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.Z_=new ut(Ee.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ie():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class po{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new po(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _2{constructor(){this.queries=G0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ce(n),u=o.queries;o.queries=G0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function G0(){return new na(i=>kT(i),Qh)}async function Kp(i,e){const n=Ce(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new y2,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=$p(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Yp(n)}async function Qp(i,e){const n=Ce(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function v2(i,e){const n=Ce(i);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Yp(n)}function E2(i,e,n){const s=Ce(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Yp(i){i.ia.forEach(e=>{e.next()})}var ap,$0;($0=ap||(ap={}))._a="default",$0.Cache="cache";class Xp{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ap.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class T2{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=VT(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new F0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,b)=>{const S=o.get(v),k=Yh(this.query,b)?b:null,O=!!S&&this.mutatedKeys.has(S.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let F=!1;S&&k?S.data.isEqual(k.data)?O!==Q&&(s.track({type:3,doc:k}),F=!0):this.va(S,k)||(s.track({type:2,doc:k}),F=!0,(p&&this.ya(k,p)>0||g&&this.ya(k,g)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),F=!0):S&&!k&&(s.track({type:1,doc:S}),F=!0,(p||g)&&(m=!0)),F&&(k?(f=f.add(k),u=Q?u.add(v):u.delete(v)):(f=f.delete(v),u=u.delete(v)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const v=this.query.limitType==="F"?f.last():f.first();f=f.delete(v.key),u=u.delete(v.key),s.track({type:1,doc:v})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((v,b)=>function(k,O){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie()}};return Q(k)-Q(O)}(v.type,b.type)||this.ya(v.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new po(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new F0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new gb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new pb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ue();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return po.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Wp="SyncEngine";class b2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class w2{constructor(e){this.key=e,this.Ba=!1}}class S2{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>kT(m),Qh),this.qa=new Map,this.Qa=new Set,this.$a=new ut(Ee.comparator),this.Ua=new Map,this.Ka=new Up,this.Wa={},this.Ga=new Map,this.za=mo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function A2(i,e,n=!0){const s=bb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await yb(s,e,n,!0),o}async function R2(i,e){const n=bb(i);await yb(n,e,!0,!1)}async function yb(i,e,n,s){const o=await $C(i.localStore,_i(e)),u=o.targetId,f=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await I2(i,e,u,f==="current",o.resumeToken)),i.isPrimaryClient&&n&&ub(i.remoteStore,o),m}async function I2(i,e,n,s,o){i.Ha=(b,S,k)=>async function(Q,F,G,ae){let re=F.view.ba(G);re.ls&&(re=await L0(Q.localStore,F.query,!1).then(({documents:V})=>F.view.ba(V,re)));const ge=ae&&ae.targetChanges.get(F.targetId),he=ae&&ae.targetMismatches.get(F.targetId)!=null,ve=F.view.applyChanges(re,Q.isPrimaryClient,ge,he);return Q0(Q,F.targetId,ve.Ma),ve.snapshot}(i,b,S,k);const u=await L0(i.localStore,e,!0),f=new T2(e,u.gs),m=f.ba(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=f.applyChanges(m,i.isPrimaryClient,p);Q0(i,n,g.Ma);const v=new b2(e,n,f);return i.ka.set(e,v),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function x2(i,e,n){const s=Ce(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Qh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await rp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Bp(s.remoteStore,o.targetId),op(s,o.targetId)}).catch(To)):(op(s,o.targetId),await rp(s.localStore,o.targetId,!0))}async function C2(i,e){const n=Ce(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Bp(n.remoteStore,s.targetId))}async function N2(i,e,n){const s=U2(i);try{const o=await function(f,m){const p=Ce(f),g=Ot.now(),v=m.reduce((k,O)=>k.add(O.key),Ue());let b,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let O=lr(),Q=Ue();return p.ds.getEntries(k,v).next(F=>{O=F,O.forEach((G,ae)=>{ae.isValidDocument()||(Q=Q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,O)).next(F=>{b=F;const G=[];for(const ae of m){const re=$x(ae,b.get(ae.key).overlayedDocument);re!=null&&G.push(new os(ae.key,re,RT(re.value.mapValue),Gn.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,G,m)}).next(F=>{S=F;const G=F.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(k,F.batchId,G)})}).then(()=>({batchId:S.batchId,changes:UT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ut(Oe)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await _u(s,o.changes),await tf(s.remoteStore)}catch(o){const u=$p(o,"Failed to persist write");n.reject(u)}}async function _b(i,e){const n=Ce(i);try{const s=await HC(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await _u(n,s,e)}catch(s){await To(s)}}function K0(i,e,n){const s=Ce(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ce(f);p.onlineState=m;let g=!1;p.queries.forEach((v,b)=>{for(const S of b.ta)S.sa(m)&&(g=!0)}),g&&Yp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function D2(i,e,n){const s=Ce(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new ut(Ee.comparator);f=f.insert(u,rn.newNoDocument(u,xe.min()));const m=Ue().add(u),p=new Zh(xe.min(),new Map,new ut(Oe),f,m);await _b(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Zp(s)}else await rp(s.localStore,e,!1).then(()=>op(s,e,n)).catch(To)}async function O2(i,e){const n=Ce(i),s=e.batch.batchId;try{const o=await qC(n.localStore,e);Eb(n,s,null),vb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await To(o)}}async function M2(i,e,n){const s=Ce(i);try{const o=await function(f,m){const p=Ce(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>($e(b!==null),v=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>p.localDocuments.getDocuments(g,v))})}(s.localStore,e);Eb(s,e,n),vb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await To(o)}}function vb(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Eb(i,e,n){const s=Ce(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function op(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Tb(i,s)})}function Tb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(Bp(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),Zp(i))}function Q0(i,e,n){for(const s of n)s instanceof pb?(i.Ka.addReference(s.key,e),k2(i,s)):s instanceof gb?(de(Wp,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Tb(i,s.key)):Ie()}function k2(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(de(Wp,"New document in limbo: "+n),i.Qa.add(s),Zp(i))}function Zp(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new Ee(it.fromString(e)),s=i.za.next();i.Ua.set(s,new w2(n)),i.$a=i.$a.insert(n,s),ub(i.remoteStore,new $r(_i(Kh(n.path)),s,"TargetPurposeLimboResolution",Fh.ae))}}async function _u(i,e,n){const s=Ce(i),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var v;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(v=n==null?void 0:n.targetChanges.get(p.targetId))===null||v===void 0?void 0:v.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=jp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ie.forEach(g,S=>ie.forEach(S.Hi,k=>v.persistence.referenceDelegate.addReference(b,S.targetId,k)).next(()=>ie.forEach(S.Ji,k=>v.persistence.referenceDelegate.removeReference(b,S.targetId,k)))))}catch(b){if(!bo(b))throw b;de(zp,"Failed to update sequence numbers: "+b)}for(const b of g){const S=b.targetId;if(!b.fromCache){const k=v.Ts.get(S),O=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(O);v.Ts=v.Ts.insert(S,Q)}}}(s.localStore,u))}async function V2(i,e){const n=Ce(i);if(!n.currentUser.isEqual(e)){de(Wp,"User change. New user:",e.toKey());const s=await sb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Rs)}}function P2(i,e){const n=Ce(i),s=n.Ua.get(e);if(s&&s.Ba)return Ue().add(s.key);{let o=Ue();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function bb(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=_b.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=D2.bind(null,e),e.La.p_=v2.bind(null,e.eventManager),e.La.Ja=E2.bind(null,e.eventManager),e}function U2(i){const e=Ce(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=M2.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return BC(this.persistence,new LC,e.initialUser,this.serializer)}Xa(e){return new rb(Lp.ri,this.serializer)}Za(e){return new QC}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class L2 extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof xh);const s=this.persistence.referenceDelegate.garbageCollector;return new wC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new rb(s=>xh.ri(s,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>K0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=V2.bind(null,this.syncEngine),await g2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _2}()}createDatastore(e){const n=Jh(e.databaseInfo.databaseId),s=function(u){return new JC(u)}(e.databaseInfo);return function(u,f,m,p){return new i2(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new s2(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>K0(this.syncEngine,n,0),function(){return B0.D()?new B0:new YC}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,v){const b=new S2(o,u,f,m,p,g);return v&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ce(o);de(Js,"RemoteStore shutting down."),u.W_.add(5),await yu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="FirestoreClient";class j2{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=gT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{de(rs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(de(rs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=$p(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Vm(i,e){i.asyncQueue.verifyOperationInProgress(),de(rs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await sb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Y0(i,e){i.asyncQueue.verifyOperationInProgress();const n=await z2(i);de(rs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>H0(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>H0(e.remoteStore,o)),i._onlineComponents=e}async function z2(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){de(rs,"Using user provided OfflineComponentProvider");try{await Vm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await Vm(i,new Nh)}}else de(rs,"Using default OfflineComponentProvider"),await Vm(i,new L2(void 0));return i._offlineComponents}async function wb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(de(rs,"Using user provided OnlineComponentProvider"),await Y0(i,i._uninitializedComponentsProvider._online)):(de(rs,"Using default OnlineComponentProvider"),await Y0(i,new lp))),i._onlineComponents}function B2(i){return wb(i).then(e=>e.syncEngine)}async function Dh(i){const e=await wb(i),n=e.eventManager;return n.onListen=A2.bind(null,e.syncEngine),n.onUnlisten=x2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=R2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=C2.bind(null,e.syncEngine),n}function q2(i,e,n={}){const s=new ir;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new Jp({next:S=>{v.su(),f.enqueueAndForget(()=>Qp(u,b));const k=S.docs.has(m);!k&&S.fromCache?g.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Xp(Kh(m.path),v,{includeMetadataChanges:!0,Ta:!0});return Kp(u,b)}(await Dh(i),i.asyncQueue,e,n,s)),s.promise}function H2(i,e,n={}){const s=new ir;return i.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const v=new Jp({next:S=>{v.su(),f.enqueueAndForget(()=>Qp(u,b)),S.fromCache&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),b=new Xp(m,v,{includeMetadataChanges:!0,Ta:!0});return Kp(u,b)}(await Dh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function F2(i,e,n,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function W0(i){if(!Ee.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Z0(i){if(Ee.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function nf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ie()}function _n(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(i);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firestore.googleapis.com",J0=!0;class eE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rb,this.ssl=J0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:J0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<TC)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}F2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Sb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class rf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ZI;switch(s.type){case"firstParty":return new nx(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=X0.get(n);s&&(de("ComponentProvider","Removing Datastore"),X0.delete(n),s.terminate())}(this),Promise.resolve()}}function G2(i,e,n,s={}){var o;const u=(i=_n(i,rf))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==Rb&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Zr(p,f)&&(i._setSettings(p),s.mockUserToken)){let g,v;if(typeof s.mockUserToken=="string")g=s.mockUserToken,v=nn.MOCK_USER;else{g=IR(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new nn(b)}i._authCredentials=new JI(new mT(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Wr extends ls{constructor(e,n,s){super(e,n,Kh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new Ee(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function ss(i,e,...n){if(i=Rt(i),Ab("collection","path",e),i instanceof rf){const s=it.fromString(e,...n);return Z0(s),new Wr(i,null,s)}{if(!(i instanceof sn||i instanceof Wr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return Z0(s),new Wr(i.firestore,null,s)}}function Wt(i,e,...n){if(i=Rt(i),arguments.length===1&&(e=gT.newId()),Ab("doc","path",e),i instanceof rf){const s=it.fromString(e,...n);return W0(s),new sn(i,null,new Ee(s))}{if(!(i instanceof sn||i instanceof Wr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(it.fromString(e,...n));return W0(s),new sn(i.firestore,i instanceof Wr?i.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="AsyncQueue";class nE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ob(this,"async_queue_retry"),this.Su=()=>{const s=km();s&&de(tE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ir;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!bo(e))throw e;de(tE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw or("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ie()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function iE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ur extends rf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new nE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new nE(e),this._firestoreClient=void 0,await e}}}function $2(i,e){const n=typeof i=="object"?i:sT(),s=typeof i=="string"?i:wh,o=Ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=AR("firestore");u&&G2(o,...u)}return o}function sf(i){if(i._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||K2(i),i._firestoreClient}function K2(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,v){return new yx(m,p,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,Sb(v.experimentalLongPollingOptions),v.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new j2(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go(Xt.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=/^__.*__$/;class Y2{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class Ib{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new os(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function xb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie()}}class of{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Oh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(xb(this.Lu)&&Q2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class X2{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Jh(e)}ju(e,n,s,o=!1){return new of({Lu:e,methodName:n,zu:s,path:Yt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lf(i){const e=i._freezeSettings(),n=Jh(i._databaseId);return new X2(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Cb(i,e,n,s,o,u={}){const f=i.ju(u.merge||u.mergeFields?2:0,e,n,o);rg("Data must be an object, but it was:",f,s);const m=Nb(s,f);let p,g;if(u.merge)p=new Cn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const v=[];for(const b of u.mergeFields){const S=up(e,b,n);if(!f.contains(S))throw new me(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Ob(v,S)||v.push(S)}p=new Cn(v),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new Y2(new yn(m),p,g)}class uf extends vu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uf}}function W2(i,e,n){return new of({Lu:3,zu:e.settings.zu,methodName:i._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ng extends vu{_toFieldTransform(e){return new FT(e.path,new au)}isEqual(e){return e instanceof ng}}class ig extends vu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=W2(this,e,!0),s=this.Hu.map(u=>Ao(u,n)),o=new fo(s);return new FT(e.path,o)}isEqual(e){return e instanceof ig&&Zr(this.Hu,e.Hu)}}function Z2(i,e,n,s){const o=i.ju(1,e,n);rg("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();as(s,(p,g)=>{const v=sg(e,p,n);g=Rt(g);const b=o.Uu(v);if(g instanceof uf)u.push(v);else{const S=Ao(g,b);S!=null&&(u.push(v),f.set(v,S))}});const m=new Cn(u);return new Ib(f,m,o.fieldTransforms)}function J2(i,e,n,s,o,u){const f=i.ju(1,e,n),m=[up(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(up(e,u[S])),p.push(u[S+1]);const g=[],v=yn.empty();for(let S=m.length-1;S>=0;--S)if(!Ob(g,m[S])){const k=m[S];let O=p[S];O=Rt(O);const Q=f.Uu(k);if(O instanceof uf)g.push(k);else{const F=Ao(O,Q);F!=null&&(g.push(k),v.set(k,F))}}const b=new Cn(g);return new Ib(v,b,f.fieldTransforms)}function eN(i,e,n,s=!1){return Ao(n,i.ju(s?4:3,e))}function Ao(i,e){if(Db(i=Rt(i)))return rg("Unsupported field value:",e,i),Nb(i,e);if(i instanceof vu)return function(s,o){if(!xb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Ao(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Rt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Ot.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Ot){const u=new Ot(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof eg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof go)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof sn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Pp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof tg)return function(f,m){return{mapValue:{fields:{[ST]:{stringValue:AT},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Op(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${nf(s)}`)}(i,e)}function Nb(i,e){const n={};return _T(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(i,(s,o)=>{const u=Ao(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Db(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof eg||i instanceof go||i instanceof sn||i instanceof vu||i instanceof tg)}function rg(i,e,n){if(!Db(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=nf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function up(i,e,n){if((e=Rt(e))instanceof af)return e._internalPath;if(typeof e=="string")return sg(i,e);throw Oh("Field path arguments must be of type string or ",i,!1,void 0,n)}const tN=new RegExp("[~\\*/\\[\\]]");function sg(i,e,n){if(e.search(tN)>=0)throw Oh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new af(...e.split("."))._internalPath}catch{throw Oh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Oh(i,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+i+p)}function Ob(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new nN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(cf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class nN extends Mb{data(){return super.data()}}function cf(i,e){return typeof e=="string"?sg(i,e):e instanceof af?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ag{}class Vb extends ag{}function hf(i,e,...n){let s=[];e instanceof ag&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof og).length,m=u.filter(p=>p instanceof ff).length;if(f>1||f>0&&m>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class ff extends Vb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ff(e,n,s)}_apply(e){const n=this._parse(e);return Ub(e._query,n),new ls(e.firestore,e.converter,Zm(e._query,n))}_parse(e){const n=lf(e.firestore);return function(u,f,m,p,g,v,b){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){sE(b,v);const O=[];for(const Q of b)O.push(rE(p,u,Q));S={arrayValue:{values:O}}}else S=rE(p,u,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||sE(b,v),S=eN(m,f,b,v==="in"||v==="not-in");return At.create(g,v,S)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function iN(i,e,n){const s=e,o=cf("where",i);return ff._create(o,s,n)}class og extends ag{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new og(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)Ub(f,p),f=Zm(f,p)}(e._query,n),new ls(e.firestore,e.converter,Zm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class lg extends Vb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new lg(e,n)}_apply(e){const n=function(o,u,f){if(o.startAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new su(u,f)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new wo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Pb(i,e="asc"){const n=e,s=cf("orderBy",i);return lg._create(s,n)}function rE(i,e,n){if(typeof(n=Rt(n))=="string"){if(n==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MT(e)&&n.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(it.fromString(n));if(!Ee.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return v0(i,new Ee(s))}if(n instanceof sn)return v0(i,n._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function sE(i,e){if(!Array.isArray(i)||i.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ub(i,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class rN{convertValue(e,n="none"){switch(ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return as(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>vt(f.doubleValue));return new tg(u)}convertGeoPoint(e){return new eg(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=$h(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=es(e);return new Ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=it.fromString(e);$e(nb(s));const o=new iu(s.get(1),s.get(3)),u=new Ee(s.popFirst(5));return o.isEqual(n)||or(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jb extends Mb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new hh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(cf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class hh extends jb{data(e={}){return super.data(e)}}class zb{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new $l(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new hh(this._firestore,this._userDataWriter,s.key,s,new $l(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new hh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new $l(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),v=f.indexOf(m.doc.key)),{type:sN(m.type),doc:p,oldIndex:g,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function sN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(i){i=_n(i,sn);const e=_n(i.firestore,ur);return q2(sf(e),i._key).then(n=>Fb(e,i,n))}class ug extends rN{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function Bb(i){i=_n(i,ls);const e=_n(i.firestore,ur),n=sf(e),s=new ug(e);return kb(i._query),H2(n,i._query).then(o=>new zb(e,s,i,o))}function qb(i,e,n){i=_n(i,sn);const s=_n(i.firestore,ur),o=Lb(i.converter,e);return mf(s,[Cb(lf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Gn.none())])}function Ro(i,e,n,...s){i=_n(i,sn);const o=_n(i.firestore,ur),u=lf(o);let f;return f=typeof(e=Rt(e))=="string"||e instanceof af?J2(u,"updateDoc",i._key,e,n,s):Z2(u,"updateDoc",i._key,e),mf(o,[f.toMutation(i._key,Gn.exists(!0))])}function cg(i){return mf(_n(i.firestore,ur),[new Mp(i._key,Gn.none())])}function hg(i,e){const n=_n(i.firestore,ur),s=Wt(i),o=Lb(i.converter,e);return mf(n,[Cb(lf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,Gn.exists(!1))]).then(()=>s)}function Hb(i,...e){var n,s,o;i=Rt(i);let u={includeMetadataChanges:!1,source:"default"},f=0;typeof e[f]!="object"||iE(e[f])||(u=e[f],f++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(iE(e[f])){const b=e[f];e[f]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[f+1]=(s=b.error)===null||s===void 0?void 0:s.bind(b),e[f+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let p,g,v;if(i instanceof sn)g=_n(i.firestore,ur),v=Kh(i._key.path),p={next:b=>{e[f]&&e[f](Fb(g,i,b))},error:e[f+1],complete:e[f+2]};else{const b=_n(i,ls);g=_n(b.firestore,ur),v=b._query;const S=new ug(g);p={next:k=>{e[f]&&e[f](new zb(g,S,b,k))},error:e[f+1],complete:e[f+2]},kb(i._query)}return function(S,k,O,Q){const F=new Jp(Q),G=new Xp(k,F,O);return S.asyncQueue.enqueueAndForget(async()=>Kp(await Dh(S),G)),()=>{F.su(),S.asyncQueue.enqueueAndForget(async()=>Qp(await Dh(S),G))}}(sf(g),v,m,p)}function mf(i,e){return function(s,o){const u=new ir;return s.asyncQueue.enqueueAndForget(async()=>N2(await B2(s),o,u)),u.promise}(sf(i),e)}function Fb(i,e,n){const s=n.docs.get(e._key),o=new ug(i);return new jb(i,o,e._key,s,new $l(n.hasPendingWrites,n.fromCache),e.converter)}function Gb(){return new ng("serverTimestamp")}function aE(...i){return new ig("arrayUnion",i)}(function(e,n=!0){(function(o){Eo=o})(vo),oo(new Ws("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ur(new ex(s.getProvider("auth-internal")),new ix(f,s.getProvider("app-check-internal")),function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,v)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Yr(o0,l0,e),Yr(o0,l0,"esm2017")})();const Kt=[];for(let i=0;i<256;++i)Kt.push((i+256).toString(16).slice(1));function aN(i,e=0){return(Kt[i[e+0]]+Kt[i[e+1]]+Kt[i[e+2]]+Kt[i[e+3]]+"-"+Kt[i[e+4]]+Kt[i[e+5]]+"-"+Kt[i[e+6]]+Kt[i[e+7]]+"-"+Kt[i[e+8]]+Kt[i[e+9]]+"-"+Kt[i[e+10]]+Kt[i[e+11]]+Kt[i[e+12]]+Kt[i[e+13]]+Kt[i[e+14]]+Kt[i[e+15]]).toLowerCase()}let Pm;const oN=new Uint8Array(16);function lN(){if(!Pm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Pm=crypto.getRandomValues.bind(crypto)}return Pm(oN)}const uN=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),oE={randomUUID:uN};function cN(i,e,n){var o;if(oE.randomUUID&&!i)return oE.randomUUID();i=i||{};const s=i.random??((o=i.rng)==null?void 0:o.call(i))??lN();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,aN(s)}var hN="firebase",fN="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yr(hN,fN,"app");function fg(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function $b(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dN=$b,Kb=new du("auth","Firebase",$b());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new wp("@firebase/auth");function mN(i,...e){Mh.logLevel<=Pe.WARN&&Mh.warn(`Auth (${vo}): ${i}`,...e)}function fh(i,...e){Mh.logLevel<=Pe.ERROR&&Mh.error(`Auth (${vo}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw dg(i,...e)}function Ei(i,...e){return dg(i,...e)}function Qb(i,e,n){const s=Object.assign(Object.assign({},dN()),{[e]:n});return new du("auth","Firebase",s).create(e,{appName:i.name})}function rr(i){return Qb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dg(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return Kb.create(i,...e)}function Ae(i,e,...n){if(!i)throw dg(e,...n)}function er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function cr(i,e){i||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function pN(){return lE()==="http:"||lE()==="https:"}function lE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pN()||DR()||"connection"in navigator)?navigator.onLine:!0}function yN(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=xR()||OR()}get(){return gN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(i,e){cr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EN=new Eu(3e4,6e4);function us(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function cs(i,e,n,s,o={}){return Xb(i,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu(Object.assign({key:i.config.apiKey},f)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return NR()||(g.referrerPolicy="no-referrer"),Yb.fetch()(await Wb(i,i.config.apiHost,n,m),g)})}async function Xb(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},_N),e);try{const o=new bN(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw nh(i,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw nh(i,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw nh(i,"email-already-in-use",f);if(p==="USER_DISABLED")throw nh(i,"user-disabled",f);const v=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Qb(i,v,g);ei(i,v)}}catch(o){if(o instanceof fr)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Tu(i,e,n,s,o={}){const u=await cs(i,e,n,s,o);return"mfaPendingCredential"in u&&ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function Wb(i,e,n,s){const o=`${e}${n}?${s}`,u=i,f=u.config.emulator?mg(i.config,o):`${i.config.apiScheme}://${o}`;return vN.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function TN(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),EN.get())})}}function nh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(i,e,s);return o.customData._tokenResponse=n,o}function uE(i){return i!==void 0&&i.enterprise!==void 0}class wN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return TN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SN(i,e){return cs(i,"GET","/v2/recaptchaConfig",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(i,e){return cs(i,"POST","/v1/accounts:delete",e)}async function kh(i,e){return cs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(i,e=!1){const n=Rt(i),s=await n.getIdToken(e),o=pg(s);Ae(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Wl(Um(o.auth_time)),issuedAtTime:Wl(Um(o.iat)),expirationTime:Wl(Um(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Um(i){return Number(i)*1e3}function pg(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function cE(i){const e=pg(i);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&IN(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function IN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await lu(i,kh(n,{idToken:s}));Ae(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?Zb(u.providerUserInfo):[],m=NN(i.providerData,f),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),v=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new hp(u.createdAt,u.lastLoginAt),isAnonymous:v};Object.assign(i,b)}async function CN(i){const e=Rt(i);await Vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NN(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function Zb(i){return i.map(e=>{var{providerId:n}=e,s=fg(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DN(i,e){const n=await Xb(i,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,f=await Wb(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Yb.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ON(i,e){return cs(i,"POST","/v2/accounts:revokeToken",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=cE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await DN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(Ae(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ae(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ae(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(i,e){Ae(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Zn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=fg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new hp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return RN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(rr(this.auth));const e=await this.getIdToken();return await lu(this,AN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,v;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,O=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ae=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:re,emailVerified:ge,isAnonymous:he,providerData:ve,stsTokenManager:V}=n;Ae(re&&V,e,"internal-error");const I=ro.fromJSON(this.name,V);Ae(typeof re=="string",e,"internal-error"),Br(b,e.name),Br(S,e.name),Ae(typeof ge=="boolean",e,"internal-error"),Ae(typeof he=="boolean",e,"internal-error"),Br(k,e.name),Br(O,e.name),Br(Q,e.name),Br(F,e.name),Br(G,e.name),Br(ae,e.name);const x=new Zn({uid:re,auth:e,email:S,emailVerified:ge,displayName:b,isAnonymous:he,photoURL:O,phoneNumber:k,tenantId:Q,stsTokenManager:I,createdAt:G,lastLoginAt:ae});return ve&&Array.isArray(ve)&&(x.providerData=ve.map(A=>Object.assign({},A))),F&&(x._redirectEventId=F),x}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Zn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ae(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Zb(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new Zn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new hp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=new Map;function tr(i){cr(i instanceof Function,"Expected a class definition");let e=hE.get(i);return e?(cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,hE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jb.type="NONE";const fE=Jb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,n){return`firebase:${i}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?Zn._fromGetAccountInfoResponse(this.auth,n,e):null}return Zn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(tr(fE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||tr(fE);const f=dh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const v=await g._get(f);if(v){let b;if(typeof v=="string"){const S=await kh(e,{idToken:v}).catch(()=>{});if(!S)break;b=await Zn._fromGetAccountInfoResponse(e,S,v)}else b=Zn._fromJSON(e,v);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ew(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sw(e))return"Blackberry";if(aw(e))return"Webos";if(tw(e))return"Safari";if((e.includes("chrome/")||nw(e))&&!e.includes("edge/"))return"Chrome";if(rw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ew(i=an()){return/firefox\//i.test(i)}function tw(i=an()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nw(i=an()){return/crios\//i.test(i)}function iw(i=an()){return/iemobile/i.test(i)}function rw(i=an()){return/android/i.test(i)}function sw(i=an()){return/blackberry/i.test(i)}function aw(i=an()){return/webos/i.test(i)}function gg(i=an()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function MN(i=an()){var e;return gg(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function kN(){return MR()&&document.documentMode===10}function ow(i=an()){return gg(i)||rw(i)||aw(i)||sw(i)||/windows phone/i.test(i)||iw(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(i,e=[]){let n;switch(i){case"Browser":n=dE(an());break;case"Worker":n=`${dE(an())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${vo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PN(i,e={}){return cs(i,"GET","/v2/passwordPolicy",us(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=6;class LN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:UN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mE(this),this.idTokenSubscription=new mE(this),this.beforeStateQueue=new VN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),s=await Zn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(rr(this));const n=e?Rt(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PN(this),n=new LN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await ON(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&mN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ra(i){return Rt(i)}class mE{constructor(e){this.auth=e,this.observer=null,this.addObserver=BR(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zN(i){pf=i}function uw(i){return pf.loadJS(i)}function BN(){return pf.recaptchaEnterpriseScript}function qN(){return pf.gapiScript}function HN(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class FN{constructor(){this.enterprise=new GN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class GN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const $N="recaptcha-enterprise",cw="NO_RECAPTCHA";class KN{constructor(e){this.type=$N,this.auth=ra(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{SN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new wN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;uE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(cw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new FN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&uE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=BN();p.length!==0&&(p+=m),uw(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function pE(i,e,n,s=!1,o=!1){const u=new KN(i);let f;if(o)f=cw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function fp(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await pE(i,e,n,n==="getOobCode");return s(i,f)}else return s(i,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await pE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(i,e){const n=Ap(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Zr(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function YN(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function XN(i,e,n){const s=ra(i);Ae(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=hw(e),{host:f,port:m}=WN(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},v=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ae(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ae(Zr(g,s.config.emulator)&&Zr(v,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=v,s.settings.appVerificationDisabledForTesting=!0,ZN()}function hw(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function WN(i){const e=hw(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:gE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:gE(f)}}}function gE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ZN(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,n){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function JN(i,e){return cs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(i,e){return Tu(i,"POST","/v1/accounts:signInWithPassword",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",us(i,e))}async function nD(i,e){return Tu(i,"POST","/v1/accounts:signInWithEmailLink",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends yg{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,n,"signInWithPassword",eD);case"emailLink":return tD(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fp(e,s,"signUpPassword",JN);case"emailLink":return nD(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(i,e){return Tu(i,"POST","/v1/accounts:signInWithIdp",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD="http://localhost";class ea extends yg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=fg(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ea(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:iD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sD(i){const e=Bl(ql(i)).link,n=e?Bl(ql(e)).deep_link_id:null,s=Bl(ql(i)).deep_link_id;return(s?Bl(ql(s)).link:null)||s||n||e||i}class _g{constructor(e){var n,s,o,u,f,m;const p=Bl(ql(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,v=(s=p.oobCode)!==null&&s!==void 0?s:null,b=rD((o=p.mode)!==null&&o!==void 0?o:null);Ae(g&&v&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=v,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=sD(e);try{return new _g(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(){this.providerId=Io.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=_g.parseLink(n);return Ae(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Io.PROVIDER_ID="password";Io.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Io.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends fw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr extends bu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qr.credentialFromTaggedObject(e)}static credentialFromError(e){return qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qr.credential(e.oauthAccessToken)}catch{return null}}}qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ea._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ji.credential(n,s)}catch{return null}}}Ji.GOOGLE_SIGN_IN_METHOD="google.com";Ji.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends bu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hr.credentialFromTaggedObject(e)}static credentialFromError(e){return Hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hr.credential(e.oauthAccessToken)}catch{return null}}}Hr.GITHUB_SIGN_IN_METHOD="github.com";Hr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends bu{constructor(){super("twitter.com")}static credential(e,n){return ea._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Fr.credential(n,s)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(i,e){return Tu(i,"POST","/v1/accounts:signUp",us(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zn._fromIdTokenResponse(e,s,o),f=yE(s);return new ta({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=yE(s);return new ta({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function yE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends fr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function dw(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(i,u,e,s):u})}async function oD(i,e,n=!1){const s=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ta._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(i,e,n=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(rr(s));const o="reauthenticate";try{const u=await lu(i,dw(s,o,e,i),n);Ae(u.idToken,s,"internal-error");const f=pg(u.idToken);Ae(f,s,"internal-error");const{sub:m}=f;return Ae(i.uid===m,s,"user-mismatch"),ta._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mw(i,e,n=!1){if(Fn(i.app))return Promise.reject(rr(i));const s="signIn",o=await dw(i,s,e),u=await ta._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function uD(i,e){return mw(ra(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pw(i){const e=ra(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cD(i,e,n){if(Fn(i.app))return Promise.reject(rr(i));const s=ra(i),f=await fp(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&pw(i),p}),m=await ta._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function hD(i,e,n){return Fn(i.app)?Promise.reject(rr(i)):uD(Rt(i),Io.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&pw(i),s})}function fD(i,e,n,s){return Rt(i).onIdTokenChanged(e,n,s)}function dD(i,e,n){return Rt(i).beforeAuthStateChanged(e,n)}function mD(i,e,n,s){return Rt(i).onAuthStateChanged(e,n,s)}function pD(i){return Rt(i).signOut()}async function gD(i){return Rt(i).delete()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD=1e3,_D=10;class yw extends gw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);kN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,_D):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yw.type="LOCAL";const vD=yw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w extends gw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}_w.type="SESSION";const vw=_w;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new gf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await ED(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=vg("",20);o.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const S=b;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(v),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function bD(i){Ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function wD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SD(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function AD(){return Ew()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="firebaseLocalStorageDb",RD=1,Lh="firebaseLocalStorage",bw="fbase_key";class wu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(i,e){return i.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function ID(){const i=indexedDB.deleteDatabase(Tw);return new wu(i).toPromise()}function dp(){const i=indexedDB.open(Tw,RD);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Lh,{keyPath:bw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await ID(),e(await dp()))})})}async function _E(i,e,n){const s=yf(i,!0).put({[bw]:e,value:n});return new wu(s).toPromise()}async function xD(i,e){const n=yf(i,!1).get(e),s=await new wu(n).toPromise();return s===void 0?null:s.value}function vE(i,e){const n=yf(i,!0).delete(e);return new wu(n).toPromise()}const CD=800,ND=3;class ww{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ND)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gf._getInstance(AD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await wD(),!this.activeServiceWorker)return;this.sender=new TD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||SD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dp();return await _E(e,Uh,"1"),await vE(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>_E(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>xD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>vE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=yf(o,!1).getAll();return new wu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),CD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ww.type="LOCAL";const DD=ww;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(i,e){return e?tr(e):(Ae(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg extends yg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function MD(i){return mw(i.auth,new Eg(i),i.bypassAuthState)}function kD(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),lD(n,new Eg(i),i.bypassAuthState)}async function VD(i){const{auth:e,user:n}=i;return Ae(n,e,"internal-error"),oD(n,new Eg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MD;case"linkViaPopup":case"linkViaRedirect":return VD;case"reauthViaPopup":case"reauthViaRedirect":return kD;default:ei(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=new Eu(2e3,1e4);class no extends Sw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=vg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PD.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="pendingRedirect",mh=new Map;class LD extends Sw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await jD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jD(i,e){const n=qD(e),s=BD(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function zD(i,e){mh.set(i._key(),e)}function BD(i){return tr(i._redirectPersistence)}function qD(i){return dh(UD,i.config.apiKey,i.name)}async function HD(i,e,n=!1){if(Fn(i.app))return Promise.reject(rr(i));const s=ra(i),o=OD(s,e),f=await new LD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=10*60*1e3;class GD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$D(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Aw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FD&&this.cachedEventUids.clear(),this.cachedEventUids.has(EE(e))}saveEventToCache(e){this.cachedEventUids.add(EE(e)),this.lastProcessedEventTime=Date.now()}}function EE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Aw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $D(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(i,e={}){return cs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YD=/^https?/;async function XD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KD(i);for(const n of e)try{if(WD(n))return}catch{}ei(i,"unauthorized-domain")}function WD(i){const e=cp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const f=new URL(i);return f.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!YD.test(n))return!1;if(QD.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=new Eu(3e4,6e4);function TE(){const i=Ti().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function JD(i){return new Promise((e,n)=>{var s,o,u;function f(){TE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TE(),n(Ei(i,"network-request-failed"))},timeout:ZD.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)f();else{const m=HN("iframefcb");return Ti()[m]=()=>{gapi.load?f():n(Ei(i,"network-request-failed"))},uw(`${qN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ph=null,e})}let ph=null;function eO(i){return ph=ph||JD(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=new Eu(5e3,15e3),nO="__/auth/iframe",iO="emulator/auth/iframe",rO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aO(i){const e=i.config;Ae(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?mg(e,iO):`https://${i.config.authDomain}/${nO}`,s={apiKey:e.apiKey,appName:i.name,v:vo},o=sO.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function oO(i){const e=await eO(i),n=Ti().gapi;return Ae(n,i,"internal-error"),e.open({where:document.body,url:aO(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rO,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ei(i,"network-request-failed"),m=Ti().setTimeout(()=>{u(f)},tO.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uO=500,cO=600,hO="_blank",fO="http://localhost";class bE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dO(i,e,n,s=uO,o=cO){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},lO),{width:s.toString(),height:o.toString(),top:u,left:f}),g=an().toLowerCase();n&&(m=nw(g)?hO:n),ew(g)&&(e=e||fO,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[k,O])=>`${S}${k}=${O},`,"");if(MN(g)&&m!=="_self")return mO(e||"",m),new bE(null);const b=window.open(e||"",m,v);Ae(b,i,"popup-blocked");try{b.focus()}catch{}return new bE(b)}function mO(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO="__/auth/handler",gO="emulator/auth/handler",yO=encodeURIComponent("fac");async function wE(i,e,n,s,o,u){Ae(i.config.authDomain,i,"auth-domain-config-required"),Ae(i.config.apiKey,i,"invalid-api-key");const f={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:vo,eventId:o};if(e instanceof fw){e.setDefaultLanguage(i.languageCode),f.providerId=e.providerId||"",zR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))f[v]=b}if(e instanceof bu){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(f.scopes=v.join(","))}i.tenantId&&(f.tid=i.tenantId);const m=f;for(const v of Object.keys(m))m[v]===void 0&&delete m[v];const p=await i._getAppCheckToken(),g=p?`#${yO}=${encodeURIComponent(p)}`:"";return`${_O(i)}?${mu(m).slice(1)}${g}`}function _O({config:i}){return i.emulator?mg(i,gO):`https://${i.authDomain}/${pO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class vO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vw,this._completeRedirectFn=HD,this._overrideRedirectResult=zD}async _openPopup(e,n,s,o){var u;cr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await wE(e,n,s,cp(),o);return dO(e,f,vg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await wE(e,n,s,cp(),o);return bD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(cr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oO(e),s=new GD(e);return n.register("authEvent",o=>(Ae(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Lm];f!==void 0&&n(!!f),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ow()||tw()||gg()}}const EO=vO;var SE="@firebase/auth",AE="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bO(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wO(i){oo(new Ws("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ae(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lw(i)},g=new jN(s,o,u,p);return YN(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Ws("auth-internal",e=>{const n=ra(e.getProvider("auth").getImmediate());return(s=>new TO(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yr(SE,AE,bO(i)),Yr(SE,AE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO=5*60,AO=tT("authIdTokenMaxAge")||SO;let RE=null;const RO=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>AO)return;const o=n==null?void 0:n.token;RE!==o&&(RE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function xo(i=sT()){const e=Ap(i,"auth");if(e.isInitialized())return e.getImmediate();const n=QN(i,{popupRedirectResolver:EO,persistence:[DD,vD,vw]}),s=tT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RO(u.toString());dD(n,f,()=>f(n.currentUser)),fD(n,m=>f(m))}}const o=JE("auth");return o&&XN(n,`http://${o}`),n}function IO(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}zN({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",IO().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wO("Browser");const xO={apiKey:"AIzaSyCokHWur389mPNtqhX2ASGku6wYrOYmyto",authDomain:"togethr-4c885.firebaseapp.com",projectId:"togethr-4c885",storageBucket:"togethr-4c885.firebasestorage.app",messagingSenderId:"365466488270",appId:`1:365466488270:web:3d47582f2c917b86ae2f9f
`},Rw=rT(xO),ct=$2(Rw);xo(Rw);new Ji;let CO={data:""},NO=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||CO,DO=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,OO=/\/\*[^]*?\*\/|  +/g,IE=/\n+/g,Gr=(i,e)=>{let n="",s="",o="";for(let u in i){let f=i[u];u[0]=="@"?u[1]=="i"?n=u+" "+f+";":s+=u[1]=="f"?Gr(f,u):u+"{"+Gr(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=Gr(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Gr.p?Gr.p(u,f):u+":"+f+";")}return n+(e&&o?e+"{"+o+"}":o)+s},Zi={},Iw=i=>{if(typeof i=="object"){let e="";for(let n in i)e+=n+Iw(i[n]);return e}return i},MO=(i,e,n,s,o)=>{let u=Iw(i),f=Zi[u]||(Zi[u]=(p=>{let g=0,v=11;for(;g<p.length;)v=101*v+p.charCodeAt(g++)>>>0;return"go"+v})(u));if(!Zi[f]){let p=u!==i?i:(g=>{let v,b,S=[{}];for(;v=DO.exec(g.replace(OO,""));)v[4]?S.shift():v[3]?(b=v[3].replace(IE," ").trim(),S.unshift(S[0][b]=S[0][b]||{})):S[0][v[1]]=v[2].replace(IE," ").trim();return S[0]})(i);Zi[f]=Gr(o?{["@keyframes "+f]:p}:p,n?"":"."+f)}let m=n&&Zi.g?Zi.g:null;return n&&(Zi.g=Zi[f]),((p,g,v,b)=>{b?g.data=g.data.replace(b,p):g.data.indexOf(p)===-1&&(g.data=v?p+g.data:g.data+p)})(Zi[f],e,s,m),f},kO=(i,e,n)=>i.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Gr(m,""):m===!1?"":m}return s+o+(f??"")},"");function _f(i){let e=this||{},n=i.call?i(e.p):i;return MO(n.unshift?n.raw?kO(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,NO(e.target),e.g,e.o,e.k)}let xw,mp,pp;_f.bind({g:1});let hr=_f.bind({k:1});function VO(i,e,n,s){Gr.p=e,xw=i,mp=n,pp=s}function hs(i,e){let n=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:mp&&mp()},m),n.o=/ *go\d+/.test(p),m.className=_f.apply(n,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),pp&&g[0]&&pp(m),xw(g,m)}return o}}var PO=i=>typeof i=="function",jh=(i,e)=>PO(i)?i(e):i,UO=(()=>{let i=0;return()=>(++i).toString()})(),Cw=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),LO=20,Nw=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,LO)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return Nw(i,{type:i.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},gh=[],Xs={toasts:[],pausedAt:void 0},sa=i=>{Xs=Nw(Xs,i),gh.forEach(e=>{e(Xs)})},jO={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},zO=(i={})=>{let[e,n]=L.useState(Xs),s=L.useRef(Xs);L.useEffect(()=>(s.current!==Xs&&n(Xs),gh.push(n),()=>{let u=gh.indexOf(n);u>-1&&gh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((f=i[u.type])==null?void 0:f.removeDelay)||(i==null?void 0:i.removeDelay),duration:u.duration||((m=i[u.type])==null?void 0:m.duration)||(i==null?void 0:i.duration)||jO[u.type],style:{...i.style,...(p=i[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},BO=(i,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...n,id:(n==null?void 0:n.id)||UO()}),Su=i=>(e,n)=>{let s=BO(e,i,n);return sa({type:2,toast:s}),s.id},hn=(i,e)=>Su("blank")(i,e);hn.error=Su("error");hn.success=Su("success");hn.loading=Su("loading");hn.custom=Su("custom");hn.dismiss=i=>{sa({type:3,toastId:i})};hn.remove=i=>sa({type:4,toastId:i});hn.promise=(i,e,n)=>{let s=hn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?jh(e.success,o):void 0;return u?hn.success(u,{id:s,...n,...n==null?void 0:n.success}):hn.dismiss(s),o}).catch(o=>{let u=e.error?jh(e.error,o):void 0;u?hn.error(u,{id:s,...n,...n==null?void 0:n.error}):hn.dismiss(s)}),i};var qO=(i,e)=>{sa({type:1,toast:{id:i,height:e}})},HO=()=>{sa({type:5,time:Date.now()})},Zl=new Map,FO=1e3,GO=(i,e=FO)=>{if(Zl.has(i))return;let n=setTimeout(()=>{Zl.delete(i),sa({type:4,toastId:i})},e);Zl.set(i,n)},$O=i=>{let{toasts:e,pausedAt:n}=zO(i);L.useEffect(()=>{if(n)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&hn.dismiss(m.id);return}return setTimeout(()=>hn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,n]);let s=L.useCallback(()=>{n&&sa({type:6,time:Date.now()})},[n]),o=L.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},v=e.filter(k=>(k.position||g)===(u.position||g)&&k.height),b=v.findIndex(k=>k.id===u.id),S=v.filter((k,O)=>O<b&&k.visible).length;return v.filter(k=>k.visible).slice(...m?[S+1]:[0,S]).reduce((k,O)=>k+(O.height||0)+p,0)},[e]);return L.useEffect(()=>{e.forEach(u=>{if(u.dismissed)GO(u.id,u.removeDelay);else{let f=Zl.get(u.id);f&&(clearTimeout(f),Zl.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:qO,startPause:HO,endPause:s,calculateOffset:o}}},KO=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,QO=hr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YO=hr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,XO=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${KO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${QO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${YO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,WO=hr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ZO=hs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${WO} 1s linear infinite;
`,JO=hr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,eM=hr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,tM=hs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${JO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${eM} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nM=hs("div")`
  position: absolute;
`,iM=hs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,rM=hr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,sM=hs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${rM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,aM=({toast:i})=>{let{icon:e,type:n,iconTheme:s}=i;return e!==void 0?typeof e=="string"?L.createElement(sM,null,e):e:n==="blank"?null:L.createElement(iM,null,L.createElement(ZO,{...s}),n!=="loading"&&L.createElement(nM,null,n==="error"?L.createElement(XO,{...s}):L.createElement(tM,{...s})))},oM=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,lM=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,uM="0%{opacity:0;} 100%{opacity:1;}",cM="0%{opacity:1;} 100%{opacity:0;}",hM=hs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,fM=hs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,dM=(i,e)=>{let n=i.includes("top")?1:-1,[s,o]=Cw()?[uM,cM]:[oM(n),lM(n)];return{animation:e?`${hr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${hr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},mM=L.memo(({toast:i,position:e,style:n,children:s})=>{let o=i.height?dM(i.position||e||"top-center",i.visible):{opacity:0},u=L.createElement(aM,{toast:i}),f=L.createElement(fM,{...i.ariaProps},jh(i.message,i));return L.createElement(hM,{className:i.className,style:{...o,...n,...i.style}},typeof s=="function"?s({icon:u,message:f}):L.createElement(L.Fragment,null,u,f))});VO(L.createElement);var pM=({id:i,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=L.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return L.createElement("div",{ref:u,className:e,style:n},o)},gM=(i,e)=>{let n=i.includes("top"),s=n?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},yM=_f`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,ih=16,_M=({reverseOrder:i,position:e="top-center",toastOptions:n,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=$O(n);return L.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:ih,left:ih,right:ih,bottom:ih,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let v=g.position||e,b=p.calculateOffset(g,{reverseOrder:i,gutter:s,defaultPosition:e}),S=gM(v,b);return L.createElement(pM,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?yM:"",style:S},g.type==="custom"?jh(g.message,g):o?o(g):L.createElement(mM,{toast:g,position:v}))}))},mt=hn;const vM=async(i,e,n)=>{const s=cN().split("-")[0],o=Wt(ss(ct,"teams")),u={name:i,bio:e,inviteCode:s,members:[n],memberIds:[n],createdAt:Date.now()};return await qb(o,u),{id:o.id,...u}},Au=async i=>{const e=Wt(ct,"teams",i),n=await df(e);return n.exists()?{id:n.id,...n.data()}:null},gp=async(i,e)=>{const n=Wt(ct,"users",i);await Ro(n,e)},EM=async(i,e)=>{console.log("Firebase 1");const n=hf(ss(ct,"teams"),iN("inviteCode","==",i));console.log("Firebase 2");const s=await Bb(n);if(console.log("Firebase 3"),s.empty){mt.error("Team not found");return}console.log("Firebase 4");const u=s.docs[0].id;return console.log("Firebase 5"),await gp(e,{teamIds:aE(u)}),console.log("Firebase 6"),await Ro(Wt(ct,"teams",u),{memberIds:aE(e)}),console.log("Firebase 7"),Au(u)},xE=i=>{let e;const n=new Set,s=(g,v)=>{const b=typeof g=="function"?g(e):g;if(!Object.is(b,e)){const S=e;e=v??(typeof b!="object"||b===null)?b:Object.assign({},e,b),n.forEach(k=>k(e,S))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=i(s,o,m);return m},TM=i=>i?xE(i):xE,bM=i=>i;function wM(i,e=bM){const n=Vv.useSyncExternalStore(i.subscribe,()=>e(i.getState()),()=>e(i.getInitialState()));return Vv.useDebugValue(n),n}const CE=i=>{const e=TM(i),n=s=>wM(e,s);return Object.assign(n,e),n},SM=i=>i?CE(i):CE,_t=SM(i=>({user:null,authLoading:!0,teams:[],setUser:e=>i({user:e}),clearUser:()=>i({user:null}),updateUser:e=>i(n=>({user:{...n.user,...e}})),setAuthLoading:e=>i({authLoading:e}),setTeams:e=>i({teams:e})})),AM=async(i,e)=>{const n=ss(ct,"teams",i,"tasks");return(await hg(n,{...e,timestamp:Gb()})).id},RM=(i,e)=>{const n=hf(ss(ct,"teams",i,"tasks"),Pb("timestamp","desc"));return Hb(n,s=>{const o=s.docs.map(u=>({id:u.id,...u.data()}));e(o)})},IM=async(i,e,n)=>{const s=Wt(ct,"teams",i,"tasks",e);await Ro(s,n)},xM=async(i,e)=>{const n=Wt(ct,"teams",i,"tasks",e);await cg(n)},CM=async i=>{const e=[];for(const n of i){const s=Wt(ct,"users",n),o=await df(s);o.exists()&&e.push({id:n,...o.data()})}return e},NM=async i=>{const e=hf(ss(ct,"users",i,"tasks"));return(await Bb(e)).docs.map(s=>({id:s.id,...s.data()}))},DM=async(i,e)=>({id:(await hg(ss(ct,"users",i,"tasks"),e)).id,...e}),OM=async(i,e,n)=>{const s=Wt(ct,"users",i,"tasks",e);await Ro(s,n)},MM=async(i,e)=>{const n=Wt(ct,"users",i,"tasks",e);await cg(n)},Dw=({task:i,onSave:e})=>{const[n,s]=L.useState(!1),[o,u]=L.useState(i.title),f=L.useRef(null);L.useEffect(()=>{n&&f.current&&f.current.focus()},[n]);const m=()=>{o.trim()&&o!==i.title&&e(o),s(!1)},p=()=>{u(i.title),s(!1)};return R.jsx("div",{className:"relative",children:n?R.jsxs(R.Fragment,{children:[R.jsx("input",{ref:f,value:o,onChange:g=>u(g.target.value),className:"w-full bg-zinc-700 text-white px-3 py-2 rounded-md outline-none border border-zinc-600"}),R.jsxs("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 flex gap-3 bg-zinc-800 border border-zinc-600 rounded-md px-3 py-2 shadow-lg z-10",children:[R.jsx("button",{onClick:m,className:"text-green-400 hover:text-green-500",title:"Save",children:R.jsx(q1,{size:18})}),R.jsx("button",{onClick:p,className:"text-red-400 hover:text-red-500",title:"Cancel",children:R.jsx(mR,{size:18})})]})]}):R.jsx("div",{onClick:()=>s(!0),className:"cursor-pointer hover:bg-zinc-700 px-3 py-2 rounded-md transition",children:R.jsx("p",{className:"text-white",children:i.title||R.jsx("span",{className:"italic text-gray-400",children:"Untitled"})})})})},kM=()=>{const i=Bh(),e=Ri(),s=new URLSearchParams(e.search).get("tab")||"Personal Tasks",o=_t(A=>A.user),[u,f]=L.useState([]),[m,p]=L.useState(s),[g,v]=L.useState([]),b=["Personal Tasks","Team Boards"],[S,k]=L.useState(!0),[O,Q]=L.useState(!1),[F,G]=L.useState(""),[ae,re]=L.useState(""),[ge,he]=L.useState("todo"),ve={todo:g.filter(A=>A.status==="todo"),"in-progress":g.filter(A=>A.status==="in-progress"),done:g.filter(A=>A.status==="done")};L.useEffect(()=>{p(s)},[s]),L.useEffect(()=>{(async()=>{if(!o||!o.uid)return;k(!0);const N=await NM(o.uid);v(N||[]),k(!1)})()},[o==null?void 0:o.uid]),L.useEffect(()=>{(async()=>{var N;if(k(!0),(N=o==null?void 0:o.teamIds)!=null&&N.length){const j=await Promise.all(o.teamIds.map(M=>Au(M)));f(j.filter(Boolean))}k(!1)})()},[o==null?void 0:o.uid]);const V=async()=>{if(!o.uid){mt.error("Login to add Tasks");return}if(!F){mt.error("Enter the title");return}const A={title:"New Task",status:"todo",createdAt:new Date},N=await DM(o.uid,A);v(j=>[...j,N]),G(""),re(""),he("todo"),Q(!1)},I=async(A,N)=>{o!=null&&o.uid&&(await OM(o.uid,A,N),v(j=>j.map(M=>M.id===A?{...M,...N}:M)))},x=async A=>{o!=null&&o.uid&&(await MM(o.uid,A),v(N=>N.filter(j=>j.id!==A)))};return R.jsxs("div",{className:"max-w-6xl mx-auto px-4 py-8 space-y-10 text-white",children:[R.jsx("div",{className:"flex gap-6 border-b border-gray-600 mb-8",children:b.map(A=>R.jsx("button",{onClick:()=>i(`?tab=${A}`),className:`pb-2 border-b-2 font-medium text-sm transition-colors ${m===A?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-blue-400"}`,children:A},A))}),m==="Personal Tasks"&&R.jsxs("section",{children:[R.jsxs("div",{className:"flex items-center justify-between mb-6",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"My Tasks"}),R.jsx("div",{className:"flex gap-2",children:R.jsx("div",{className:"flex justify-center mt-8",children:R.jsx("button",{onClick:()=>Q(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md shadow-sm",children:"+ Add Task"})})})]}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-6",children:["todo","in-progress","done"].map(A=>R.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg shadow border border-zinc-700 flex flex-col",children:[R.jsx("h3",{className:"text-lg font-semibold mb-4 border-b pb-2 capitalize text-blue-400",children:A.replace("-"," ")}),R.jsx("ul",{className:"space-y-3 min-h-[30px] flex-1",children:ve[A].length>0?ve[A].map(N=>R.jsxs("li",{className:"bg-zinc-700 text-white p-3 rounded-md shadow-sm transition-colors flex justify-between items-center",children:[R.jsx(Dw,{task:N,onSave:j=>I(team.id,N.id)}),R.jsx("div",{className:"flex gap-2 items-center",children:R.jsx("button",{onClick:()=>x(N.id),className:"text-red-500 hover:text-red-300",title:"Delete",children:R.jsx(YE,{size:16})})})]},N.id)):R.jsx("li",{className:"text-gray-400 italic text-sm",children:"No tasks"})})]},A))})]}),O&&R.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:R.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg w-full max-w-md space-y-4",children:[R.jsx("h3",{className:"text-xl font-semibold",children:"Add New Task"}),R.jsx("input",{value:F,onChange:A=>G(A.target.value),type:"text",placeholder:"Title",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),R.jsx("textarea",{value:ae,onChange:A=>re(A.target.value),placeholder:"Description (optional)",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),R.jsxs("select",{value:ge,onChange:A=>he(A.target.value),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white",children:[R.jsx("option",{value:"todo",children:"To Do"}),R.jsx("option",{value:"in-progress",children:"In Progress"}),R.jsx("option",{value:"done",children:"Done"})]}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsx("button",{onClick:()=>Q(!1),className:"px-4 py-2 bg-gray-300 dark:bg-zinc-600 rounded",children:"Cancel"}),R.jsx("button",{onClick:V,className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),m==="Team Boards"&&R.jsxs("section",{children:[R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Team Boards"}),u.length>0?R.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(A=>R.jsxs("div",{className:"bg-zinc-800 hover:bg-zinc-700 transition p-4 rounded-lg cursor-pointer shadow",onClick:()=>i(`/teams/${A.id}`),children:[R.jsx("h3",{className:"text-lg font-semibold",children:A.name}),R.jsx("p",{className:"text-sm text-gray-400 truncate",children:A.bio})]},A.id))}):R.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"You’re not in any teams yet. Join or create a team to view team tasks."})]})]})},VM=async(i,e,n)=>{const s=xo();try{const u=(await cD(s,i,e)).user,f={uid:u.uid,email:u.email,name:n,bio:" ",profession:"",photoURL:""};return await qb(Wt(ct,"users",u.uid),f),f}catch(o){throw console.error("Sign up error:",o.message),o}},PM=async(i,e)=>{const n=xo();try{const o=(await hD(n,i,e)).user,u=Wt(ct,"users",o.uid),f=await df(u);return f.exists()?f.data():null}catch(s){throw console.error("Login error:",s.message),s}},UM=async()=>{const i=xo();await pD(i)},LM=async i=>{const n=xo().currentUser;n&&(await gD(n),await deleteDoc(Wt(ct,"users",i)))};//! login with redirect
const jM="/Togethr/assets/avatar-CC0QuunI.png",zM=()=>{const i=_t(O=>O.user),e=_t(O=>O.updateUser),n=_t(O=>O.setUser),{authLoading:s}=_t(),[o,u]=L.useState(!1),[f,m]=L.useState({name:"",bio:"",profession:""}),[p,g]=L.useState({email:"",password:"",name:""});//!result handeling with redirect
L.useEffect(()=>{i&&m({name:i.name||"",bio:i.bio||"",profession:i.profession||""})},[i]);const v=O=>{m(Q=>({...Q,[O.target.name]:O.target.value}))},b=async()=>{try{const O=await PM(p.email,p.password);O?(n(O),mt.success("Logged in!")):mt.error("No account found. Please sign up.")}catch(O){mt.error(O.message)}},S=async()=>{try{const O=await VM(p.email,p.password,p.name);n(O),mt.success("Account created and logged in.")}catch(O){O.code==="auth/email-already-in-use"?mt.error("Acc already exists . Try logging in."):mt.error(O.message)}},k=async()=>{if(!i){mt.error("Login first to edit profile");return}try{const O=Wt(ct,"users",i.uid);await Ro(O,f),e(f),u(!1),mt.success("Profile updated")}catch(O){console.error(O),mt.error("Failed to update profile")}};return s?R.jsx("div",{className:"text-center mt-10",children:R.jsx("div",{className:"spinner mx-auto"})}):i===null?R.jsx("div",{className:"flex justify-center mt-10 px-4",children:R.jsxs("div",{className:"w-full max-w-md bg-white dark:bg-zinc-800 p-6 rounded-xl shadow-lg space-y-6",children:[R.jsx("h2",{className:"text-2xl font-bold text-center",children:"Welcome"}),R.jsx("p",{className:"text-sm text-center text-gray-500 dark:text-gray-400",children:"Please log in or sign up to access your profile."}),R.jsxs("div",{className:"space-y-4",children:[R.jsx("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:O=>g({...p,email:O.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),R.jsx("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:O=>g({...p,password:O.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"}),R.jsx("input",{type:"text",name:"name",placeholder:"Name (for sign up)",value:p.name,onChange:O=>g({...p,name:O.target.value}),className:"w-full p-2 border rounded-md bg-gray-50 dark:bg-zinc-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none"})]}),R.jsxs("div",{className:"flex justify-between gap-4 mt-4",children:[R.jsx("button",{onClick:b,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-5 py-2 rounded-lg transition",children:"Login"}),R.jsx("button",{onClick:S,className:"w-full bg-green-600 hover:bg-green-700 text-white px-5 py-2 rounded-lg transition",children:"Sign Up"})]})]})}):R.jsx("div",{className:"max-w-xl mx-auto mt-10 bg-white dark:bg-zinc-800 p-6 rounded-xl shadow-md",children:R.jsxs("div",{className:"space-y-4",children:[R.jsx("div",{className:"flex justify-center",children:R.jsx("img",{src:i.photoURL||jM,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"})}),R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"Your Profile"}),!o&&R.jsx("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:underline",children:"Edit"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Name"}),R.jsx("input",{name:"name",value:f.name,onChange:v,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Bio"}),R.jsx("textarea",{name:"bio",value:f.bio,onChange:v,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),R.jsxs("div",{className:"space-y-2",children:[R.jsx("label",{className:"block text-sm font-medium",children:"Profession"}),R.jsx("input",{name:"profession",value:f.profession,onChange:v,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),o&&R.jsxs("div",{className:"flex gap-4 mt-4",children:[R.jsx("button",{onClick:k,onKeyDown:O=>{O.key==="Enter"&&k()},className:"bg-green-600 text-white px-4 py-2 rounded-md",children:"Save"}),R.jsx("button",{onClick:()=>{u(!1),m({name:i.name||"",bio:i.bio||"",profession:i.profession||""})},className:"bg-gray-400 text-white px-4 py-2 rounded-md",children:"Cancel"})]}),R.jsx("hr",{className:"my-6"}),R.jsxs("div",{className:"flex justify-between",children:[R.jsx("button",{onClick:UM,className:"bg-red-600 text-white px-4 py-2 rounded-md",children:"Logout"}),R.jsx("button",{onClick:()=>LM(i.uid),className:"bg-red-900 text-white px-4 py-2 rounded-md",children:"Delete Account"})]})]})})};var yh={exports:{}},BM=yh.exports,NE;function qM(){return NE||(NE=1,function(i,e){(function(n,s){i.exports=s()})(BM,function(){var n=1e3,s=6e4,o=36e5,u="millisecond",f="second",m="minute",p="hour",g="day",v="week",b="month",S="quarter",k="year",O="date",Q="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,G=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ae={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ye){var le=["th","st","nd","rd"],U=ye%100;return"["+ye+(le[(U-20)%10]||le[U]||le[0])+"]"}},re=function(ye,le,U){var X=String(ye);return!X||X.length>=le?ye:""+Array(le+1-X.length).join(U)+ye},ge={s:re,z:function(ye){var le=-ye.utcOffset(),U=Math.abs(le),X=Math.floor(U/60),Z=U%60;return(le<=0?"+":"-")+re(X,2,"0")+":"+re(Z,2,"0")},m:function ye(le,U){if(le.date()<U.date())return-ye(U,le);var X=12*(U.year()-le.year())+(U.month()-le.month()),Z=le.clone().add(X,b),ce=U-Z<0,C=le.clone().add(X+(ce?-1:1),b);return+(-(X+(U-Z)/(ce?Z-C:C-Z))||0)},a:function(ye){return ye<0?Math.ceil(ye)||0:Math.floor(ye)},p:function(ye){return{M:b,y:k,w:v,d:g,D:O,h:p,m,s:f,ms:u,Q:S}[ye]||String(ye||"").toLowerCase().replace(/s$/,"")},u:function(ye){return ye===void 0}},he="en",ve={};ve[he]=ae;var V="$isDayjsObject",I=function(ye){return ye instanceof j||!(!ye||!ye[V])},x=function ye(le,U,X){var Z;if(!le)return he;if(typeof le=="string"){var ce=le.toLowerCase();ve[ce]&&(Z=ce),U&&(ve[ce]=U,Z=ce);var C=le.split("-");if(!Z&&C.length>1)return ye(C[0])}else{var W=le.name;ve[W]=le,Z=W}return!X&&Z&&(he=Z),Z||!X&&he},A=function(ye,le){if(I(ye))return ye.clone();var U=typeof le=="object"?le:{};return U.date=ye,U.args=arguments,new j(U)},N=ge;N.l=x,N.i=I,N.w=function(ye,le){return A(ye,{locale:le.$L,utc:le.$u,x:le.$x,$offset:le.$offset})};var j=function(){function ye(U){this.$L=x(U.locale,null,!0),this.parse(U),this.$x=this.$x||U.x||{},this[V]=!0}var le=ye.prototype;return le.parse=function(U){this.$d=function(X){var Z=X.date,ce=X.utc;if(Z===null)return new Date(NaN);if(N.u(Z))return new Date;if(Z instanceof Date)return new Date(Z);if(typeof Z=="string"&&!/Z$/i.test(Z)){var C=Z.match(F);if(C){var W=C[2]-1||0,oe=(C[7]||"0").substring(0,3);return ce?new Date(Date.UTC(C[1],W,C[3]||1,C[4]||0,C[5]||0,C[6]||0,oe)):new Date(C[1],W,C[3]||1,C[4]||0,C[5]||0,C[6]||0,oe)}}return new Date(Z)}(U),this.init()},le.init=function(){var U=this.$d;this.$y=U.getFullYear(),this.$M=U.getMonth(),this.$D=U.getDate(),this.$W=U.getDay(),this.$H=U.getHours(),this.$m=U.getMinutes(),this.$s=U.getSeconds(),this.$ms=U.getMilliseconds()},le.$utils=function(){return N},le.isValid=function(){return this.$d.toString()!==Q},le.isSame=function(U,X){var Z=A(U);return this.startOf(X)<=Z&&Z<=this.endOf(X)},le.isAfter=function(U,X){return A(U)<this.startOf(X)},le.isBefore=function(U,X){return this.endOf(X)<A(U)},le.$g=function(U,X,Z){return N.u(U)?this[X]:this.set(Z,U)},le.unix=function(){return Math.floor(this.valueOf()/1e3)},le.valueOf=function(){return this.$d.getTime()},le.startOf=function(U,X){var Z=this,ce=!!N.u(X)||X,C=N.p(U),W=function(kt,at){var Vt=N.w(Z.$u?Date.UTC(Z.$y,at,kt):new Date(Z.$y,at,kt),Z);return ce?Vt:Vt.endOf(g)},oe=function(kt,at){return N.w(Z.toDate()[kt].apply(Z.toDate("s"),(ce?[0,0,0,0]:[23,59,59,999]).slice(at)),Z)},se=this.$W,fe=this.$M,be=this.$D,Te="set"+(this.$u?"UTC":"");switch(C){case k:return ce?W(1,0):W(31,11);case b:return ce?W(1,fe):W(0,fe+1);case v:var tt=this.$locale().weekStart||0,qe=(se<tt?se+7:se)-tt;return W(ce?be-qe:be+(6-qe),fe);case g:case O:return oe(Te+"Hours",0);case p:return oe(Te+"Minutes",1);case m:return oe(Te+"Seconds",2);case f:return oe(Te+"Milliseconds",3);default:return this.clone()}},le.endOf=function(U){return this.startOf(U,!1)},le.$set=function(U,X){var Z,ce=N.p(U),C="set"+(this.$u?"UTC":""),W=(Z={},Z[g]=C+"Date",Z[O]=C+"Date",Z[b]=C+"Month",Z[k]=C+"FullYear",Z[p]=C+"Hours",Z[m]=C+"Minutes",Z[f]=C+"Seconds",Z[u]=C+"Milliseconds",Z)[ce],oe=ce===g?this.$D+(X-this.$W):X;if(ce===b||ce===k){var se=this.clone().set(O,1);se.$d[W](oe),se.init(),this.$d=se.set(O,Math.min(this.$D,se.daysInMonth())).$d}else W&&this.$d[W](oe);return this.init(),this},le.set=function(U,X){return this.clone().$set(U,X)},le.get=function(U){return this[N.p(U)]()},le.add=function(U,X){var Z,ce=this;U=Number(U);var C=N.p(X),W=function(fe){var be=A(ce);return N.w(be.date(be.date()+Math.round(fe*U)),ce)};if(C===b)return this.set(b,this.$M+U);if(C===k)return this.set(k,this.$y+U);if(C===g)return W(1);if(C===v)return W(7);var oe=(Z={},Z[m]=s,Z[p]=o,Z[f]=n,Z)[C]||1,se=this.$d.getTime()+U*oe;return N.w(se,this)},le.subtract=function(U,X){return this.add(-1*U,X)},le.format=function(U){var X=this,Z=this.$locale();if(!this.isValid())return Z.invalidDate||Q;var ce=U||"YYYY-MM-DDTHH:mm:ssZ",C=N.z(this),W=this.$H,oe=this.$m,se=this.$M,fe=Z.weekdays,be=Z.months,Te=Z.meridiem,tt=function(at,Vt,vn,Nn){return at&&(at[Vt]||at(X,ce))||vn[Vt].slice(0,Nn)},qe=function(at){return N.s(W%12||12,at,"0")},kt=Te||function(at,Vt,vn){var Nn=at<12?"AM":"PM";return vn?Nn.toLowerCase():Nn};return ce.replace(G,function(at,Vt){return Vt||function(vn){switch(vn){case"YY":return String(X.$y).slice(-2);case"YYYY":return N.s(X.$y,4,"0");case"M":return se+1;case"MM":return N.s(se+1,2,"0");case"MMM":return tt(Z.monthsShort,se,be,3);case"MMMM":return tt(be,se);case"D":return X.$D;case"DD":return N.s(X.$D,2,"0");case"d":return String(X.$W);case"dd":return tt(Z.weekdaysMin,X.$W,fe,2);case"ddd":return tt(Z.weekdaysShort,X.$W,fe,3);case"dddd":return fe[X.$W];case"H":return String(W);case"HH":return N.s(W,2,"0");case"h":return qe(1);case"hh":return qe(2);case"a":return kt(W,oe,!0);case"A":return kt(W,oe,!1);case"m":return String(oe);case"mm":return N.s(oe,2,"0");case"s":return String(X.$s);case"ss":return N.s(X.$s,2,"0");case"SSS":return N.s(X.$ms,3,"0");case"Z":return C}return null}(at)||C.replace(":","")})},le.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},le.diff=function(U,X,Z){var ce,C=this,W=N.p(X),oe=A(U),se=(oe.utcOffset()-this.utcOffset())*s,fe=this-oe,be=function(){return N.m(C,oe)};switch(W){case k:ce=be()/12;break;case b:ce=be();break;case S:ce=be()/3;break;case v:ce=(fe-se)/6048e5;break;case g:ce=(fe-se)/864e5;break;case p:ce=fe/o;break;case m:ce=fe/s;break;case f:ce=fe/n;break;default:ce=fe}return Z?ce:N.a(ce)},le.daysInMonth=function(){return this.endOf(b).$D},le.$locale=function(){return ve[this.$L]},le.locale=function(U,X){if(!U)return this.$L;var Z=this.clone(),ce=x(U,X,!0);return ce&&(Z.$L=ce),Z},le.clone=function(){return N.w(this.$d,this)},le.toDate=function(){return new Date(this.valueOf())},le.toJSON=function(){return this.isValid()?this.toISOString():null},le.toISOString=function(){return this.$d.toISOString()},le.toString=function(){return this.$d.toUTCString()},ye}(),M=j.prototype;return A.prototype=M,[["$ms",u],["$s",f],["$m",m],["$H",p],["$W",g],["$M",b],["$y",k],["$D",O]].forEach(function(ye){M[ye[1]]=function(le){return this.$g(le,ye[0],ye[1])}}),A.extend=function(ye,le){return ye.$i||(ye(le,j,A),ye.$i=!0),A},A.locale=x,A.isDayjs=I,A.unix=function(ye){return A(1e3*ye)},A.en=ve[he],A.Ls=ve,A.p={},A})}(yh)),yh.exports}var HM=qM();const FM=DE(HM),GM=()=>{const{user:i,teams:e}=_t(),[n,s]=L.useState(null),[o,u]=L.useState(""),[f,m]=L.useState([]),p=L.useRef(null);L.useEffect(()=>{e.length>0&&!n&&s(e[0].id)},[e,n]);const g=e.find(S=>S.id===n);L.useEffect(()=>{if(!g)return;const S=hf(ss(ct,"teams",n,"messages"),Pb("createdAt")),k=Hb(S,O=>{m(O.docs.map(Q=>({id:Q.id,...Q.data()})))});return()=>k()},[n]),L.useEffect(()=>{var S;(S=p.current)==null||S.scrollIntoView({behavior:"smooth"})},[f]);const v=async()=>{var S;o.trim()&&(console.log("Sending as:",i.displayName),await hg(ss(ct,"teams",n,"messages"),{text:o,sender:i.name||((S=i.email)==null?void 0:S.split("@")[0])||"Anonymous",uid:i.uid,createdAt:Gb()}),u(""))},b=S=>{S.key==="Enter"&&!S.shiftKey&&(S.preventDefault(),v())};return e.length?R.jsxs("div",{className:"h-screen bg-zinc-900 text-white flex overflow-hidden",children:[R.jsxs("div",{className:"w-full sm:w-1/4 bg-zinc-800 border-r border-zinc-700 p-4",children:[R.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Teams"}),R.jsx("ul",{className:"space-y-2 overflow-y-auto max-h-[calc(100vh-5rem)]",children:e.map(S=>R.jsx("li",{onClick:()=>s(S.id),className:`p-3 rounded cursor-pointer transition ${S.id===n?"bg-blue-600 text-white":"bg-zinc-700 hover:bg-zinc-600 text-gray-200"}`,children:S.name},S.id))})]}),R.jsx("div",{className:"flex flex-col flex-1 h-full",children:g&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"flex items-center p-4 bg-zinc-800 border-b border-zinc-700",children:[R.jsx("button",{className:"sm:hidden mr-2",onClick:()=>s(null),children:R.jsx(F1,{})}),R.jsx("h3",{className:"text-lg font-semibold",children:g.name})]}),R.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-3 space-y-4 bg-zinc-900",children:[f.length>0?f.map((S,k)=>{var G;const O=S.uid===i.uid,Q=f[k-1],F=(Q==null?void 0:Q.uid)===S.uid;return R.jsxs("div",{className:`max-w-[75%] ${O?"ml-auto text-right":"mr-auto"}`,children:[!O&&!F&&R.jsx("p",{className:"text-xs text-gray-400 mb-1",children:S.sender}),R.jsxs("div",{className:`p-3 rounded-lg text-sm shadow break-words inline-block ${O?"bg-blue-600 text-white":"bg-zinc-700 text-white"}`,children:[S.text,R.jsx("div",{className:"text-[10px] mt-1 text-gray-300 text-right",children:(G=S.createdAt)!=null&&G.seconds?FM.unix(S.createdAt.seconds).format("HH:mm"):"Sending..."})]})]},S.id)}):R.jsx("p",{className:"text-gray-400 text-center italic",children:"No messages yet."}),R.jsx("div",{ref:p})]}),R.jsx("div",{className:"p-4 border-t border-zinc-700 bg-zinc-800",children:R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("textarea",{value:o,onChange:S=>u(S.target.value),onKeyDown:b,placeholder:"Type a message...",rows:1,className:"w-full p-2 rounded-md bg-zinc-700 text-white resize-none"}),R.jsx("button",{onClick:v,className:"p-2 rounded bg-blue-600 hover:bg-blue-700 transition",children:R.jsx(oR,{className:"w-6 h-6"})})]})})]})})]}):R.jsx("div",{className:"h-screen bg-zinc-900 text-white flex items-center justify-center",children:R.jsx("p",{className:"text-lg text-gray-400",children:"Join a team to view the chat."})})},$M=()=>{const i=xo(),e=_t.getState().setUser,n=_t.getState().clearUser,s=_t.getState().setAuthLoading;return mD(i,async o=>{if(!o){n(),s(!1);return}const u=Wt(ct,"users",o.uid),f=await df(u);f.exists()?e({uid:o.uid,...f.data()}):(console.warn("User logged in but no Firestore data found."),n()),s(!1)})},KM=()=>{const i=_t(n=>n.user),e=_t(n=>n.setTeams);L.useEffect(()=>{(async()=>{var s;if((s=i==null?void 0:i.teamIds)!=null&&s.length&&_t.getState().teams.length===0){const o=await Promise.all(i.teamIds.map(Au));e(o.filter(Boolean))}})()},[i])},QM=()=>{const i=_t(G=>G.user),e=_t(G=>G.updateUser),n=_t(G=>G.teams),s=_t(G=>G.setTeams),{authLoading:o,setAuthLoading:u}=_t(),[f,m]=L.useState(!1),[p,g]=L.useState(!1),[v,b]=L.useState({name:"",bio:""}),[S,k]=L.useState(""),O=Bh();L.useEffect(()=>{(async()=>{var ae;if((ae=i==null?void 0:i.teamIds)!=null&&ae.length){const re=await Promise.all(i.teamIds.map(ge=>Au(ge)));s(re.filter(Boolean))}u(!1)})()},[i]);const Q=async()=>{if(!(i!=null&&i.uid))return mt.error("Login to create team.");if(!v.name||!v.bio)return mt.error("Enter all fields");const G=await vM(v.name,v.bio,i.uid),ae=[...i.teamIds||[],G.id];await gp(i.uid,{teamIds:ae}),e({teamIds:ae}),_t.getState().setTeams([..._t.getState().teams,G]),mt.success("Team created!"),m(!1),b({name:"",bio:""})},F=async()=>{if(!S)return mt.error("Enter Invite Code");if(!(i!=null&&i.uid))return mt.error("Login to Join");try{const G=await EM(S,i.uid),ae=Array.from(new Set([...i.teamIds||[],G.id]));await gp(i.uid,{teamIds:ae}),e({teamIds:ae}),_t.getState().setTeams([..._t.getState().teams,G]),mt.success("Joined team!"),k(""),g(!1)}catch(G){mt.error(G.message||"Failed to join team.")}};return o?R.jsx("div",{className:"max-w-4xl mx-auto p-6 mt-10",children:R.jsx("p",{className:"text-center text-gray-400",children:"Loading..."})}):R.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 space-y-6",children:[R.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teams"}),R.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[R.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-blue-500",onClick:()=>m(!0),children:[R.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create a Team"}),R.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Start a new team with a name and bio."})]}),R.jsxs("div",{onClick:()=>g(!0),className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-green-500",children:[R.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Join a Team"}),R.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Enter an invite code to join an existing team."})]})]}),R.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(G=>R.jsxs("div",{onClick:()=>O(`/teams/${G.id}`),className:"group bg-white dark:bg-zinc-800 border border-zinc-200 dark:border-zinc-700 rounded-2xl p-6 shadow-sm hover:shadow-lg hover:ring-1 hover:ring-blue-500 cursor-pointer",children:[R.jsxs("div",{className:"flex items-start justify-between mb-3",children:[R.jsx("h2",{className:"text-lg font-semibold",children:G.name}),R.jsx("span",{className:"text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200 px-2 py-1 rounded",children:"Team"})]}),R.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:G.bio}),R.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[R.jsx("span",{className:"font-medium",children:"Invite Code:"})," ",R.jsx("code",{onClick:ae=>ae.stopPropagation(),className:"bg-gray-100 dark:bg-zinc-700 px-1 py-0.5 rounded",children:G.inviteCode})]})]},G.id))}),f&&R.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:R.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg w-[90%] max-w-md",children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Create a Team"}),R.jsx("input",{type:"text",placeholder:"Team Name",value:v.name,onChange:G=>b({...v,name:G.target.value}),className:"w-full p-2 mb-2 border rounded dark:bg-zinc-700 dark:text-white"}),R.jsx("textarea",{placeholder:"Team Bio",value:v.bio,onChange:G=>b({...v,bio:G.target.value}),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsx("button",{className:"px-4 py-2 rounded bg-gray-300 dark:bg-zinc-700",onClick:()=>m(!1),children:"Cancel"}),R.jsx("button",{className:"px-4 py-2 rounded bg-blue-600 text-white",onClick:Q,children:"Create"})]})]})}),p&&R.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center",children:R.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg w-[90%] max-w-md",children:[R.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Join a Team"}),R.jsx("input",{type:"text",placeholder:"Invite Code",value:S,onChange:G=>k(G.target.value),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsx("button",{className:"px-4 py-2 rounded bg-gray-300 dark:bg-zinc-700",onClick:()=>g(!1),children:"Cancel"}),R.jsx("button",{className:"px-4 py-2 rounded bg-green-600 text-white",onClick:F,children:"Join"})]})]})})]})},YM=({team:i,onEdit:e,onDelete:n})=>{const[s,o]=L.useState(!1),[u,f]=L.useState(i.name||""),[m,p]=L.useState(i.bio||""),g=()=>{navigator.clipboard.writeText(i.inviteCode),mt.success("Invite code copied to clipboard")},v=()=>{u.trim()&&(e({name:u,bio:m}),o(!1))};return R.jsxs("div",{className:"max-w-4xl mx-auto space-y-10 px-4 md:px-8 text-white",children:[R.jsxs("div",{children:[R.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"Team Settings"}),R.jsx("p",{className:"text-gray-400 text-sm",children:"Manage your team’s info and preferences"})]}),R.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-md p-6 space-y-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Team Info"}),!s&&R.jsxs("button",{onClick:()=>o(!0),className:"flex items-center text-sm text-blue-500 hover:text-blue-300",children:[R.jsx(sR,{size:16,className:"mr-1"})," Edit"]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Name"}),s?R.jsx("input",{type:"text",value:u,onChange:b=>f(b.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-3 py-2 text-white"}):R.jsx("p",{children:i.name})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Description"}),s?R.jsx("textarea",{value:m,onChange:b=>p(b.target.value),className:"w-full bg-zinc-700 border border-zinc-600 rounded px-3 py-2 text-white"}):R.jsx("p",{children:i.bio})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Created At"}),R.jsx("p",{children:new Date(i.createdAt).toLocaleString()})]})]}),s&&R.jsxs("div",{className:"flex gap-3 pt-4",children:[R.jsx("button",{onClick:()=>o(!1),className:"bg-zinc-600 hover:bg-zinc-500 text-white px-4 py-2 rounded-md text-sm",children:"Cancel"}),R.jsx("button",{onClick:v,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md text-sm",children:"Save Changes"})]})]}),R.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-md p-6 space-y-2",children:[R.jsx("h3",{className:"text-lg font-medium text-blue-400",children:"Invite Code"}),R.jsxs("div",{className:"flex items-center justify-between bg-zinc-700 px-4 py-2 rounded",children:[R.jsx("code",{className:"text-sm",children:i.inviteCode}),R.jsx("button",{onClick:g,className:"text-blue-400 hover:text-blue-300",title:"Copy invite code",children:R.jsx(X1,{size:18})})]})]}),R.jsxs("div",{className:"bg-zinc-800 border border-red-600 rounded-md p-6 space-y-3",children:[R.jsx("h3",{className:"text-lg font-semibold text-red-500",children:"Danger Zone"}),R.jsx("p",{className:"text-sm text-gray-400",children:"This will permanently delete your team and all associated data."}),R.jsx("button",{onClick:n,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm",children:"Delete This Team"})]})]})},XM=({team:i,teamId:e})=>{const n=Ri(),s=Bh(),u=new URLSearchParams(n.search).get("tab")||"Tasks",[f,m]=L.useState(u),p=["Tasks","Members","Activity","Settings"],[g,v]=L.useState([]),[b,S]=L.useState(!1),[k,O]=L.useState(""),[Q,F]=L.useState(""),[G,ae]=L.useState("todo"),[re,ge]=L.useState(null),[he,ve]=L.useState(null),[V,I]=L.useState(i);L.useEffect(()=>{if(!(i!=null&&i.id))return;const A=RM(i.id,v);return()=>A()},[i==null?void 0:i.id]),L.useEffect(()=>{I(i)},[i]),L.useEffect(()=>{(async()=>{if(i!=null&&i.memberIds){const N=await CM(i.memberIds);ve(N)}})()},[i==null?void 0:i.memberIds]),L.useEffect(()=>{m(u)},[u]);const x=async()=>{!(i!=null&&i.id)||!k.trim()||(await AM(i.id,{title:k,description:Q,status:G}),S(!1),O(""),F(""),ae("todo"))};return R.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-10 text-gray-100 ",children:[R.jsxs("div",{className:"mb-8",children:[R.jsx("h1",{className:"text-4xl font-bold text-white",children:V==null?void 0:V.name}),R.jsx("p",{className:"text-gray-400 mt-2 text-base",children:V==null?void 0:V.bio})]}),R.jsx("div",{className:"flex gap-6 border-b border-gray-600 mb-8",children:p.map(A=>R.jsx("button",{onClick:()=>{s(`?tab=${A}`)},className:`pb-2 border-b-2 font-medium text-sm transition-colors ${f===A?"border-blue-500 text-blue-500":"border-transparent text-gray-400 hover:text-blue-400"}`,children:A},A))}),R.jsxs("div",{children:[f==="Tasks"&&R.jsxs("div",{className:"space-y-6",children:[R.jsx("h2",{className:"text-2xl font-bold text-white",children:"Team Tasks"}),g.length>0?R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:["todo","in-progress","done"].map(A=>R.jsxs("div",{className:"bg-zinc-800 border border-zinc-700 rounded-md p-4 shadow-md",children:[R.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-3 border-b border-zinc-600 pb-2 capitalize",children:A.replace("-"," ")}),R.jsx("ul",{className:"space-y-3 min-h-[40px]",children:g.filter(N=>N.status===A).length>0?g.filter(N=>N.status===A).map(N=>R.jsxs("li",{className:"bg-zinc-700 text-white p-3 rounded-md shadow-sm transition-colors flex justify-between items-center",children:[R.jsx(Dw,{task:N,onSave:j=>IM(i.id,N.id,{title:j})}),R.jsx("div",{className:"flex gap-2 items-center",children:R.jsx("button",{onClick:()=>xM(e,N.id),className:"text-red-500 hover:text-red-300",title:"Delete",children:R.jsx(YE,{size:16})})})]},N.id)):R.jsx("li",{className:"text-gray-400 italic text-sm",children:"No tasks"})})]},A))}):R.jsx("div",{className:"text-center text-gray-400 italic mt-10",children:"No tasks yet. Start by adding one."}),R.jsx("div",{className:"flex justify-center",children:R.jsx("button",{onClick:()=>S(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-md shadow-sm",children:"+ Add Task"})})]}),b&&R.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:R.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg w-full max-w-md space-y-4",children:[R.jsx("h3",{className:"text-xl font-semibold",children:"Add New Task"}),R.jsx("input",{value:k,onChange:A=>O(A.target.value),type:"text",placeholder:"Title",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),R.jsx("textarea",{value:Q,onChange:A=>F(A.target.value),placeholder:"Description",className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),R.jsxs("select",{value:G,onChange:A=>ae(A.target.value),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white",children:[R.jsx("option",{value:"todo",children:"To Do"}),R.jsx("option",{value:"in-progress",children:"In Progress"}),R.jsx("option",{value:"done",children:"Done"})]}),R.jsxs("div",{className:"flex justify-end gap-2",children:[R.jsx("button",{onClick:()=>S(!1),className:"px-4 py-2 bg-gray-300 dark:bg-zinc-600 rounded",children:"Cancel"}),R.jsx("button",{onClick:()=>x(),className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Add"})]})]})}),f==="Members"&&R.jsxs("div",{className:"bg-zinc-800 p-4 rounded-lg mt-6",children:[R.jsx("h3",{className:"text-lg font-semibold text-blue-400 mb-3",children:"Team Members"}),he?R.jsx("ul",{className:"space-y-2 text-sm text-gray-200",children:he.map(A=>R.jsxs("li",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),A.name||A.email]},A.id))}):R.jsx("p",{className:"text-gray-400 italic",children:"Loading members..."})]}),f==="Activity"&&R.jsxs("div",{children:[R.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Recent Activity"}),R.jsxs("ul",{className:"space-y-2 text-sm text-gray-400",children:[R.jsxs("li",{children:["• Arjun added task:"," ",R.jsx("span",{className:"font-medium",children:"Deploy to Firebase"})]}),R.jsx("li",{children:"• Neha joined the team"}),R.jsx("li",{children:"• Arjun updated team description"})]})]}),f==="Settings"&&R.jsx(YM,{team:V,onEdit:async A=>{await Ro(Wt(ct,"teams",i.id),A),I(N=>({...N,...A})),mt.success("Team updated")},onDelete:async()=>{await cg(Wt(ct,"teams",i.id)),mt.success("Team deleted"),s("/Teams")}})]})]})},WM=()=>{const{id:i}=BA(),[e,n]=L.useState(null);return L.useEffect(()=>{(async()=>{const o=await Au(i);n(o)})()},[i]),e?R.jsx(XM,{team:e,teamId:i}):R.jsx("div",{className:"text-center mt-10",children:R.jsx("div",{className:"spinner mx-auto"})})},ZM=()=>(L.useEffect(()=>{const i=$M();return console.log("Auth listener mounted"),()=>i()},[]),KM(),R.jsxs("div",{className:"flex flex-col md:flex-row h-screen overflow-hidden bg-white dark:bg-zinc-900 transition-colors duration-300",children:[R.jsx(_M,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"},success:{iconTheme:{primary:"green",secondary:"white"}}}}),R.jsx(pR,{}),R.jsx("div",{className:"flex-grow p-4 md:p-6 overflow-y-auto text-gray-900 dark:text-gray-100",children:R.jsxs(n1,{children:[R.jsx(Ks,{path:"/",element:R.jsx(gR,{})}),R.jsx(Ks,{path:"/TasksBoard",element:R.jsx(kM,{})}),R.jsx(Ks,{path:"/Profile",element:R.jsx(zM,{})}),R.jsx(Ks,{path:"/ChatPage",element:R.jsx(GM,{})}),R.jsx(Ks,{path:"/Teams",element:R.jsx(QM,{})}),R.jsx(Ks,{path:"/teams/:id",element:R.jsx(WM,{})})]})})]}));hA.createRoot(document.getElementById("root")).render(R.jsx(R1,{basename:"/Togethr",children:R.jsx(L.StrictMode,{children:R.jsx(ZM,{})})}));
