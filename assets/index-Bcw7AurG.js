(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function hS(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Jd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function fS(){if(nv)return Nl;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var iv;function dS(){return iv||(iv=1,Jd.exports=fS()),Jd.exports}var K=dS(),em={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function mS(){if(rv)return Re;rv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function S(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,X={};function z(N,ee,oe){this.props=N,this.context=ee,this.refs=X,this.updater=oe||k}z.prototype.isReactComponent={},z.prototype.setState=function(N,ee){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ee,"setState")},z.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function $(){}$.prototype=z.prototype;function re(N,ee,oe){this.props=N,this.context=ee,this.refs=X,this.updater=oe||k}var te=re.prototype=new $;te.constructor=re,D(te,z.prototype),te.isPureReactComponent=!0;var fe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},we=Object.prototype.hasOwnProperty;function M(N,ee,oe,ie,pe,De){return oe=De.ref,{$$typeof:r,type:N,key:ee,ref:oe!==void 0?oe:null,props:De}}function w(N,ee){return M(N.type,ee,void 0,void 0,void 0,N.props)}function R(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var ee={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(oe){return ee[oe]})}var V=/\/+/g;function U(N,ee){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):ee.toString(36)}function C(){}function Vt(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(C,C):(N.status="pending",N.then(function(ee){N.status==="pending"&&(N.status="fulfilled",N.value=ee)},function(ee){N.status==="pending"&&(N.status="rejected",N.reason=ee)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function at(N,ee,oe,ie,pe){var De=typeof N;(De==="undefined"||De==="boolean")&&(N=null);var be=!1;if(N===null)be=!0;else switch(De){case"bigint":case"string":case"number":be=!0;break;case"object":switch(N.$$typeof){case r:case e:be=!0;break;case E:return be=N._init,at(be(N._payload),ee,oe,ie,pe)}}if(be)return pe=pe(N),be=ie===""?"."+U(N,0):ie,fe(pe)?(oe="",be!=null&&(oe=be.replace(V,"$&/")+"/"),at(pe,ee,oe,"",function(qn){return qn})):pe!=null&&(R(pe)&&(pe=w(pe,oe+(pe.key==null||N&&N.key===pe.key?"":(""+pe.key).replace(V,"$&/")+"/")+be)),ee.push(pe)),1;be=0;var It=ie===""?".":ie+":";if(fe(N))for(var Ze=0;Ze<N.length;Ze++)ie=N[Ze],De=It+U(ie,Ze),be+=at(ie,ee,oe,De,pe);else if(Ze=S(N),typeof Ze=="function")for(N=Ze.call(N),Ze=0;!(ie=N.next()).done;)ie=ie.value,De=It+U(ie,Ze++),be+=at(ie,ee,oe,De,pe);else if(De==="object"){if(typeof N.then=="function")return at(Vt(N),ee,oe,ie,pe);throw ee=String(N),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return be}function Q(N,ee,oe){if(N==null)return N;var ie=[],pe=0;return at(N,ie,"","",function(De){return ee.call(oe,De,pe++)}),ie}function ae(N){if(N._status===-1){var ee=N._result;ee=ee(),ee.then(function(oe){(N._status===0||N._status===-1)&&(N._status=1,N._result=oe)},function(oe){(N._status===0||N._status===-1)&&(N._status=2,N._result=oe)}),N._status===-1&&(N._status=0,N._result=ee)}if(N._status===1)return N._result.default;throw N._result}var de=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function je(){}return Re.Children={map:Q,forEach:function(N,ee,oe){Q(N,function(){ee.apply(this,arguments)},oe)},count:function(N){var ee=0;return Q(N,function(){ee++}),ee},toArray:function(N){return Q(N,function(ee){return ee})||[]},only:function(N){if(!R(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Re.Component=z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=re,Re.StrictMode=s,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Re.__COMPILER_RUNTIME={__proto__:null,c:function(N){return ce.H.useMemoCache(N)}},Re.cache=function(N){return function(){return N.apply(null,arguments)}},Re.cloneElement=function(N,ee,oe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ie=D({},N.props),pe=N.key,De=void 0;if(ee!=null)for(be in ee.ref!==void 0&&(De=void 0),ee.key!==void 0&&(pe=""+ee.key),ee)!we.call(ee,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ee.ref===void 0||(ie[be]=ee[be]);var be=arguments.length-2;if(be===1)ie.children=oe;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];ie.children=It}return M(N.type,pe,void 0,void 0,De,ie)},Re.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Re.createElement=function(N,ee,oe){var ie,pe={},De=null;if(ee!=null)for(ie in ee.key!==void 0&&(De=""+ee.key),ee)we.call(ee,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(pe[ie]=ee[ie]);var be=arguments.length-2;if(be===1)pe.children=oe;else if(1<be){for(var It=Array(be),Ze=0;Ze<be;Ze++)It[Ze]=arguments[Ze+2];pe.children=It}if(N&&N.defaultProps)for(ie in be=N.defaultProps,be)pe[ie]===void 0&&(pe[ie]=be[ie]);return M(N,De,void 0,void 0,null,pe)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(N){return{$$typeof:m,render:N}},Re.isValidElement=R,Re.lazy=function(N){return{$$typeof:E,_payload:{_status:-1,_result:N},_init:ae}},Re.memo=function(N,ee){return{$$typeof:g,type:N,compare:ee===void 0?null:ee}},Re.startTransition=function(N){var ee=ce.T,oe={};ce.T=oe;try{var ie=N(),pe=ce.S;pe!==null&&pe(oe,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(je,de)}catch(De){de(De)}finally{ce.T=ee}},Re.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Re.use=function(N){return ce.H.use(N)},Re.useActionState=function(N,ee,oe){return ce.H.useActionState(N,ee,oe)},Re.useCallback=function(N,ee){return ce.H.useCallback(N,ee)},Re.useContext=function(N){return ce.H.useContext(N)},Re.useDebugValue=function(){},Re.useDeferredValue=function(N,ee){return ce.H.useDeferredValue(N,ee)},Re.useEffect=function(N,ee,oe){var ie=ce.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(N,ee)},Re.useId=function(){return ce.H.useId()},Re.useImperativeHandle=function(N,ee,oe){return ce.H.useImperativeHandle(N,ee,oe)},Re.useInsertionEffect=function(N,ee){return ce.H.useInsertionEffect(N,ee)},Re.useLayoutEffect=function(N,ee){return ce.H.useLayoutEffect(N,ee)},Re.useMemo=function(N,ee){return ce.H.useMemo(N,ee)},Re.useOptimistic=function(N,ee){return ce.H.useOptimistic(N,ee)},Re.useReducer=function(N,ee,oe){return ce.H.useReducer(N,ee,oe)},Re.useRef=function(N){return ce.H.useRef(N)},Re.useState=function(N){return ce.H.useState(N)},Re.useSyncExternalStore=function(N,ee,oe){return ce.H.useSyncExternalStore(N,ee,oe)},Re.useTransition=function(){return ce.H.useTransition()},Re.version="19.1.0",Re}var sv;function $m(){return sv||(sv=1,em.exports=mS()),em.exports}var H=$m();const av=hS(H);var tm={exports:{}},xl={},nm={exports:{}},im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function pS(){return ov||(ov=1,function(r){function e(Q,ae){var de=Q.length;Q.push(ae);e:for(;0<de;){var je=de-1>>>1,N=Q[je];if(0<o(N,ae))Q[je]=ae,Q[de]=N,de=je;else break e}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var ae=Q[0],de=Q.pop();if(de!==ae){Q[0]=de;e:for(var je=0,N=Q.length,ee=N>>>1;je<ee;){var oe=2*(je+1)-1,ie=Q[oe],pe=oe+1,De=Q[pe];if(0>o(ie,de))pe<N&&0>o(De,ie)?(Q[je]=De,Q[pe]=de,je=pe):(Q[je]=ie,Q[oe]=de,je=oe);else if(pe<N&&0>o(De,de))Q[je]=De,Q[pe]=de,je=pe;else break e}}return ae}function o(Q,ae){var de=Q.sortIndex-ae.sortIndex;return de!==0?de:Q.id-ae.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],E=1,A=null,S=3,k=!1,D=!1,X=!1,z=!1,$=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function fe(Q){for(var ae=n(g);ae!==null;){if(ae.callback===null)s(g);else if(ae.startTime<=Q)s(g),ae.sortIndex=ae.expirationTime,e(p,ae);else break;ae=n(g)}}function ce(Q){if(X=!1,fe(Q),!D)if(n(p)!==null)D=!0,we||(we=!0,U());else{var ae=n(g);ae!==null&&at(ce,ae.startTime-Q)}}var we=!1,M=-1,w=5,R=-1;function x(){return z?!0:!(r.unstable_now()-R<w)}function V(){if(z=!1,we){var Q=r.unstable_now();R=Q;var ae=!0;try{e:{D=!1,X&&(X=!1,re(M),M=-1),k=!0;var de=S;try{t:{for(fe(Q),A=n(p);A!==null&&!(A.expirationTime>Q&&x());){var je=A.callback;if(typeof je=="function"){A.callback=null,S=A.priorityLevel;var N=je(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof N=="function"){A.callback=N,fe(Q),ae=!0;break t}A===n(p)&&s(p),fe(Q)}else s(p);A=n(p)}if(A!==null)ae=!0;else{var ee=n(g);ee!==null&&at(ce,ee.startTime-Q),ae=!1}}break e}finally{A=null,S=de,k=!1}ae=void 0}}finally{ae?U():we=!1}}}var U;if(typeof te=="function")U=function(){te(V)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Vt=C.port2;C.port1.onmessage=V,U=function(){Vt.postMessage(null)}}else U=function(){$(V,0)};function at(Q,ae){M=$(function(){Q(r.unstable_now())},ae)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Q){switch(S){case 1:case 2:case 3:var ae=3;break;default:ae=S}var de=S;S=ae;try{return Q()}finally{S=de}},r.unstable_requestPaint=function(){z=!0},r.unstable_runWithPriority=function(Q,ae){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=S;S=Q;try{return ae()}finally{S=de}},r.unstable_scheduleCallback=function(Q,ae,de){var je=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?je+de:je):de=je,Q){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=de+N,Q={id:E++,callback:ae,priorityLevel:Q,startTime:de,expirationTime:N,sortIndex:-1},de>je?(Q.sortIndex=de,e(g,Q),n(p)===null&&Q===n(g)&&(X?(re(M),M=-1):X=!0,at(ce,de-je))):(Q.sortIndex=N,e(p,Q),D||k||(D=!0,we||(we=!0,U()))),Q},r.unstable_shouldYield=x,r.unstable_wrapCallback=function(Q){var ae=S;return function(){var de=S;S=ae;try{return Q.apply(this,arguments)}finally{S=de}}}}(im)),im}var lv;function gS(){return lv||(lv=1,nm.exports=pS()),nm.exports}var rm={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function yS(){if(uv)return Qt;uv=1;var r=$m();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Qt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Qt.flushSync=function(p){var g=f.T,E=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=E,s.d.f()}},Qt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Qt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Qt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:S,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:S,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Qt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Qt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Qt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Qt.requestFormReset=function(p){s.d.r(p)},Qt.unstable_batchedUpdates=function(p,g){return p(g)},Qt.useFormState=function(p,g,E){return f.H.useFormState(p,g,E)},Qt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Qt.version="19.1.0",Qt}var cv;function _S(){if(cv)return rm.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),rm.exports=yS(),rm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function vS(){if(hv)return xl;hv=1;var r=gS(),e=$m(),n=_S();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return m(h),t;if(d===l)return m(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,l=d;break}if(T===l){v=!0,l=h,a=d;break}T=T.sibling}if(!v){for(T=d.child;T;){if(T===a){v=!0,a=d,l=h;break}if(T===l){v=!0,l=d,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function g(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=g(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),X=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),te=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),we=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(t){return t===null||typeof t!="object"?null:(t=V&&t[V]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Vt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case D:return"Fragment";case z:return"Profiler";case X:return"StrictMode";case ce:return"Suspense";case we:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case te:return(t.displayName||"Context")+".Provider";case re:return(t._context.displayName||"Context")+".Consumer";case fe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return i=t.displayName||null,i!==null?i:Vt(t.type)||"Memo";case w:i=t._payload,t=t._init;try{return Vt(t(i))}catch{}}return null}var at=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},je=[],N=-1;function ee(t){return{current:t}}function oe(t){0>N||(t.current=je[N],je[N]=null,N--)}function ie(t,i){N++,je[N]=t.current,t.current=i}var pe=ee(null),De=ee(null),be=ee(null),It=ee(null);function Ze(t,i){switch(ie(be,i),ie(De,t),ie(pe,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=N_(i),t=x_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}oe(pe),ie(pe,t)}function qn(){oe(pe),oe(De),oe(be)}function ir(t){t.memoizedState!==null&&ie(It,t);var i=pe.current,a=x_(i,t.type);i!==a&&(ie(De,t),ie(pe,a))}function gi(t){De.current===t&&(oe(pe),oe(De)),It.current===t&&(oe(It),wl._currentValue=de)}var ss=Object.prototype.hasOwnProperty,as=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,bo=r.unstable_shouldYield,pu=r.unstable_requestPaint,En=r.unstable_now,Zh=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,na=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Jh=r.unstable_LowPriority,ia=r.unstable_IdlePriority,So=r.log,gu=r.unstable_setDisableYieldValue,ot=null,Fe=null;function cn(t){if(typeof So=="function"&&gu(t),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(ot,t)}catch{}}var Gt=Math.clz32?Math.clz32:us,yu=Math.log,ef=Math.LN2;function us(t){return t>>>=0,t===0?32:31-(yu(t)/ef|0)|0}var cs=256,hs=4194304;function Vn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ra(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~d,l!==0?h=Vn(l):(v&=T,v!==0?h=Vn(v):a||(a=T&~t,a!==0&&(h=Vn(a))))):(T=l&~d,T!==0?h=Vn(T):v!==0?h=Vn(v):a||(a=l&~t,a!==0&&(h=Vn(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function fs(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function wo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ro(){var t=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),t}function Io(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function yi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Co(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var Y=31-Gt(a),Z=1<<Y;T[Y]=0,I[Y]=-1;var q=B[Y];if(q!==null)for(B[Y]=null,Y=0;Y<q.length;Y++){var F=q[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Fn(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Fn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Gt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Do(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Gt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function sr(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:X_(t.type))}function _u(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var et=Math.random().toString(36).slice(2),vt="__reactFiber$"+et,mt="__reactProps$"+et,Tn="__reactContainer$"+et,No="__reactEvents$"+et,tf="__reactListeners$"+et,ar="__reactHandles$"+et,vu="__reactResources$"+et,ds="__reactMarker$"+et;function or(t){delete t[vt],delete t[mt],delete t[No],delete t[tf],delete t[ar]}function vi(t){var i=t[vt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Tn]||a[vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=V_(t);t!==null;){if(a=t[vt])return a;t=V_(t)}return i}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[vt]||t[Tn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Kn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Zt(t){var i=t[vu];return i||(i=t[vu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[ds]=!0}var xo=new Set,aa={};function Pn(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(aa[t]=i,t=0;t<i.length;t++)xo.add(i[t])}var Eu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tu={},ms={};function bu(t){return ss.call(ms,t)?!0:ss.call(Tu,t)?!1:Eu.test(t)?ms[t]=!0:(Tu[t]=!0,!1)}function lr(t,i,a){if(bu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Qn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var ps,Au;function Ti(t){if(ps===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ps=i&&i[1]||"",Au=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+t+Au}var oa=!1;function la(t,i){if(!t||oa)return"";oa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var q=F}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(F){q=F}t.call(Z.prototype)}}else{try{throw Error()}catch(F){q=F}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],T=d[1];if(v&&T){var I=v.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var Y=`
`+I[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{oa=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function Oo(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return la(t.type,!1);case 11:return la(t.type.render,!1);case 1:return la(t.type,!0);case 31:return Ti("Activity");default:return""}}function ua(t){try{var i="";do i+=Oo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Jt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mo(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function nf(t){var i=Mo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function ca(t){t._valueTracker||(t._valueTracker=nf(t))}function ko(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Mo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var rf=/[\n"\\]/g;function pt(t){return t.replace(rf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function hn(t,i,a,l,h,d,v,T){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Jt(i)):t.value!==""+Jt(i)&&(t.value=""+Jt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ur(t,v,Jt(i)):a!=null?ur(t,v,Jt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Jt(T):t.removeAttribute("name")}function ys(t,i,a,l,h,d,v,T){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+Jt(a):"",i=i!=null?""+Jt(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ur(t,i,a){i==="number"&&gs(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bi(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Jt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Qe(t,i,a){if(i!=null&&(i=""+Jt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Jt(a):""}function _s(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(at(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Jt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var vs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Su(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||vs.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vo(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Su(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Su(t,d,i[d])}function Po(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),af=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ha(t){return af.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Ai=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,wi=null;function Uo(t){var i=Gn(t);if(i&&(t=i.stateNode)){var a=t[mt]||null;e:switch(t=i.stateNode,i.type){case"input":if(hn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+pt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[mt]||null;if(!h)throw Error(s(90));hn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ko(l)}break e;case"textarea":Qe(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bi(t,!!a.multiple,i,!1)}}}var Yn=!1;function wu(t,i,a){if(Yn)return t(i,a);Yn=!0;try{var l=t(i);return l}finally{if(Yn=!1,(Si!==null||wi!==null)&&(_c(),Si&&(i=Si,t=wi,wi=Si=null,Uo(i),t)))for(i=0;i<t.length;i++)Uo(t[i])}}function Es(t,i){var a=t.stateNode;if(a===null)return null;var l=a[mt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Un)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Sn=!1}var $n=null,cr=null,Ri=null;function Lo(){if(Ri)return Ri;var t,i=cr,a=i.length,l,h="value"in $n?$n.value:$n.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function Xn(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Wn(){return!0}function zo(){return!1}function Ct(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(d):d[T]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Wn:zo,this.isPropagationStopped=zo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){},isPersistent:Wn}),i}var He={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fa=Ct(He),bs=E({},He,{view:0,detail:0}),Ru=Ct(bs),da,ma,Zn,As=E({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zn&&(Zn&&t.type==="mousemove"?(da=t.screenX-Zn.screenX,ma=t.screenY-Zn.screenY):ma=da=0,Zn=t),da)},movementY:function(t){return"movementY"in t?t.movementY:ma}}),wn=Ct(As),Iu=E({},As,{dataTransfer:0}),of=Ct(Iu),Ss=E({},bs,{relatedTarget:0}),pa=Ct(Ss),jo=E({},He,{animationName:0,elapsedTime:0,pseudoElement:0}),ga=Ct(jo),Cu=E({},He,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ya=Ct(Cu),lf=E({},He,{data:0}),Bo=Ct(lf),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ho(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Rs(){return Ho}var xu=E({},bs,{key:function(t){if(t.key){var i=ws[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Xn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Xn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_a=Ct(xu),Ou=E({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qo=Ct(Ou),Ii=E({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Mu=Ct(Ii),ku=E({},He,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Ct(ku),Pu=E({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),va=Ct(Pu),en=E({},He,{newState:0,oldState:0}),Uu=Ct(en),Lu=[9,13,27,32],Jn=Un&&"CompositionEvent"in window,c=null;Un&&"documentMode"in document&&(c=document.documentMode);var y=Un&&"TextEvent"in window&&!c,_=Un&&(!Jn||c&&8<c&&11>=c),b=" ",L=!1;function G(t,i){switch(t){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ve=!1;function Et(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(L=!0,b);case"textInput":return t=i.data,t===b&&L?null:t;default:return null}}function Pe(t,i){if(Ve)return t==="compositionend"||!Jn&&G(t,i)?(t=Lo(),Ri=cr=$n=null,Ve=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Dt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Dt[t.type]:i==="textarea"}function Ci(t,i,a,l){Si?wi?wi.push(l):wi=[l]:Si=l,i=Sc(i,"onChange"),0<i.length&&(a=new fa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Ut=null,ei=null;function Fo(t){w_(t,0)}function zu(t){var i=Kn(t);if(ko(i))return t}function Kp(t,i){if(t==="change")return i}var Qp=!1;if(Un){var uf;if(Un){var cf="oninput"in document;if(!cf){var Yp=document.createElement("div");Yp.setAttribute("oninput","return;"),cf=typeof Yp.oninput=="function"}uf=cf}else uf=!1;Qp=uf&&(!document.documentMode||9<document.documentMode)}function $p(){Ut&&(Ut.detachEvent("onpropertychange",Xp),ei=Ut=null)}function Xp(t){if(t.propertyName==="value"&&zu(ei)){var i=[];Ci(i,ei,t,An(t)),wu(Fo,i)}}function Bb(t,i,a){t==="focusin"?($p(),Ut=i,ei=a,Ut.attachEvent("onpropertychange",Xp)):t==="focusout"&&$p()}function Hb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(ei)}function qb(t,i){if(t==="click")return zu(i)}function Fb(t,i){if(t==="input"||t==="change")return zu(i)}function Gb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var fn=typeof Object.is=="function"?Object.is:Gb;function Go(t,i){if(fn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ss.call(i,h)||!fn(t[h],i[h]))return!1}return!0}function Wp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zp(t,i){var a=Wp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wp(a)}}function Jp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Jp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function eg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=gs(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=gs(t.document)}return i}function hf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Kb=Un&&"documentMode"in document&&11>=document.documentMode,Ea=null,ff=null,Ko=null,df=!1;function tg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;df||Ea==null||Ea!==gs(l)||(l=Ea,"selectionStart"in l&&hf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Go(Ko,l)||(Ko=l,l=Sc(ff,"onSelect"),0<l.length&&(i=new fa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ea)))}function Is(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ta={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},mf={},ng={};Un&&(ng=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function Cs(t){if(mf[t])return mf[t];if(!Ta[t])return t;var i=Ta[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ng)return mf[t]=i[a];return t}var ig=Cs("animationend"),rg=Cs("animationiteration"),sg=Cs("animationstart"),Qb=Cs("transitionrun"),Yb=Cs("transitionstart"),$b=Cs("transitioncancel"),ag=Cs("transitionend"),og=new Map,pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pf.push("scrollEnd");function Ln(t,i){og.set(t,i),Pn(i,[t])}var lg=new WeakMap;function Rn(t,i){if(typeof t=="object"&&t!==null){var a=lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ua(i)},lg.set(t,i),i)}return{value:t,source:i,stack:ua(i)}}var In=[],ba=0,gf=0;function ju(){for(var t=ba,i=gf=ba=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&ug(a,h,d)}}function Bu(t,i,a,l){In[ba++]=t,In[ba++]=i,In[ba++]=a,In[ba++]=l,gf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Bu(t,i,a,l),Hu(t)}function Aa(t,i){return Bu(t,null,null,i),Hu(t)}function ug(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-Gt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Hu(t){if(50<yl)throw yl=0,Ad=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Sa={};function Xb(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(t,i,a,l){return new Xb(t,i,a,l)}function _f(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Di(t,i){var a=t.alternate;return a===null?(a=dn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function qu(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")_f(t)&&(v=1);else if(typeof t=="string")v=ZA(t,a,pe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=dn(31,a,i,h),t.elementType=R,t.lanes=d,t;case D:return Ds(a.children,h,d,i);case X:v=8,h|=24;break;case z:return t=dn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case ce:return t=dn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case we:return t=dn(19,a,i,h),t.elementType=we,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $:case te:v=10;break e;case re:v=9;break e;case fe:v=11;break e;case M:v=14;break e;case w:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=dn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Ds(t,i,a,l){return t=dn(7,t,l,i),t.lanes=a,t}function vf(t,i,a){return t=dn(6,t,null,i),t.lanes=a,t}function Ef(t,i,a){return i=dn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var wa=[],Ra=0,Fu=null,Gu=0,Cn=[],Dn=0,Ns=null,Ni=1,xi="";function xs(t,i){wa[Ra++]=Gu,wa[Ra++]=Fu,Fu=t,Gu=i}function hg(t,i,a){Cn[Dn++]=Ni,Cn[Dn++]=xi,Cn[Dn++]=Ns,Ns=t;var l=Ni;t=xi;var h=32-Gt(l)-1;l&=~(1<<h),a+=1;var d=32-Gt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ni=1<<32-Gt(i)+h|a<<h|l,xi=d+t}else Ni=1<<d|a<<h|l,xi=t}function Tf(t){t.return!==null&&(xs(t,1),hg(t,1,0))}function bf(t){for(;t===Fu;)Fu=wa[--Ra],wa[Ra]=null,Gu=wa[--Ra],wa[Ra]=null;for(;t===Ns;)Ns=Cn[--Dn],Cn[Dn]=null,xi=Cn[--Dn],Cn[Dn]=null,Ni=Cn[--Dn],Cn[Dn]=null}var tn=null,lt=null,Be=!1,Os=null,ti=!1,Af=Error(s(519));function Ms(t){var i=Error(s(418,""));throw $o(Rn(i,t)),Af}function fg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[vt]=t,i[mt]=l,a){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(a=0;a<vl.length;a++)Oe(vl[a],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":Oe("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),ca(i);break;case"select":Oe("invalid",i);break;case"textarea":Oe("invalid",i),_s(i,l.value,l.defaultValue,l.children),ca(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||D_(i.textContent,a)?(l.popover!=null&&(Oe("beforetoggle",i),Oe("toggle",i)),l.onScroll!=null&&Oe("scroll",i),l.onScrollEnd!=null&&Oe("scrollend",i),l.onClick!=null&&(i.onclick=wc),i=!0):i=!1,i||Ms(t)}function dg(t){for(tn=t.return;tn;)switch(tn.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:tn=tn.return}}function Qo(t){if(t!==tn)return!1;if(!Be)return dg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||zd(t.type,t.memoizedProps)),a=!a),a&&lt&&Ms(t),dg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){lt=jn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}lt=null}}else i===27?(i=lt,Rr(t.type)?(t=qd,qd=null,lt=t):lt=i):lt=tn?jn(t.stateNode.nextSibling):null;return!0}function Yo(){lt=tn=null,Be=!1}function mg(){var t=Os;return t!==null&&(an===null?an=t:an.push.apply(an,t),Os=null),t}function $o(t){Os===null?Os=[t]:Os.push(t)}var Sf=ee(null),ks=null,Oi=null;function hr(t,i,a){ie(Sf,i._currentValue),i._currentValue=a}function Mi(t){t._currentValue=Sf.current,oe(Sf)}function wf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Rf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var T=d;d=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){d.lanes|=a,T=d.alternate,T!==null&&(T.lanes|=a),wf(d.return,a,t),l||(v=null);break e}d=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),wf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Xo(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;fn(h.pendingProps.value,v.value)||(t!==null?t.push(T):t=[T])}}else if(h===It.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(wl):t=[wl])}h=h.return}t!==null&&Rf(i,t,a,l),i.flags|=262144}function Ku(t){for(t=t.firstContext;t!==null;){if(!fn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Vs(t){ks=t,Oi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return pg(ks,t)}function Qu(t,i){return ks===null&&Vs(t),pg(t,i)}function pg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Oi===null){if(t===null)throw Error(s(308));Oi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Oi=Oi.next=i;return a}var Wb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Zb=r.unstable_scheduleCallback,Jb=r.unstable_NormalPriority,bt={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new Wb,data:new Map,refCount:0}}function Wo(t){t.refCount--,t.refCount===0&&Zb(Jb,function(){t.controller.abort()})}var Zo=null,Cf=0,Ia=0,Ca=null;function eA(t,i){if(Zo===null){var a=Zo=[];Cf=0,Ia=Nd(),Ca={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cf++,i.then(gg,gg),i}function gg(){if(--Cf===0&&Zo!==null){Ca!==null&&(Ca.status="fulfilled");var t=Zo;Zo=null,Ia=0,Ca=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function tA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var yg=Q.S;Q.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&eA(t,i),yg!==null&&yg(t,i)};var Ps=ee(null);function Df(){var t=Ps.current;return t!==null?t:Je.pooledCache}function Yu(t,i){i===null?ie(Ps,Ps.current):ie(Ps,i.pool)}function _g(){var t=Df();return t===null?null:{parent:bt._currentValue,pool:t}}var Jo=Error(s(460)),vg=Error(s(474)),$u=Error(s(542)),Nf={then:function(){}};function Eg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Xu(){}function Tg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Xu,Xu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t;default:if(typeof i.status=="string")i.then(Xu,Xu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Ag(t),t}throw el=i,Jo}}var el=null;function bg(){if(el===null)throw Error(s(459));var t=el;return el=null,t}function Ag(t){if(t===Jo||t===$u)throw Error(s(483))}var fr=!1;function xf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Of(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function dr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ge&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Hu(t),ug(t,null,a),i}return Bu(t,l,i,a),Hu(t)}function tl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}function Mf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var kf=!1;function nl(){if(kf){var t=Ca;if(t!==null)throw t}}function il(t,i,a,l){kf=!1;var h=t.updateQueue;fr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,v===null?d=B:v.next=B,v=I;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,T=Y.lastBaseUpdate,T!==v&&(T===null?Y.firstBaseUpdate=B:T.next=B,Y.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Y=B=I=null,T=d;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Ue&q)===q:(l&q)===q){q!==0&&q===Ia&&(kf=!0),Y!==null&&(Y=Y.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ye=T;q=i;var Xe=a;switch(ye.tag){case 1:if(Ee=ye.payload,typeof Ee=="function"){Z=Ee.call(Xe,Z,q);break e}Z=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ye.payload,q=typeof Ee=="function"?Ee.call(Xe,Z,q):Ee,q==null)break e;Z=E({},Z,q);break e;case 2:fr=!0}}q=T.callback,q!==null&&(t.flags|=64,F&&(t.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Y===null?(B=Y=F,I=Z):Y=Y.next=F,v|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),br|=v,t.lanes=v,t.memoizedState=Z}}function Sg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function wg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Sg(a[t],i)}var Da=ee(null),Wu=ee(0);function Rg(t,i){t=ji,ie(Wu,t),ie(Da,i),ji=t|i.baseLanes}function Vf(){ie(Wu,ji),ie(Da,Da.current)}function Pf(){ji=Wu.current,oe(Da),oe(Wu)}var pr=0,Ie=null,Ye=null,gt=null,Zu=!1,Na=!1,Us=!1,Ju=0,rl=0,xa=null,nA=0;function ht(){throw Error(s(321))}function Uf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!fn(t[a],i[a]))return!1;return!0}function Lf(t,i,a,l,h,d){return pr=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=t===null||t.memoizedState===null?uy:cy,Us=!1,d=a(l,h),Us=!1,Na&&(d=Cg(i,a,l,h)),Ig(t),d}function Ig(t){Q.H=sc;var i=Ye!==null&&Ye.next!==null;if(pr=0,gt=Ye=Ie=null,Zu=!1,rl=0,xa=null,i)throw Error(s(300));t===null||Nt||(t=t.dependencies,t!==null&&Ku(t)&&(Nt=!0))}function Cg(t,i,a,l){Ie=t;var h=0;do{if(Na&&(xa=null),rl=0,Na=!1,25<=h)throw Error(s(301));if(h+=1,gt=Ye=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=uA,d=i(a,l)}while(Na);return d}function iA(){var t=Q.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Ye!==null?Ye.memoizedState:null)!==t&&(Ie.flags|=1024),i}function zf(){var t=Ju!==0;return Ju=0,t}function jf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Bf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}pr=0,gt=Ye=Ie=null,Na=!1,rl=Ju=0,xa=null}function rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ie.memoizedState=gt=t:gt=gt.next=t,gt}function yt(){if(Ye===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var i=gt===null?Ie.memoizedState:gt.next;if(i!==null)gt=i,Ye=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},gt===null?Ie.memoizedState=gt=t:gt=gt.next=t}return gt}function Hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(t){var i=rl;return rl+=1,xa===null&&(xa=[]),t=Tg(xa,t,i),i=Ie,(gt===null?i.memoizedState:gt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?uy:cy),t}function ec(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===te)return Kt(t)}throw Error(s(438,String(t)))}function qf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hf(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=x;return i.index++,a}function ki(t,i){return typeof i=="function"?i(t):i}function tc(t){var i=yt();return Ff(i,Ye,t)}function Ff(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var T=v=null,I=null,B=i,Y=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(Ue&Z)===Z:(pr&Z)===Z){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===Ia&&(Y=!0);else if((pr&q)===q){B=B.next,q===Ia&&(Y=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,v=d):I=I.next=Z,Ie.lanes|=q,br|=q;Z=B.action,Us&&a(d,Z),d=B.hasEagerState?B.eagerState:a(d,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,v=d):I=I.next=q,Ie.lanes|=Z,br|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?v=d:I.next=T,!fn(d,t.memoizedState)&&(Nt=!0,Y&&(a=Ca,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);fn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(t,i,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!fn((Ye||h).memoizedState,a);v&&(h.memoizedState=a,Nt=!0),h=h.queue;var T=Og.bind(null,l,h,t);if(al(2048,8,T,[t]),h.getSnapshot!==i||v||gt!==null&&gt.memoizedState.tag&1){if(l.flags|=2048,Oa(9,nc(),xg.bind(null,l,h,a,i),null),Je===null)throw Error(s(349));d||(pr&124)!==0||Ng(l,i,a)}return a}function Ng(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=Hf(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,l){i.value=a,i.getSnapshot=l,Mg(i)&&kg(t)}function Og(t,i,a){return a(function(){Mg(i)&&kg(t)})}function Mg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!fn(t,a)}catch{return!0}}function kg(t){var i=Aa(t,2);i!==null&&_n(i,t,2)}function Kf(t){var i=rn();if(typeof t=="function"){var a=t;if(t=a(),Us){cn(!0);try{a()}finally{cn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:t},i}function Vg(t,i,a,l){return t.baseState=a,Ff(t,Ye,typeof l=="function"?l:ki)}function rA(t,i,a,l,h){if(rc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Pg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Pg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Q.T,v={};Q.T=v;try{var T=a(h,l),I=Q.S;I!==null&&I(v,T),Ug(t,i,T)}catch(B){Qf(t,i,B)}finally{Q.T=d}}else try{d=a(h,l),Ug(t,i,d)}catch(B){Qf(t,i,B)}}function Ug(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lg(t,i,l)},function(l){return Qf(t,i,l)}):Lg(t,i,a)}function Lg(t,i,a){i.status="fulfilled",i.value=a,zg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Pg(t,a)))}function Qf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,zg(i),i=i.next;while(i!==l)}t.action=null}function zg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function jg(t,i){return i}function Bg(t,i){if(Be){var a=Je.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=ti;h.nodeType!==8;){if(!d){h=null;break t}if(h=jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=jn(h.nextSibling),l=h.data==="F!";break e}}Ms(l)}l=!1}l&&(i=a[0])}}return a=rn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jg,lastRenderedState:i},a.queue=l,a=ay.bind(null,Ie,l),l.dispatch=a,l=Kf(!1),d=Zf.bind(null,Ie,!1,l.queue),l=rn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=rA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Hg(t){var i=yt();return qg(i,Ye,t)}function qg(t,i,a){if(i=Ff(t,i,jg)[0],t=tc(ki)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=sl(i)}catch(v){throw v===Jo?$u:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Oa(9,nc(),sA.bind(null,h,a),null)),[l,d,t]}function sA(t,i){t.action=i}function Fg(t){var i=yt(),a=Ye;if(a!==null)return qg(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Oa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=Hf(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function nc(){return{destroy:void 0,resource:void 0}}function Gg(){return yt().memoizedState}function ic(t,i,a,l){var h=rn();l=l===void 0?null:l,Ie.flags|=t,h.memoizedState=Oa(1|i,nc(),a,l)}function al(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;Ye!==null&&l!==null&&Uf(l,Ye.memoizedState.deps)?h.memoizedState=Oa(i,d,a,l):(Ie.flags|=t,h.memoizedState=Oa(1|i,d,a,l))}function Kg(t,i){ic(8390656,8,t,i)}function Qg(t,i){al(2048,8,t,i)}function Yg(t,i){return al(4,2,t,i)}function $g(t,i){return al(4,4,t,i)}function Xg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Wg(t,i,a){a=a!=null?a.concat([t]):null,al(4,4,Xg.bind(null,i,t),a)}function Yf(){}function Zg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Uf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Jg(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Uf(i,l[1]))return l[0];if(l=t(),Us){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l}function $f(t,i,a){return a===void 0||(pr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=n_(),Ie.lanes|=t,br|=t,a)}function ey(t,i,a,l){return fn(a,i)?a:Da.current!==null?(t=$f(t,a,l),fn(t,i)||(Nt=!0),t):(pr&42)===0?(Nt=!0,t.memoizedState=a):(t=n_(),Ie.lanes|=t,br|=t,i)}function ty(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=Q.T,T={};Q.T=T,Zf(t,!1,i,a);try{var I=h(),B=Q.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Y=tA(I,l);ol(t,i,Y,yn(t))}else ol(t,i,l,yn(t))}catch(Z){ol(t,i,{then:function(){},status:"rejected",reason:Z},yn())}finally{ae.p=d,Q.T=v}}function aA(){}function Xf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=ny(t).queue;ty(t,h,i,de,a===null?aA:function(){return iy(t),a(l)})}function ny(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ki,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function iy(t){var i=ny(t).next.queue;ol(t,i,{},yn())}function Wf(){return Kt(wl)}function ry(){return yt().memoizedState}function sy(){return yt().memoizedState}function oA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=yn();t=dr(a);var l=mr(i,t,a);l!==null&&(_n(l,i,a),tl(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function lA(t,i,a){var l=yn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},rc(t)?oy(i,a):(a=yf(t,i,a,l),a!==null&&(_n(a,t,l),ly(a,i,l)))}function ay(t,i,a){var l=yn();ol(t,i,a,l)}function ol(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(rc(t))oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,T=d(v,a);if(h.hasEagerState=!0,h.eagerState=T,fn(T,v))return Bu(t,i,h,0),Je===null&&ju(),!1}catch{}finally{}if(a=yf(t,i,h,l),a!==null)return _n(a,t,l),ly(a,i,l),!0}return!1}function Zf(t,i,a,l){if(l={lane:2,revertLane:Nd(),action:l,hasEagerState:!1,eagerState:null,next:null},rc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&_n(i,t,2)}function rc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function oy(t,i){Na=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ly(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Do(t,a)}}var sc={readContext:Kt,use:ec,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht},uy={readContext:Kt,use:ec,useCallback:function(t,i){return rn().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:Kg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Xg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=rn();i=i===void 0?null:i;var l=t();if(Us){cn(!0);try{t()}finally{cn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=rn();if(a!==void 0){var h=a(i);if(Us){cn(!0);try{a(i)}finally{cn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=lA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=rn();return t={current:t},i.memoizedState=t},useState:function(t){t=Kf(t);var i=t.queue,a=ay.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(t,i){var a=rn();return $f(a,t,i)},useTransition:function(){var t=Kf(!1);return t=ty.bind(null,Ie,t.queue,!0,!1),rn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=rn();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&124)!==0||Ng(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Kg(Og.bind(null,l,d,t),[t]),l.flags|=2048,Oa(9,nc(),xg.bind(null,l,d,a,i),null),a},useId:function(){var t=rn(),i=Je.identifierPrefix;if(Be){var a=xi,l=Ni;a=(l&~(1<<32-Gt(l)-1)).toString(32)+a,i=""+i+"R"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=nA++,i=""+i+"r"+a.toString(32)+"";return t.memoizedState=i},useHostTransitionStatus:Wf,useFormState:Bg,useActionState:Bg,useOptimistic:function(t){var i=rn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Zf.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:qf,useCacheRefresh:function(){return rn().memoizedState=oA.bind(null,Ie)}},cy={readContext:Kt,use:ec,useCallback:Zg,useContext:Kt,useEffect:Qg,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:$g,useMemo:Jg,useReducer:tc,useRef:Gg,useState:function(){return tc(ki)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=yt();return ey(a,Ye.memoizedState,t,i)},useTransition:function(){var t=tc(ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Wf,useFormState:Hg,useActionState:Hg,useOptimistic:function(t,i){var a=yt();return Vg(a,Ye,t,i)},useMemoCache:qf,useCacheRefresh:sy},uA={readContext:Kt,use:ec,useCallback:Zg,useContext:Kt,useEffect:Qg,useImperativeHandle:Wg,useInsertionEffect:Yg,useLayoutEffect:$g,useMemo:Jg,useReducer:Gf,useRef:Gg,useState:function(){return Gf(ki)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=yt();return Ye===null?$f(a,t,i):ey(a,Ye.memoizedState,t,i)},useTransition:function(){var t=Gf(ki)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:Dg,useId:ry,useHostTransitionStatus:Wf,useFormState:Fg,useActionState:Fg,useOptimistic:function(t,i){var a=yt();return Ye!==null?Vg(a,Ye,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:qf,useCacheRefresh:sy},Ma=null,ll=0;function ac(t){var i=ll;return ll+=1,Ma===null&&(Ma=[]),Tg(Ma,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function oc(t,i){throw i.$$typeof===A?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function hy(t){var i=t._init;return i(t._payload)}function fy(t){function i(P,O){if(t){var j=P.deletions;j===null?(P.deletions=[O],P.flags|=16):j.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function l(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=Di(P,O),P.index=0,P.sibling=null,P}function d(P,O,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<O?(P.flags|=67108866,O):j):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,O,j,W){return O===null||O.tag!==6?(O=vf(j,P.mode,W),O.return=P,O):(O=h(O,j),O.return=P,O)}function I(P,O,j,W){var ue=j.type;return ue===D?Y(P,O,j.props.children,W,j.key):O!==null&&(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&hy(ue)===O.type)?(O=h(O,j.props),ul(O,j),O.return=P,O):(O=qu(j.type,j.key,j.props,null,P.mode,W),ul(O,j),O.return=P,O)}function B(P,O,j,W){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Ef(j,P.mode,W),O.return=P,O):(O=h(O,j.children||[]),O.return=P,O)}function Y(P,O,j,W,ue){return O===null||O.tag!==7?(O=Ds(j,P.mode,W,ue),O.return=P,O):(O=h(O,j),O.return=P,O)}function Z(P,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=vf(""+O,P.mode,j),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case S:return j=qu(O.type,O.key,O.props,null,P.mode,j),ul(j,O),j.return=P,j;case k:return O=Ef(O,P.mode,j),O.return=P,O;case w:var W=O._init;return O=W(O._payload),Z(P,O,j)}if(at(O)||U(O))return O=Ds(O,P.mode,j,null),O.return=P,O;if(typeof O.then=="function")return Z(P,ac(O),j);if(O.$$typeof===te)return Z(P,Qu(P,O),j);oc(P,O)}return null}function q(P,O,j,W){var ue=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ue!==null?null:T(P,O,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case S:return j.key===ue?I(P,O,j,W):null;case k:return j.key===ue?B(P,O,j,W):null;case w:return ue=j._init,j=ue(j._payload),q(P,O,j,W)}if(at(j)||U(j))return ue!==null?null:Y(P,O,j,W,null);if(typeof j.then=="function")return q(P,O,ac(j),W);if(j.$$typeof===te)return q(P,O,Qu(P,j),W);oc(P,j)}return null}function F(P,O,j,W,ue){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(j)||null,T(O,P,""+W,ue);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case S:return P=P.get(W.key===null?j:W.key)||null,I(O,P,W,ue);case k:return P=P.get(W.key===null?j:W.key)||null,B(O,P,W,ue);case w:var Ne=W._init;return W=Ne(W._payload),F(P,O,j,W,ue)}if(at(W)||U(W))return P=P.get(j)||null,Y(O,P,W,ue,null);if(typeof W.then=="function")return F(P,O,j,ac(W),ue);if(W.$$typeof===te)return F(P,O,j,Qu(O,W),ue);oc(O,W)}return null}function Ee(P,O,j,W){for(var ue=null,Ne=null,he=O,_e=O=0,Ot=null;he!==null&&_e<j.length;_e++){he.index>_e?(Ot=he,he=null):Ot=he.sibling;var ze=q(P,he,j[_e],W);if(ze===null){he===null&&(he=Ot);break}t&&he&&ze.alternate===null&&i(P,he),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze,he=Ot}if(_e===j.length)return a(P,he),Be&&xs(P,_e),ue;if(he===null){for(;_e<j.length;_e++)he=Z(P,j[_e],W),he!==null&&(O=d(he,O,_e),Ne===null?ue=he:Ne.sibling=he,Ne=he);return Be&&xs(P,_e),ue}for(he=l(he);_e<j.length;_e++)Ot=F(he,P,_e,j[_e],W),Ot!==null&&(t&&Ot.alternate!==null&&he.delete(Ot.key===null?_e:Ot.key),O=d(Ot,O,_e),Ne===null?ue=Ot:Ne.sibling=Ot,Ne=Ot);return t&&he.forEach(function(xr){return i(P,xr)}),Be&&xs(P,_e),ue}function ye(P,O,j,W){if(j==null)throw Error(s(151));for(var ue=null,Ne=null,he=O,_e=O=0,Ot=null,ze=j.next();he!==null&&!ze.done;_e++,ze=j.next()){he.index>_e?(Ot=he,he=null):Ot=he.sibling;var xr=q(P,he,ze.value,W);if(xr===null){he===null&&(he=Ot);break}t&&he&&xr.alternate===null&&i(P,he),O=d(xr,O,_e),Ne===null?ue=xr:Ne.sibling=xr,Ne=xr,he=Ot}if(ze.done)return a(P,he),Be&&xs(P,_e),ue;if(he===null){for(;!ze.done;_e++,ze=j.next())ze=Z(P,ze.value,W),ze!==null&&(O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return Be&&xs(P,_e),ue}for(he=l(he);!ze.done;_e++,ze=j.next())ze=F(he,P,_e,ze.value,W),ze!==null&&(t&&ze.alternate!==null&&he.delete(ze.key===null?_e:ze.key),O=d(ze,O,_e),Ne===null?ue=ze:Ne.sibling=ze,Ne=ze);return t&&he.forEach(function(cS){return i(P,cS)}),Be&&xs(P,_e),ue}function Xe(P,O,j,W){if(typeof j=="object"&&j!==null&&j.type===D&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case S:e:{for(var ue=j.key;O!==null;){if(O.key===ue){if(ue=j.type,ue===D){if(O.tag===7){a(P,O.sibling),W=h(O,j.props.children),W.return=P,P=W;break e}}else if(O.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===w&&hy(ue)===O.type){a(P,O.sibling),W=h(O,j.props),ul(W,j),W.return=P,P=W;break e}a(P,O);break}else i(P,O);O=O.sibling}j.type===D?(W=Ds(j.props.children,P.mode,W,j.key),W.return=P,P=W):(W=qu(j.type,j.key,j.props,null,P.mode,W),ul(W,j),W.return=P,P=W)}return v(P);case k:e:{for(ue=j.key;O!==null;){if(O.key===ue)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){a(P,O.sibling),W=h(O,j.children||[]),W.return=P,P=W;break e}else{a(P,O);break}else i(P,O);O=O.sibling}W=Ef(j,P.mode,W),W.return=P,P=W}return v(P);case w:return ue=j._init,j=ue(j._payload),Xe(P,O,j,W)}if(at(j))return Ee(P,O,j,W);if(U(j)){if(ue=U(j),typeof ue!="function")throw Error(s(150));return j=ue.call(j),ye(P,O,j,W)}if(typeof j.then=="function")return Xe(P,O,ac(j),W);if(j.$$typeof===te)return Xe(P,O,Qu(P,j),W);oc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(a(P,O.sibling),W=h(O,j),W.return=P,P=W):(a(P,O),W=vf(j,P.mode,W),W.return=P,P=W),v(P)):a(P,O)}return function(P,O,j,W){try{ll=0;var ue=Xe(P,O,j,W);return Ma=null,ue}catch(he){if(he===Jo||he===$u)throw he;var Ne=dn(29,he,null,P.mode);return Ne.lanes=W,Ne.return=P,Ne}finally{}}}var ka=fy(!0),dy=fy(!1),Nn=ee(null),ni=null;function gr(t){var i=t.alternate;ie(At,At.current&1),ie(Nn,t),ni===null&&(i===null||Da.current!==null||i.memoizedState!==null)&&(ni=t)}function my(t){if(t.tag===22){if(ie(At,At.current),ie(Nn,t),ni===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ni=t)}}else yr()}function yr(){ie(At,At.current),ie(Nn,Nn.current)}function Vi(t){oe(Nn),ni===t&&(ni=null),oe(At)}var At=ee(0);function lc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Hd(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function Jf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ed={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=yn(),h=dr(l);h.payload=i,a!=null&&(h.callback=a),i=mr(t,h,l),i!==null&&(_n(i,t,l),tl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=yn(),h=dr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=mr(t,h,l),i!==null&&(_n(i,t,l),tl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=yn(),l=dr(a);l.tag=2,i!=null&&(l.callback=i),i=mr(t,l,a),i!==null&&(_n(i,t,a),tl(i,t,a))}};function py(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function gy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ed.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var uc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function yy(t){uc(t)}function _y(t){console.error(t)}function vy(t){uc(t)}function cc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Ey(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function td(t,i,a){return a=dr(a),a.tag=3,a.payload={element:null},a.callback=function(){cc(t,i)},a}function Ty(t){return t=dr(t),t.tag=3,t}function by(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Ey(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Ey(i,a,l),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function cA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Xo(i,a,h,!0),a=Nn.current,a!==null){switch(a.tag){case 13:return ni===null?wd():a.alternate===null&&ut===0&&(ut=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Id(t,l,h)),!1;case 22:return a.flags|=65536,l===Nf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Id(t,l,h)),!1}throw Error(s(435,a.tag))}return Id(t,l,h),wd(),!1}if(Be)return i=Nn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),$o(Rn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),$o(Rn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Rn(l,a),h=td(t.stateNode,l,h),Mf(t,h),ut!==4&&(ut=2)),!1;var d=Error(s(520),{cause:l});if(d=Rn(d,a),gl===null?gl=[d]:gl.push(d),ut!==4&&(ut=2),i===null)return!0;l=Rn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=td(a.stateNode,l,t),Mf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ar===null||!Ar.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Ty(h),by(h,t,a,l),Mf(a,h),!1}a=a.return}while(a!==null);return!1}var Ay=Error(s(461)),Nt=!1;function Lt(t,i,a,l){i.child=t===null?dy(i,null,a,l):ka(i,t.child,a,l)}function Sy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var T in l)T!=="ref"&&(v[T]=l[T])}else v=l;return Vs(i),l=Lf(t,i,a,v,d,h),T=zf(),t!==null&&!Nt?(jf(t,i,h),Pi(t,i,h)):(Be&&T&&Tf(i),i.flags|=1,Lt(t,i,l,h),i.child)}function wy(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!_f(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Ry(t,i,d,l,h)):(t=qu(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ud(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(v,l)&&t.ref===i.ref)return Pi(t,i,h)}return i.flags|=1,t=Di(d,l),t.ref=i.ref,t.return=i,i.child=t}function Ry(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Go(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,ud(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,Pi(t,i,h)}return nd(t,i,a,l,h)}function Iy(t,i,a){var l=i.pendingProps,h=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Cy(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,d!==null?d.cachePool:null),d!==null?Rg(i,d):Vf(),my(i);else return i.lanes=i.childLanes=536870912,Cy(t,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(Yu(i,d.cachePool),Rg(i,d),yr(),i.memoizedState=null):(t!==null&&Yu(i,null),Vf(),yr());return Lt(t,i,h,a),i.child}function Cy(t,i,a,l){var h=Df();return h=h===null?null:{parent:bt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(i,null),Vf(),my(i),t!==null&&Xo(t,i,l,!0),null}function hc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function nd(t,i,a,l,h){return Vs(i),a=Lf(t,i,a,l,void 0,h),l=zf(),t!==null&&!Nt?(jf(t,i,h),Pi(t,i,h)):(Be&&l&&Tf(i),i.flags|=1,Lt(t,i,a,h),i.child)}function Dy(t,i,a,l,h,d){return Vs(i),i.updateQueue=null,a=Cg(i,l,a,h),Ig(t),l=zf(),t!==null&&!Nt?(jf(t,i,d),Pi(t,i,d)):(Be&&l&&Tf(i),i.flags|=1,Lt(t,i,a,d),i.child)}function Ny(t,i,a,l,h){if(Vs(i),i.stateNode===null){var d=Sa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ed,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},xf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Sa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Jf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ed.enqueueReplaceState(d,d.state,null),il(i,l,d,h),nl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var T=i.memoizedProps,I=Ls(a,T);d.props=I;var B=d.context,Y=a.contextType;v=Sa,typeof Y=="object"&&Y!==null&&(v=Kt(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T||B!==v)&&gy(i,d,l,v),fr=!1;var q=i.memoizedState;d.state=q,il(i,l,d,h),nl(),B=i.memoizedState,T||q!==B||fr?(typeof Z=="function"&&(Jf(i,a,Z,l),B=i.memoizedState),(I=fr||py(i,a,I,l,q,B,v))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Of(t,i),v=i.memoizedProps,Y=Ls(a,v),d.props=Y,Z=i.pendingProps,q=d.context,B=a.contextType,I=Sa,typeof B=="object"&&B!==null&&(I=Kt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||q!==I)&&gy(i,d,l,I),fr=!1,q=i.memoizedState,d.state=q,il(i,l,d,h),nl();var F=i.memoizedState;v!==Z||q!==F||fr||t!==null&&t.dependencies!==null&&Ku(t.dependencies)?(typeof T=="function"&&(Jf(i,a,T,l),F=i.memoizedState),(Y=fr||py(i,a,Y,l,q,F,I)||t!==null&&t.dependencies!==null&&Ku(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=I,l=Y):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,hc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=ka(i,t.child,null,h),i.child=ka(i,null,a,h)):Lt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Pi(t,i,h),t}function xy(t,i,a,l){return Yo(),i.flags|=256,Lt(t,i,a,l),i.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rd(t){return{baseLanes:t,cachePool:_g()}}function sd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=xn),t}function Oy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(At.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?gr(i):yr(),Be){var T=lt,I;if(I=T){e:{for(I=T,T=ti;I.nodeType!==8;){if(!T){T=null;break e}if(I=jn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:Ns!==null?{id:Ni,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},I=dn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,tn=i,lt=null,I=!0):I=!1}I||Ms(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Hd(T)?i.lanes=32:i.lanes=536870912,null;Vi(i)}return T=l.children,l=l.fallback,h?(yr(),h=i.mode,T=fc({mode:"hidden",children:T},h),l=Ds(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=rd(a),h.childLanes=sd(t,v,a),i.memoizedState=id,l):(gr(i),ad(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(d)i.flags&256?(gr(i),i.flags&=-257,i=od(t,i,a)):i.memoizedState!==null?(yr(),i.child=t.child,i.flags|=128,i=null):(yr(),h=l.fallback,T=i.mode,l=fc({mode:"visible",children:l.children},T),h=Ds(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,ka(i,t.child,null,a),l=i.child,l.memoizedState=rd(a),l.childLanes=sd(t,v,a),i.memoizedState=id,i=h);else if(gr(i),Hd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,$o({value:l,source:null,stack:null}),i=od(t,i,a)}else if(Nt||Xo(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=Je,v!==null&&(l=a&-a,l=(l&42)!==0?1:rr(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Aa(t,l),_n(v,t,l),Ay;T.data==="$?"||wd(),i=od(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,lt=jn(T.nextSibling),tn=i,Be=!0,Os=null,ti=!1,t!==null&&(Cn[Dn++]=Ni,Cn[Dn++]=xi,Cn[Dn++]=Ns,Ni=t.id,xi=t.overflow,Ns=i),i=ad(i,l.children),i.flags|=4096);return i}return h?(yr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Di(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Di(B,h):(h=Ds(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=rd(a):(I=T.cachePool,I!==null?(B=bt._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=_g(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=sd(t,v,a),i.memoizedState=id,l):(gr(i),a=t.child,t=a.sibling,a=Di(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function ad(t,i){return i=fc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function fc(t,i){return t=dn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function od(t,i,a){return ka(i,t.child,null,a),t=ad(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function My(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),wf(t.return,i,a)}function ld(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function ky(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Lt(t,i,l.children,a),l=At.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&My(t,a,i);else if(t.tag===19)My(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(At,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&lc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ld(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&lc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ld(i,!0,a,null,d);break;case"together":ld(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Pi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),br|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Xo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Di(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Di(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ud(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Ku(t)))}function hA(t,i,a){switch(i.tag){case 3:Ze(i,i.stateNode.containerInfo),hr(i,bt,t.memoizedState.cache),Yo();break;case 27:case 5:ir(i);break;case 4:Ze(i,i.stateNode.containerInfo);break;case 10:hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(gr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Oy(t,i,a):(gr(i),t=Pi(t,i,a),t!==null?t.sibling:null);gr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Xo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return ky(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(At,At.current),l)break;return null;case 22:case 23:return i.lanes=0,Iy(t,i,a);case 24:hr(i,bt,t.memoizedState.cache)}return Pi(t,i,a)}function Vy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!ud(t,a)&&(i.flags&128)===0)return Nt=!1,hA(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&hg(i,Gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")_f(l)?(t=Ls(l,t),i.tag=1,i=Ny(null,i,l,t,a)):(i.tag=0,i=nd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===fe){i.tag=11,i=Sy(null,i,l,t,a);break e}else if(h===M){i.tag=14,i=wy(null,i,l,t,a);break e}}throw i=Vt(l)||l,Error(s(306,i,""))}}return i;case 0:return nd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),Ny(t,i,l,h,a);case 3:e:{if(Ze(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Of(t,i),il(i,l,null,a);var v=i.memoizedState;if(l=v.cache,hr(i,bt,l),l!==d.cache&&Rf(i,[bt],a,!0),nl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=xy(t,i,l,a);break e}else if(l!==h){h=Rn(Error(s(424)),i),$o(h),i=xy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=jn(t.firstChild),tn=i,Be=!0,Os=null,ti=!0,a=dy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Yo(),l===h){i=Pi(t,i,a);break e}Lt(t,i,l,a)}i=i.child}return i;case 26:return hc(t,i),t===null?(a=z_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Rc(be.current).createElement(a),l[vt]=i,l[mt]=t,jt(l,a,t),ct(l),i.stateNode=l):i.memoizedState=z_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ir(i),t===null&&Be&&(l=i.stateNode=P_(i.type,i.pendingProps,be.current),tn=i,ti=!0,h=lt,Rr(i.type)?(qd=h,lt=jn(l.firstChild)):lt=h),Lt(t,i,i.pendingProps.children,a),hc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=zA(l,i.type,i.pendingProps,ti),l!==null?(i.stateNode=l,tn=i,lt=jn(l.firstChild),ti=!1,h=!0):h=!1),h||Ms(i)),ir(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,zd(h,d)?l=null:v!==null&&zd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Lf(t,i,iA,null,null,a),wl._currentValue=h),hc(t,i),Lt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=jA(a,i.pendingProps,ti),a!==null?(i.stateNode=a,tn=i,lt=null,t=!0):t=!1),t||Ms(i)),null;case 13:return Oy(t,i,a);case 4:return Ze(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=ka(i,null,l,a):Lt(t,i,l,a),i.child;case 11:return Sy(t,i,i.type,i.pendingProps,a);case 7:return Lt(t,i,i.pendingProps,a),i.child;case 8:return Lt(t,i,i.pendingProps.children,a),i.child;case 12:return Lt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,hr(i,i.type,l.value),Lt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Vs(i),h=Kt(h),l=l(h),i.flags|=1,Lt(t,i,l,a),i.child;case 14:return wy(t,i,i.type,i.pendingProps,a);case 15:return Ry(t,i,i.type,i.pendingProps,a);case 19:return ky(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=fc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Di(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Iy(t,i,a);case 24:return Vs(i),l=Kt(bt),t===null?(h=Df(),h===null&&(h=Je,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},xf(i),hr(i,bt,h)):((t.lanes&a)!==0&&(Of(t,i),il(i,null,null,a),nl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),hr(i,bt,l)):(l=d.cache,hr(i,bt,l),l!==h.cache&&Rf(i,[bt],a,!0))),Lt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Py(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!F_(i)){if(i=Nn.current,i!==null&&((Ue&4194048)===Ue?ni!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==ni))throw el=Nf,vg;t.flags|=8192}}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Io():536870912,t.lanes|=i,La|=i)}function cl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function fA(t,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Mi(bt),qn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,mg())),it(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(it(i),Py(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),it(i),Py(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),it(i),i.flags&=-16777217),null;case 27:gi(i),a=be.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=pe.current,Qo(i)?fg(i):(t=P_(h,l,a),i.stateNode=t,Ui(i))}return it(i),null;case 5:if(gi(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=pe.current,Qo(i))fg(i);else{switch(h=Rc(be.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[vt]=i,t[mt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(jt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=be.current,Qo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=tn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[vt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||D_(t.nodeValue,a)),t||Ms(i)}else t=Rc(t).createTextNode(l),t[vt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[vt]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else h=mg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vi(i),i):(Vi(i),null)}if(Vi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),it(i),null;case 4:return qn(),t===null&&kd(i.stateNode.containerInfo),it(i),null;case 10:return Mi(i.type),it(i),null;case 19:if(oe(At),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)cl(h,!1);else{if(ut!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=lc(t),d!==null){for(i.flags|=128,cl(h,!1),t=d.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)cg(a,t),a=a.sibling;return ie(At,At.current&1|2),i.child}t=t.sibling}h.tail!==null&&En()>gc&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304)}else{if(!l)if(t=lc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),cl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Be)return it(i),null}else 2*En()-h.renderingStartTime>gc&&a!==536870912&&(i.flags|=128,l=!0,cl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=En(),i.sibling=null,t=At.current,ie(At,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Vi(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&oe(Ps),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Mi(bt),it(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function dA(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Mi(bt),qn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return gi(i),null;case 13:if(Vi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return oe(At),null;case 4:return qn(),null;case 10:return Mi(i.type),null;case 22:case 23:return Vi(i),Pf(),t!==null&&oe(Ps),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Mi(bt),null;case 25:return null;default:return null}}function Uy(t,i){switch(bf(i),i.tag){case 3:Mi(bt),qn();break;case 26:case 27:case 5:gi(i);break;case 4:qn();break;case 13:Vi(i);break;case 19:oe(At);break;case 10:Mi(i.type);break;case 22:case 23:Vi(i),Pf(),t!==null&&oe(Ps);break;case 24:Mi(bt)}}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(T){We(i,i.return,T)}}function _r(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(Y){We(h,I,Y)}}}l=l.next}while(l!==d)}}catch(Y){We(i,i.return,Y)}}function Ly(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{wg(i,a)}catch(l){We(t,t.return,l)}}}function zy(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){We(t,i,l)}}function fl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){We(t,i,h)}}function ii(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){We(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){We(t,i,h)}else a.current=null}function jy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){We(t,t.return,h)}}function cd(t,i,a){try{var l=t.stateNode;kA(l,t.type,a,i),l[mt]=i}catch(h){We(t,t.return,h)}}function By(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Rr(t.type)||t.tag===4}function hd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||By(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function fd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=wc));else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(fd(t,i,a),t=t.sibling;t!==null;)fd(t,i,a),t=t.sibling}function mc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Rr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(mc(t,i,a),t=t.sibling;t!==null;)mc(t,i,a),t=t.sibling}function Hy(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);jt(i,l,a),i[vt]=t,i[mt]=a}catch(d){We(t,t.return,d)}}var Li=!1,ft=!1,dd=!1,qy=typeof WeakSet=="function"?WeakSet:Set,xt=null;function mA(t,i){if(t=t.containerInfo,Ud=Oc,t=eg(t),hf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,T=-1,I=-1,B=0,Y=0,Z=t,q=null;t:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(T=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(F=Z.firstChild)!==null;)q=Z,Z=F;for(;;){if(Z===t)break t;if(q===a&&++B===h&&(T=v),q===d&&++Y===l&&(I=v),(F=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=F}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Oc=!1,xt=i;xt!==null;)if(i=xt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,xt=t;else for(;xt!==null;){switch(i=xt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ee=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ee,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ye){We(a,a.return,ye)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,xt=t;break}xt=i.return}}function Fy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:vr(t,a),l&4&&hl(5,a);break;case 1:if(vr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){We(a,a.return,v)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){We(a,a.return,v)}}l&64&&Ly(a),l&512&&fl(a,a.return);break;case 3:if(vr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{wg(t,i)}catch(v){We(a,a.return,v)}}break;case 27:i===null&&l&4&&Hy(a);case 26:case 5:vr(t,a),i===null&&l&4&&jy(a),l&512&&fl(a,a.return);break;case 12:vr(t,a);break;case 13:vr(t,a),l&4&&Qy(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=AA.bind(null,a),BA(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||ft,h=Li;var d=ft;Li=l,(ft=i)&&!d?Er(t,a,(a.subtreeFlags&8772)!==0):vr(t,a),Li=h,ft=d}break;case 30:break;default:vr(t,a)}}function Gy(t){var i=t.alternate;i!==null&&(t.alternate=null,Gy(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&or(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var tt=null,sn=!1;function zi(t,i,a){for(a=a.child;a!==null;)Ky(t,i,a),a=a.sibling}function Ky(t,i,a){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(ot,a)}catch{}switch(a.tag){case 26:ft||ii(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ft||ii(a,i);var l=tt,h=sn;Rr(a.type)&&(tt=a.stateNode,sn=!1),zi(t,i,a),Tl(a.stateNode),tt=l,sn=h;break;case 5:ft||ii(a,i);case 6:if(l=tt,h=sn,tt=null,zi(t,i,a),tt=l,sn=h,tt!==null)if(sn)try{(tt.nodeType===9?tt.body:tt.nodeName==="HTML"?tt.ownerDocument.body:tt).removeChild(a.stateNode)}catch(d){We(a,i,d)}else try{tt.removeChild(a.stateNode)}catch(d){We(a,i,d)}break;case 18:tt!==null&&(sn?(t=tt,k_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Dl(t)):k_(tt,a.stateNode));break;case 4:l=tt,h=sn,tt=a.stateNode.containerInfo,sn=!0,zi(t,i,a),tt=l,sn=h;break;case 0:case 11:case 14:case 15:ft||_r(2,a,i),ft||_r(4,a,i),zi(t,i,a);break;case 1:ft||(ii(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&zy(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:ft=(l=ft)||a.memoizedState!==null,zi(t,i,a),ft=l;break;default:zi(t,i,a)}}function Qy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){We(i,i.return,a)}}function pA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new qy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new qy),i;default:throw Error(s(435,t.tag))}}function md(t,i){var a=pA(t);i.forEach(function(l){var h=SA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,T=v;e:for(;T!==null;){switch(T.tag){case 27:if(Rr(T.type)){tt=T.stateNode,sn=!1;break e}break;case 5:tt=T.stateNode,sn=!1;break e;case 3:case 4:tt=T.stateNode.containerInfo,sn=!0;break e}T=T.return}if(tt===null)throw Error(s(160));Ky(d,v,h),tt=null,sn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Yy(i,t),i=i.sibling}var zn=null;function Yy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:mn(i,t),pn(t),l&4&&(_r(3,t,t.return),hl(3,t),_r(5,t,t.return));break;case 1:mn(i,t),pn(t),l&512&&(ft||a===null||ii(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=zn;if(mn(i,t),pn(t),l&512&&(ft||a===null||ii(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[ds]||d[vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),jt(d,l,a),d[vt]=t,ct(d),l=d;break e;case"link":var v=H_("link","href",h).get(l+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(d=v[T],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=H_("meta","content",h).get(l+(a.content||""))){for(T=0;T<v.length;T++)if(d=v[T],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break t}}d=h.createElement(l),jt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[vt]=t,ct(d),l=d}t.stateNode=l}else q_(h,t.type,t.stateNode);else t.stateNode=B_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?q_(h,t.type,t.stateNode):B_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&cd(t,t.memoizedProps,a.memoizedProps)}break;case 27:mn(i,t),pn(t),l&512&&(ft||a===null||ii(a,a.return)),a!==null&&l&4&&cd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(mn(i,t),pn(t),l&512&&(ft||a===null||ii(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(F){We(t,t.return,F)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,cd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(dd=!0);break;case 6:if(mn(i,t),pn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(F){We(t,t.return,F)}}break;case 3:if(Dc=null,h=zn,zn=Ic(i.containerInfo),mn(i,t),zn=h,pn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(F){We(t,t.return,F)}dd&&(dd=!1,$y(t));break;case 4:l=zn,zn=Ic(t.stateNode.containerInfo),mn(i,t),pn(t),zn=l;break;case 12:mn(i,t),pn(t);break;case 13:mn(i,t),pn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ed=En()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Li,Y=ft;if(Li=B||h,ft=Y||I,mn(i,t),ft=Y,Li=B,pn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Li||ft||zs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(F){We(I,I.return,F)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(F){We(I,I.return,F)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,md(t,a))));break;case 19:mn(i,t),pn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,md(t,l)));break;case 30:break;case 21:break;default:mn(i,t),pn(t)}}function pn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(By(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=hd(t);mc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(bn(v,""),a.flags&=-33);var T=hd(t);mc(t,T,v);break;case 3:case 4:var I=a.stateNode.containerInfo,B=hd(t);fd(t,B,I);break;default:throw Error(s(161))}}catch(Y){We(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $y(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$y(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function vr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Fy(t,i.alternate,i),i=i.sibling}function zs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:_r(4,i,i.return),zs(i);break;case 1:ii(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&zy(i,i.return,a),zs(i);break;case 27:Tl(i.stateNode);case 26:case 5:ii(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}t=t.sibling}}function Er(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Er(h,d,a),hl(4,d);break;case 1:if(Er(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){We(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Sg(I[h],T)}catch(B){We(l,l.return,B)}}a&&v&64&&Ly(d),fl(d,d.return);break;case 27:Hy(d);case 26:case 5:Er(h,d,a),a&&l===null&&v&4&&jy(d),fl(d,d.return);break;case 12:Er(h,d,a);break;case 13:Er(h,d,a),a&&v&4&&Qy(h,d);break;case 22:d.memoizedState===null&&Er(h,d,a),fl(d,d.return);break;case 30:break;default:Er(h,d,a)}i=i.sibling}}function pd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Wo(a))}function gd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t))}function ri(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Xy(t,i,a,l),i=i.sibling}function Xy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ri(t,i,a,l),h&2048&&hl(9,i);break;case 1:ri(t,i,a,l);break;case 3:ri(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Wo(t)));break;case 12:if(h&2048){ri(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,T=d.onPostCommit;typeof T=="function"&&T(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){We(i,i.return,I)}}else ri(t,i,a,l);break;case 13:ri(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ri(t,i,a,l):dl(t,i):d._visibility&2?ri(t,i,a,l):(d._visibility|=2,Va(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&pd(v,i);break;case 24:ri(t,i,a,l),h&2048&&gd(i.alternate,i);break;default:ri(t,i,a,l)}}function Va(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,T=a,I=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Va(d,v,T,I,h),hl(8,v);break;case 23:break;case 22:var Y=v.stateNode;v.memoizedState!==null?Y._visibility&2?Va(d,v,T,I,h):dl(d,v):(Y._visibility|=2,Va(d,v,T,I,h)),h&&B&2048&&pd(v.alternate,v);break;case 24:Va(d,v,T,I,h),h&&B&2048&&gd(v.alternate,v);break;default:Va(d,v,T,I,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&pd(l.alternate,l);break;case 24:dl(a,l),h&2048&&gd(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Pa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Wy(t),t=t.sibling}function Wy(t){switch(t.tag){case 26:Pa(t),t.flags&ml&&t.memoizedState!==null&&eS(zn,t.memoizedState,t.memoizedProps);break;case 5:Pa(t);break;case 3:case 4:var i=zn;zn=Ic(t.stateNode.containerInfo),Pa(t),zn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Pa(t),ml=i):Pa(t));break;default:Pa(t)}}function Zy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,e_(l,t)}Zy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Jy(t),t=t.sibling}function Jy(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&_r(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,pc(t)):pl(t);break;default:pl(t)}}function pc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];xt=l,e_(l,t)}Zy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:_r(8,i,i.return),pc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,pc(i));break;default:pc(i)}t=t.sibling}}function e_(t,i){for(;xt!==null;){var a=xt;switch(a.tag){case 0:case 11:case 15:_r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Wo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xt=l;else e:for(a=t;xt!==null;){l=xt;var h=l.sibling,d=l.return;if(Gy(l),l===a){xt=null;break e}if(h!==null){h.return=d,xt=h;break e}xt=d}}}var gA={getCacheForType:function(t){var i=Kt(bt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},yA=typeof WeakMap=="function"?WeakMap:Map,Ge=0,Je=null,xe=null,Ue=0,Ke=0,gn=null,Tr=!1,Ua=!1,yd=!1,ji=0,ut=0,br=0,js=0,_d=0,xn=0,La=0,gl=null,an=null,vd=!1,Ed=0,gc=1/0,yc=null,Ar=null,zt=0,Sr=null,za=null,ja=0,Td=0,bd=null,t_=null,yl=0,Ad=null;function yn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Q.T!==null){var t=Ia;return t!==0?t:Nd()}return sr()}function n_(){xn===0&&(xn=(Ue&536870912)===0||Be?Ro():536870912);var t=Nn.current;return t!==null&&(t.flags|=32),xn}function _n(t,i,a){(t===Je&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)&&(Ba(t,0),wr(t,Ue,xn,!1)),_i(t,a),((Ge&2)===0||t!==Je)&&(t===Je&&((Ge&2)===0&&(js|=a),ut===4&&wr(t,Ue,xn,!1)),si(t))}function i_(t,i,a){if((Ge&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||fs(t,i),h=l?EA(t,i):Rd(t,i,!0),d=l;do{if(h===0){Ua&&!l&&wr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!_A(a)){h=Rd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var T=t;h=gl;var I=T.current.memoizedState.isDehydrated;if(I&&(Ba(T,v).flags|=256),v=Rd(T,v,!1),v!==2){if(yd&&!I){T.errorRecoveryDisabledLanes|=d,js|=d,h=4;break e}d=an,an=h,d!==null&&(an===null?an=d:an.push.apply(an,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ba(t,0),wr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:wr(l,i,xn,!Tr);break e;case 2:an=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Ed+300-En(),10<h)){if(wr(l,i,xn,!Tr),ra(l,0,!0)!==0)break e;l.timeoutHandle=O_(r_.bind(null,l,a,an,yc,vd,i,xn,js,La,Tr,d,2,-0,0),h);break e}r_(l,a,an,yc,vd,i,xn,js,La,Tr,d,0,-0,0)}}break}while(!0);si(t)}function r_(t,i,a,l,h,d,v,T,I,B,Y,Z,q,F){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:JA},Wy(i),Z=tS(),Z!==null)){t.cancelPendingCommit=Z(h_.bind(null,t,i,d,a,l,h,v,T,I,Y,1,q,F)),wr(t,d,v,!B);return}h_(t,i,d,a,l,h,v,T,I)}function _A(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!fn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function wr(t,i,a,l){i&=~_d,i&=~js,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-Gt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Fn(t,a,i)}function _c(){return(Ge&6)===0?(_l(0),!1):!0}function Sd(){if(xe!==null){if(Ke===0)var t=xe.return;else t=xe,Oi=ks=null,Bf(t),Ma=null,ll=0,t=xe;for(;t!==null;)Uy(t.alternate,t),t=t.return;xe=null}}function Ba(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,PA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sd(),Je=t,xe=a=Di(t.current,null),Ue=i,Ke=0,gn=null,Tr=!1,Ua=fs(t,i),yd=!1,La=xn=_d=js=br=ut=0,an=gl=null,vd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Gt(l),d=1<<h;i|=t[h],l&=~d}return ji=i,ju(),a}function s_(t,i){Ie=null,Q.H=sc,i===Jo||i===$u?(i=bg(),Ke=3):i===vg?(i=bg(),Ke=4):Ke=i===Ay?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,gn=i,xe===null&&(ut=1,cc(t,Rn(i,t.current)))}function a_(){var t=Q.H;return Q.H=sc,t===null?sc:t}function o_(){var t=Q.A;return Q.A=gA,t}function wd(){ut=4,Tr||(Ue&4194048)!==Ue&&Nn.current!==null||(Ua=!0),(br&134217727)===0&&(js&134217727)===0||Je===null||wr(Je,Ue,xn,!1)}function Rd(t,i,a){var l=Ge;Ge|=2;var h=a_(),d=o_();(Je!==t||Ue!==i)&&(yc=null,Ba(t,i)),i=!1;var v=ut;e:do try{if(Ke!==0&&xe!==null){var T=xe,I=gn;switch(Ke){case 8:Sd(),v=6;break e;case 3:case 2:case 9:case 6:Nn.current===null&&(i=!0);var B=Ke;if(Ke=0,gn=null,Ha(t,T,I,B),a&&Ua){v=0;break e}break;default:B=Ke,Ke=0,gn=null,Ha(t,T,I,B)}}vA(),v=ut;break}catch(Y){s_(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Oi=ks=null,Ge=l,Q.H=h,Q.A=d,xe===null&&(Je=null,Ue=0,ju()),v}function vA(){for(;xe!==null;)l_(xe)}function EA(t,i){var a=Ge;Ge|=2;var l=a_(),h=o_();Je!==t||Ue!==i?(yc=null,gc=En()+500,Ba(t,i)):Ua=fs(t,i);e:do try{if(Ke!==0&&xe!==null){i=xe;var d=gn;t:switch(Ke){case 1:Ke=0,gn=null,Ha(t,i,d,1);break;case 2:case 9:if(Eg(d)){Ke=0,gn=null,u_(i);break}i=function(){Ke!==2&&Ke!==9||Je!==t||(Ke=7),si(t)},d.then(i,i);break e;case 3:Ke=7;break e;case 4:Ke=5;break e;case 7:Eg(d)?(Ke=0,gn=null,u_(i)):(Ke=0,gn=null,Ha(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var T=xe;if(!v||F_(v)){Ke=0,gn=null;var I=T.sibling;if(I!==null)xe=I;else{var B=T.return;B!==null?(xe=B,vc(B)):xe=null}break t}}Ke=0,gn=null,Ha(t,i,d,5);break;case 6:Ke=0,gn=null,Ha(t,i,d,6);break;case 8:Sd(),ut=6;break e;default:throw Error(s(462))}}TA();break}catch(Y){s_(t,Y)}while(!0);return Oi=ks=null,Q.H=l,Q.A=h,Ge=a,xe!==null?0:(Je=null,Ue=0,ju(),ut)}function TA(){for(;xe!==null&&!bo();)l_(xe)}function l_(t){var i=Vy(t.alternate,t,ji);t.memoizedProps=t.pendingProps,i===null?vc(t):xe=i}function u_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Dy(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=Dy(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Bf(i);default:Uy(a,i),i=xe=cg(i,ji),i=Vy(a,i,ji)}t.memoizedProps=t.pendingProps,i===null?vc(t):xe=i}function Ha(t,i,a,l){Oi=ks=null,Bf(i),Ma=null,ll=0;var h=i.return;try{if(cA(t,h,i,a,Ue)){ut=1,cc(t,Rn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ut=1,cc(t,Rn(a,t.current)),xe=null;return}i.flags&32768?(Be||l===1?t=!0:Ua||(Ue&536870912)!==0?t=!1:(Tr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Nn.current,l!==null&&l.tag===13&&(l.flags|=16384))),c_(i,t)):vc(i)}function vc(t){var i=t;do{if((i.flags&32768)!==0){c_(i,Tr);return}t=i.return;var a=fA(i.alternate,i,ji);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ut===0&&(ut=5)}function c_(t,i){do{var a=dA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ut=6,xe=null}function h_(t,i,a,l,h,d,v,T,I){t.cancelPendingCommit=null;do Ec();while(zt!==0);if((Ge&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=gf,Co(t,a,d,v,T,I),t===Je&&(xe=Je=null,Ue=0),za=i,Sr=t,ja=a,Td=d,bd=h,t_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,wA(ls,function(){return g_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,h=ae.p,ae.p=2,v=Ge,Ge|=4;try{mA(t,i,a)}finally{Ge=v,ae.p=h,Q.T=l}}zt=1,f_(),d_(),m_()}}function f_(){if(zt===1){zt=0;var t=Sr,i=za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Yy(i,t);var d=Ld,v=eg(t.containerInfo),T=d.focusedElem,I=d.selectionRange;if(v!==T&&T&&T.ownerDocument&&Jp(T.ownerDocument.documentElement,T)){if(I!==null&&hf(T)){var B=I.start,Y=I.end;if(Y===void 0&&(Y=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(Y,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var F=q.getSelection(),Ee=T.textContent.length,ye=Math.min(I.start,Ee),Xe=I.end===void 0?ye:Math.min(I.end,Ee);!F.extend&&ye>Xe&&(v=Xe,Xe=ye,ye=v);var P=Zp(T,ye),O=Zp(T,Xe);if(P&&O&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var j=Z.createRange();j.setStart(P.node,P.offset),F.removeAllRanges(),ye>Xe?(F.addRange(j),F.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),F.addRange(j))}}}}for(Z=[],F=T;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var W=Z[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Oc=!!Ud,Ld=Ud=null}finally{Ge=h,ae.p=l,Q.T=a}}t.current=i,zt=2}}function d_(){if(zt===2){zt=0;var t=Sr,i=za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=ae.p;ae.p=2;var h=Ge;Ge|=4;try{Fy(t,i.alternate,i)}finally{Ge=h,ae.p=l,Q.T=a}}zt=3}}function m_(){if(zt===4||zt===3){zt=0,pu();var t=Sr,i=za,a=ja,l=t_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?zt=5:(zt=0,za=Sr=null,p_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Ar=null),sa(a),i=i.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(ot,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,h=ae.p,ae.p=2,Q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var T=l[v];d(T.value,{componentStack:T.stack})}}finally{Q.T=i,ae.p=h}}(ja&3)!==0&&Ec(),si(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===Ad?yl++:(yl=0,Ad=t):yl=0,_l(0)}}function p_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Wo(i)))}function Ec(t){return f_(),d_(),m_(),g_()}function g_(){if(zt!==5)return!1;var t=Sr,i=Td;Td=0;var a=sa(ja),l=Q.T,h=ae.p;try{ae.p=32>a?32:a,Q.T=null,a=bd,bd=null;var d=Sr,v=ja;if(zt=0,za=Sr=null,ja=0,(Ge&6)!==0)throw Error(s(331));var T=Ge;if(Ge|=4,Jy(d.current),Xy(d,d.current,v,a),Ge=T,_l(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(ot,d)}catch{}return!0}finally{ae.p=h,Q.T=l,p_(t,i)}}function y_(t,i,a){i=Rn(a,i),i=td(t.stateNode,i,2),t=mr(t,i,2),t!==null&&(_i(t,2),si(t))}function We(t,i,a){if(t.tag===3)y_(t,t,a);else for(;i!==null;){if(i.tag===3){y_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ar===null||!Ar.has(l))){t=Rn(a,t),a=Ty(2),l=mr(i,a,2),l!==null&&(by(a,l,i,t),_i(l,2),si(l));break}}i=i.return}}function Id(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(yd=!0,h.add(a),t=bA.bind(null,t,i,a),i.then(t,t))}function bA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ut===4||ut===3&&(Ue&62914560)===Ue&&300>En()-Ed?(Ge&2)===0&&Ba(t,0):_d|=a,La===Ue&&(La=0)),si(t)}function __(t,i){i===0&&(i=Io()),t=Aa(t,i),t!==null&&(_i(t,i),si(t))}function AA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),__(t,a)}function SA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),__(t,a)}function wA(t,i){return as(t,i)}var Tc=null,qa=null,Cd=!1,bc=!1,Dd=!1,Bs=0;function si(t){t!==qa&&t.next===null&&(qa===null?Tc=qa=t:qa=qa.next=t),bc=!0,Cd||(Cd=!0,IA())}function _l(t,i){if(!Dd&&bc){Dd=!0;do for(var a=!1,l=Tc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,T=l.pingedLanes;d=(1<<31-Gt(42|t)+1)-1,d&=h&~(v&~T),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,b_(l,d))}else d=Ue,d=ra(l,l===Je?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||fs(l,d)||(a=!0,b_(l,d));l=l.next}while(a);Dd=!1}}function RA(){v_()}function v_(){bc=Cd=!1;var t=0;Bs!==0&&(VA()&&(t=Bs),Bs=0);for(var i=En(),a=null,l=Tc;l!==null;){var h=l.next,d=E_(l,i);d===0?(l.next=null,a===null?Tc=h:a.next=h,h===null&&(qa=a)):(a=l,(t!==0||(d&3)!==0)&&(bc=!0)),l=h}_l(t)}function E_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-Gt(d),T=1<<v,I=h[v];I===-1?((T&a)===0||(T&l)!==0)&&(h[v]=wo(T,i)):I<=i&&(t.expiredLanes|=T),d&=~T}if(i=Je,a=Ue,a=ra(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ke===2||Ke===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&os(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fs(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&os(l),sa(a)){case 2:case 8:a=na;break;case 32:a=ls;break;case 268435456:a=ia;break;default:a=ls}return l=T_.bind(null,t),a=as(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&os(l),t.callbackPriority=2,t.callbackNode=null,2}function T_(t,i){if(zt!==0&&zt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ec()&&t.callbackNode!==a)return null;var l=Ue;return l=ra(t,t===Je?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(i_(t,l,i),E_(t,En()),t.callbackNode!=null&&t.callbackNode===a?T_.bind(null,t):null)}function b_(t,i){if(Ec())return null;i_(t,i,!0)}function IA(){UA(function(){(Ge&6)!==0?as(Ao,RA):v_()})}function Nd(){return Bs===0&&(Bs=Ro()),Bs}function A_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ha(""+t)}function S_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function CA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=A_((h[mt]||null).action),v=l.submitter;v&&(i=(i=v[mt]||null)?A_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var T=new fa("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var I=v?S_(h,v):new FormData(h);Xf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(T.preventDefault(),I=v?S_(h,v):new FormData(h),Xf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var xd=0;xd<pf.length;xd++){var Od=pf[xd],DA=Od.toLowerCase(),NA=Od[0].toUpperCase()+Od.slice(1);Ln(DA,"on"+NA)}Ln(ig,"onAnimationEnd"),Ln(rg,"onAnimationIteration"),Ln(sg,"onAnimationStart"),Ln("dblclick","onDoubleClick"),Ln("focusin","onFocus"),Ln("focusout","onBlur"),Ln(Qb,"onTransitionRun"),Ln(Yb,"onTransitionStart"),Ln($b,"onTransitionCancel"),Ln(ag,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),Pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function w_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var T=l[v],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){uc(Y)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(T=l[v],I=T.instance,B=T.currentTarget,T=T.listener,I!==d&&h.isPropagationStopped())break e;d=T,h.currentTarget=B;try{d(h)}catch(Y){uc(Y)}h.currentTarget=null,d=I}}}}function Oe(t,i){var a=i[No];a===void 0&&(a=i[No]=new Set);var l=t+"__bubble";a.has(l)||(R_(i,t,2,!1),a.add(l))}function Md(t,i,a){var l=0;i&&(l|=4),R_(a,t,l,i)}var Ac="_reactListening"+Math.random().toString(36).slice(2);function kd(t){if(!t[Ac]){t[Ac]=!0,xo.forEach(function(a){a!=="selectionchange"&&(xA.has(a)||Md(a,!1,t),Md(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Ac]||(i[Ac]=!0,Md("selectionchange",!1,i))}}function R_(t,i,a,l){switch(X_(i)){case 2:var h=rS;break;case 8:h=sS;break;default:h=Yd}a=h.bind(null,i,a,t),h=void 0,!Sn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var T=l.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=vi(T),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}T=T.parentNode}}l=l.return}wu(function(){var B=d,Y=An(a),Z=[];e:{var q=og.get(t);if(q!==void 0){var F=fa,Ee=t;switch(t){case"keypress":if(Xn(a)===0)break e;case"keydown":case"keyup":F=_a;break;case"focusin":Ee="focus",F=pa;break;case"focusout":Ee="blur",F=pa;break;case"beforeblur":case"afterblur":F=pa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=wn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=of;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=Mu;break;case ig:case rg:case sg:F=ga;break;case ag:F=Vu;break;case"scroll":case"scrollend":F=Ru;break;case"wheel":F=va;break;case"copy":case"cut":case"paste":F=ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=qo;break;case"toggle":case"beforetoggle":F=Uu}var ye=(i&4)!==0,Xe=!ye&&(t==="scroll"||t==="scrollend"),P=ye?q!==null?q+"Capture":null:q;ye=[];for(var O=B,j;O!==null;){var W=O;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||P===null||(W=Es(O,P),W!=null&&ye.push(El(O,W,j))),Xe)break;O=O.return}0<ye.length&&(q=new F(q,Ee,null,a,Y),Z.push({event:q,listeners:ye}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",q&&a!==Ai&&(Ee=a.relatedTarget||a.fromElement)&&(vi(Ee)||Ee[Tn]))break e;if((F||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,F?(Ee=a.relatedTarget||a.toElement,F=B,Ee=Ee?vi(Ee):null,Ee!==null&&(Xe=u(Ee),ye=Ee.tag,Ee!==Xe||ye!==5&&ye!==27&&ye!==6)&&(Ee=null)):(F=null,Ee=B),F!==Ee)){if(ye=wn,W="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ye=qo,W="onPointerLeave",P="onPointerEnter",O="pointer"),Xe=F==null?q:Kn(F),j=Ee==null?q:Kn(Ee),q=new ye(W,O+"leave",F,a,Y),q.target=Xe,q.relatedTarget=j,W=null,vi(Y)===B&&(ye=new ye(P,O+"enter",Ee,a,Y),ye.target=j,ye.relatedTarget=Xe,W=ye),Xe=W,F&&Ee)t:{for(ye=F,P=Ee,O=0,j=ye;j;j=Fa(j))O++;for(j=0,W=P;W;W=Fa(W))j++;for(;0<O-j;)ye=Fa(ye),O--;for(;0<j-O;)P=Fa(P),j--;for(;O--;){if(ye===P||P!==null&&ye===P.alternate)break t;ye=Fa(ye),P=Fa(P)}ye=null}else ye=null;F!==null&&I_(Z,q,F,ye,!1),Ee!==null&&Xe!==null&&I_(Z,Xe,Ee,ye,!0)}}e:{if(q=B?Kn(B):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var ue=Kp;else if(Tt(q))if(Qp)ue=Fb;else{ue=Hb;var Ne=Bb}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Po(B.elementType)&&(ue=Kp):ue=qb;if(ue&&(ue=ue(t,B))){Ci(Z,ue,a,Y);break e}Ne&&Ne(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ur(q,"number",q.value)}switch(Ne=B?Kn(B):window,t){case"focusin":(Tt(Ne)||Ne.contentEditable==="true")&&(Ea=Ne,ff=B,Ko=null);break;case"focusout":Ko=ff=Ea=null;break;case"mousedown":df=!0;break;case"contextmenu":case"mouseup":case"dragend":df=!1,tg(Z,a,Y);break;case"selectionchange":if(Kb)break;case"keydown":case"keyup":tg(Z,a,Y)}var he;if(Jn)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ve?G(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(_&&a.locale!=="ko"&&(Ve||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ve&&(he=Lo()):($n=Y,cr="value"in $n?$n.value:$n.textContent,Ve=!0)),Ne=Sc(B,_e),0<Ne.length&&(_e=new Bo(_e,t,null,a,Y),Z.push({event:_e,listeners:Ne}),he?_e.data=he:(he=se(a),he!==null&&(_e.data=he)))),(he=y?Et(t,a):Pe(t,a))&&(_e=Sc(B,"onBeforeInput"),0<_e.length&&(Ne=new Bo("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Ne,listeners:_e}),Ne.data=he)),CA(Z,t,B,a,Y)}w_(Z,i)})}function El(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(El(t,h,d)),h=Es(t,i),h!=null&&l.push(El(t,h,d))),t.tag===3)return l;t=t.return}return[]}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function I_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=Es(a,d),B!=null&&v.unshift(El(a,B,I))):h||(B=Es(a,d),B!=null&&v.push(El(a,B,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var OA=/\r\n?/g,MA=/\u0000|\uFFFD/g;function C_(t){return(typeof t=="string"?t:""+t).replace(OA,`
`).replace(MA,"")}function D_(t,i){return i=C_(i),C_(t)===i}function wc(){}function $e(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":Qn(t,"class",l);break;case"tabIndex":Qn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Qn(t,a,l);break;case"style":Vo(t,l,d);break;case"data":if(i!=="object"){Qn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&$e(t,i,"name",h.name,h,null),$e(t,i,"formEncType",h.formEncType,h,null),$e(t,i,"formMethod",h.formMethod,h,null),$e(t,i,"formTarget",h.formTarget,h,null)):($e(t,i,"encType",h.encType,h,null),$e(t,i,"method",h.method,h,null),$e(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ha(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=wc);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ha(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Oe("beforetoggle",t),Oe("toggle",t),lr(t,"popover",l);break;case"xlinkActuate":Pt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":lr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=sf.get(a)||a,lr(t,a,l))}}function Pd(t,i,a,l,h,d){switch(a){case"style":Vo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&Oe("scroll",t);break;case"onScrollEnd":l!=null&&Oe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!aa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):lr(t,a,l)}}}function jt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",t),Oe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,d,v,a,null)}}h&&$e(t,i,"srcSet",a.srcSet,a,null),l&&$e(t,i,"src",a.src,a,null);return;case"input":Oe("invalid",t);var T=d=v=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":v=Y;break;case"checked":I=Y;break;case"defaultChecked":B=Y;break;case"value":d=Y;break;case"defaultValue":T=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:$e(t,i,l,Y,a,null)}}ys(t,d,T,I,B,v,h,!1),ca(t);return;case"select":Oe("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":d=T;break;case"defaultValue":v=T;break;case"multiple":l=T;default:$e(t,i,h,T,a,null)}i=d,a=v,t.multiple=!!l,i!=null?bi(t,!!l,i,!1):a!=null&&bi(t,!!l,a,!0);return;case"textarea":Oe("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":l=T;break;case"defaultValue":h=T;break;case"children":d=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:$e(t,i,v,T,a,null)}_s(t,l,h,d),ca(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:$e(t,i,I,l,a,null)}return;case"dialog":Oe("beforetoggle",t),Oe("toggle",t),Oe("cancel",t),Oe("close",t);break;case"iframe":case"object":Oe("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Oe(vl[l],t);break;case"image":Oe("error",t),Oe("load",t);break;case"details":Oe("toggle",t);break;case"embed":case"source":case"link":Oe("error",t),Oe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:$e(t,i,B,l,a,null)}return;default:if(Po(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Pd(t,i,Y,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&$e(t,i,T,l,a,null))}function kA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,T=null,I=null,B=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(F)||$e(t,i,F,null,l,Z)}}for(var q in l){var F=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(F!=null||Z!=null))switch(q){case"type":d=F;break;case"name":h=F;break;case"checked":B=F;break;case"defaultChecked":Y=F;break;case"value":v=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:F!==Z&&$e(t,i,q,F,l,Z)}}hn(t,v,T,I,B,Y,d,h);return;case"select":F=v=T=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":F=I;default:l.hasOwnProperty(d)||$e(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":T=d;break;case"multiple":v=d;default:d!==I&&$e(t,i,h,d,l,I)}i=T,a=v,l=F,q!=null?bi(t,!!a,q,!1):!!l!=!!a&&(i!=null?bi(t,!!a,i,!0):bi(t,!!a,a?[]:"",!1));return;case"textarea":F=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:$e(t,i,T,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&$e(t,i,v,h,l,d)}Qe(t,q,F);return;case"option":for(var Ee in a)if(q=a[Ee],a.hasOwnProperty(Ee)&&q!=null&&!l.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:$e(t,i,Ee,null,l,q)}for(I in l)if(q=l[I],F=a[I],l.hasOwnProperty(I)&&q!==F&&(q!=null||F!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:$e(t,i,I,q,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)q=a[ye],a.hasOwnProperty(ye)&&q!=null&&!l.hasOwnProperty(ye)&&$e(t,i,ye,null,l,q);for(B in l)if(q=l[B],F=a[B],l.hasOwnProperty(B)&&q!==F&&(q!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:$e(t,i,B,q,l,F)}return;default:if(Po(i)){for(var Xe in a)q=a[Xe],a.hasOwnProperty(Xe)&&q!==void 0&&!l.hasOwnProperty(Xe)&&Pd(t,i,Xe,void 0,l,q);for(Y in l)q=l[Y],F=a[Y],!l.hasOwnProperty(Y)||q===F||q===void 0&&F===void 0||Pd(t,i,Y,q,l,F);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&$e(t,i,P,null,l,q);for(Z in l)q=l[Z],F=a[Z],!l.hasOwnProperty(Z)||q===F||q==null&&F==null||$e(t,i,Z,q,l,F)}var Ud=null,Ld=null;function Rc(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function x_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function zd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function VA(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var O_=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,M_=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof M_<"u"?function(t){return M_.resolve(null).then(t).catch(LA)}:O_;function LA(t){setTimeout(function(){throw t})}function Rr(t){return t==="head"}function k_(t,i){var a=i,l=0,h=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&Tl(v.documentElement),a&2&&Tl(v.body),a&4)for(a=v.head,Tl(a),v=a.firstChild;v;){var T=v.nextSibling,I=v.nodeName;v[ds]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){t.removeChild(d),Dl(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Dl(i)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),or(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function zA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ds])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function jA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=jn(t.nextSibling),t===null))return null;return t}function Hd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function BA(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var qd=null;function V_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function P_(t,i,a){switch(i=Rc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Tl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);or(t)}var On=new Map,U_=new Set;function Ic(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Bi=ae.d;ae.d={f:HA,r:qA,D:FA,C:GA,L:KA,m:QA,X:$A,S:YA,M:XA};function HA(){var t=Bi.f(),i=_c();return t||i}function qA(t){var i=Gn(t);i!==null&&i.tag===5&&i.type==="form"?iy(i):Bi.r(t)}var Ga=typeof document>"u"?null:document;function L_(t,i,a){var l=Ga;if(l&&typeof i=="string"&&i){var h=pt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),U_.has(h)||(U_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),jt(i,"link",t),ct(i),l.head.appendChild(i)))}}function FA(t){Bi.D(t),L_("dns-prefetch",t,null)}function GA(t,i){Bi.C(t,i),L_("preconnect",t,i)}function KA(t,i,a){Bi.L(t,i,a);var l=Ga;if(l&&t&&i){var h='link[rel="preload"][as="'+pt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+pt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+pt(a.imageSizes)+'"]')):h+='[href="'+pt(t)+'"]';var d=h;switch(i){case"style":d=Ka(t);break;case"script":d=Qa(t)}On.has(d)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),On.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(bl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),jt(i,"link",t),ct(i),l.head.appendChild(i)))}}function QA(t,i){Bi.m(t,i);var a=Ga;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+pt(l)+'"][href="'+pt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Qa(t)}if(!On.has(d)&&(t=E({rel:"modulepreload",href:t},i),On.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),jt(l,"link",t),ct(l),a.head.appendChild(l)}}}function YA(t,i,a){Bi.S(t,i,a);var l=Ga;if(l&&t){var h=Zt(l).hoistableStyles,d=Ka(t);i=i||"default";var v=h.get(d);if(!v){var T={loading:0,preload:null};if(v=l.querySelector(bl(d)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=On.get(d))&&Fd(t,a);var I=v=l.createElement("link");ct(I),jt(I,"link",t),I._p=new Promise(function(B,Y){I.onload=B,I.onerror=Y}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Cc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(d,v)}}}function $A(t,i){Bi.X(t,i);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0},i),(i=On.get(h))&&Gd(t,i),d=a.createElement("script"),ct(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function XA(t,i){Bi.M(t,i);var a=Ga;if(a&&t){var l=Zt(a).hoistableScripts,h=Qa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=E({src:t,async:!0,type:"module"},i),(i=On.get(h))&&Gd(t,i),d=a.createElement("script"),ct(d),jt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function z_(t,i,a,l){var h=(h=be.current)?Ic(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Ka(a.href),a=Zt(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Ka(a.href);var d=Zt(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(bl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),On.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},On.set(t,a),d||WA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Qa(a),a=Zt(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Ka(t){return'href="'+pt(t)+'"'}function bl(t){return'link[rel="stylesheet"]['+t+"]"}function j_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function WA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),jt(i,"link",a),ct(i),t.head.appendChild(i))}function Qa(t){return'[src="'+pt(t)+'"]'}function Al(t){return"script[async]"+t}function B_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+pt(a.href)+'"]');if(l)return i.instance=l,ct(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ct(l),jt(l,"style",h),Cc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Ka(a.href);var d=t.querySelector(bl(h));if(d)return i.state.loading|=4,i.instance=d,ct(d),d;l=j_(a),(h=On.get(h))&&Fd(l,h),d=(t.ownerDocument||t).createElement("link"),ct(d);var v=d;return v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),jt(d,"link",l),i.state.loading|=4,Cc(d,a.precedence,t),i.instance=d;case"script":return d=Qa(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,ct(h),h):(l=a,(h=On.get(d))&&(l=E({},a),Gd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),ct(h),jt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Cc(l,a.precedence,t));return i.instance}function Cc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var T=l[v];if(T.dataset.precedence===i)d=T;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Fd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Dc=null;function H_(t,i,a){if(Dc===null){var l=new Map,h=Dc=new Map;h.set(a,l)}else h=Dc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[ds]||d[vt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var T=l.get(v);T?T.push(d):l.set(v,[d])}}return l}function q_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function ZA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function F_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Sl=null;function JA(){}function eS(t,i,a){if(Sl===null)throw Error(s(475));var l=Sl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Ka(a.href),d=t.querySelector(bl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Nc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,ct(d);return}d=t.ownerDocument||t,a=j_(a),(h=On.get(h))&&Fd(a,h),d=d.createElement("link"),ct(d);var v=d;v._p=new Promise(function(T,I){v.onload=T,v.onerror=I}),jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Nc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function tS(){if(Sl===null)throw Error(s(475));var t=Sl;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Nc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(nS,t),xc=null,Nc.call(t))}function nS(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Nc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var wl={$$typeof:te,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function iS(t,i,a,l,h,d,v,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=yi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.hiddenUpdates=yi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function G_(t,i,a,l,h,d,v,T,I,B,Y,Z){return t=new iS(t,i,a,v,T,I,B,Z),i=1,d===!0&&(i|=24),d=dn(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},xf(d),t}function K_(t){return t?(t=Sa,t):Sa}function Q_(t,i,a,l,h,d){h=K_(h),l.context===null?l.context=h:l.pendingContext=h,l=dr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=mr(t,l,i),a!==null&&(_n(a,t,i),tl(a,t,i))}function Y_(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Qd(t,i){Y_(t,i),(t=t.alternate)&&Y_(t,i)}function $_(t){if(t.tag===13){var i=Aa(t,67108864);i!==null&&_n(i,t,67108864),Qd(t,67108864)}}var Oc=!0;function rS(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=2,Yd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function sS(t,i,a,l){var h=Q.T;Q.T=null;var d=ae.p;try{ae.p=8,Yd(t,i,a,l)}finally{ae.p=d,Q.T=h}}function Yd(t,i,a,l){if(Oc){var h=$d(l);if(h===null)Vd(t,i,l,Mc,a),W_(t,l);else if(oS(h,t,i,a,l))l.stopPropagation();else if(W_(t,l),i&4&&-1<aS.indexOf(t)){for(;h!==null;){var d=Gn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Vn(d.pendingLanes);if(v!==0){var T=d;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var I=1<<31-Gt(v);T.entanglements[1]|=I,v&=~I}si(d),(Ge&6)===0&&(gc=En()+500,_l(0))}}break;case 13:T=Aa(d,2),T!==null&&_n(T,d,2),_c(),Qd(d,2)}if(d=$d(l),d===null&&Vd(t,i,l,Mc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vd(t,i,l,null,a)}}function $d(t){return t=An(t),Xd(t)}var Mc=null;function Xd(t){if(Mc=null,t=vi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Mc=t,null}function X_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zh()){case Ao:return 2;case na:return 8;case ls:case Jh:return 32;case ia:return 268435456;default:return 32}default:return 32}}var Wd=!1,Ir=null,Cr=null,Dr=null,Rl=new Map,Il=new Map,Nr=[],aS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W_(t,i){switch(t){case"focusin":case"focusout":Ir=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Dr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function Cl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Gn(i),i!==null&&$_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function oS(t,i,a,l,h){switch(i){case"focusin":return Ir=Cl(Ir,t,i,a,l,h),!0;case"dragenter":return Cr=Cl(Cr,t,i,a,l,h),!0;case"mouseover":return Dr=Cl(Dr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Cl(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,Cl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function Z_(t){var i=vi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,_u(t.priority,function(){if(a.tag===13){var l=yn();l=rr(l);var h=Aa(a,l);h!==null&&_n(h,a,l),Qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=$d(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ai=l,a.target.dispatchEvent(l),Ai=null}else return i=Gn(a),i!==null&&$_(i),t.blockedOn=a,!1;i.shift()}return!0}function J_(t,i,a){kc(t)&&a.delete(i)}function lS(){Wd=!1,Ir!==null&&kc(Ir)&&(Ir=null),Cr!==null&&kc(Cr)&&(Cr=null),Dr!==null&&kc(Dr)&&(Dr=null),Rl.forEach(J_),Il.forEach(J_)}function Vc(t,i){t.blockedOn===i&&(t.blockedOn=null,Wd||(Wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,lS)))}var Pc=null;function ev(t){Pc!==t&&(Pc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Pc===t&&(Pc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Xd(l||a)===null)continue;break}var d=Gn(a);d!==null&&(t.splice(i,3),i-=3,Xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function i(I){return Vc(I,t)}Ir!==null&&Vc(Ir,t),Cr!==null&&Vc(Cr,t),Dr!==null&&Vc(Dr,t),Rl.forEach(i),Il.forEach(i);for(var a=0;a<Nr.length;a++){var l=Nr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)Z_(a),a.blockedOn===null&&Nr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[mt]||null;if(typeof d=="function")v||ev(a);else if(v){var T=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[mt]||null)T=v.formAction;else if(Xd(h)!==null)continue}else T=v.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),ev(a)}}}function Zd(t){this._internalRoot=t}Uc.prototype.render=Zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=yn();Q_(a,l,t,i,null,null)},Uc.prototype.unmount=Zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Q_(t.current,2,null,t,null,null),_c(),i[Tn]=null}};function Uc(t){this._internalRoot=t}Uc.prototype.unstable_scheduleHydration=function(t){if(t){var i=sr();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,t),a===0&&Z_(t)}};var tv=e.version;if(tv!=="19.1.0")throw Error(s(527,tv,"19.1.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(i),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var uS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{ot=Lc.inject(uS),Fe=Lc}catch{}}return xl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=yy,d=_y,v=vy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=G_(t,1,!1,null,null,a,l,h,d,v,T,null),t[Tn]=i.current,kd(t),new Zd(i)},xl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=yy,v=_y,T=vy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=G_(t,1,!0,i,a??null,l,h,d,v,T,I,B),i.context=K_(null),a=i.current,l=yn(),l=rr(l),h=dr(l),h.callback=null,mr(a,h,l),a=l,i.current.lanes=a,_i(i,a),si(i),t[Tn]=i.current,kd(t),new Uc(i)},xl.version="19.1.0",xl}var fv;function ES(){if(fv)return tm.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=vS(),tm.exports}var TS=ES(),Ol={},dv;function bS(){if(dv)return Ol;dv=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const S=function(){};return S.prototype=Object.create(null),S})();function f(S,k){const D=new u,X=S.length;if(X<2)return D;const z=(k==null?void 0:k.decode)||E;let $=0;do{const re=S.indexOf("=",$);if(re===-1)break;const te=S.indexOf(";",$),fe=te===-1?X:te;if(re>fe){$=S.lastIndexOf(";",re-1)+1;continue}const ce=m(S,$,re),we=p(S,re,ce),M=S.slice(ce,we);if(D[M]===void 0){let w=m(S,re+1,fe),R=p(S,fe,w);const x=z(S.slice(w,R));D[M]=x}$=fe+1}while($<X);return D}function m(S,k,D){do{const X=S.charCodeAt(k);if(X!==32&&X!==9)return k}while(++k<D);return D}function p(S,k,D){for(;k>D;){const X=S.charCodeAt(--k);if(X!==32&&X!==9)return k+1}return D}function g(S,k,D){const X=(D==null?void 0:D.encode)||encodeURIComponent;if(!r.test(S))throw new TypeError(`argument name is invalid: ${S}`);const z=X(k);if(!e.test(z))throw new TypeError(`argument val is invalid: ${k}`);let $=S+"="+z;if(!D)return $;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);$+="; Max-Age="+D.maxAge}if(D.domain){if(!n.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);$+="; Domain="+D.domain}if(D.path){if(!s.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);$+="; Path="+D.path}if(D.expires){if(!A(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);$+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&($+="; HttpOnly"),D.secure&&($+="; Secure"),D.partitioned&&($+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return $}function E(S){if(S.indexOf("%")===-1)return S;try{return decodeURIComponent(S)}catch{return S}}function A(S){return o.call(S)==="[object Date]"}return Ol}bS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function AS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return vm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return wS(e,n,null,r)}function rt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function fi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function SS(){return Math.random().toString(36).substring(2,10)}function pv(r,e){return{usr:r.state,key:r.key,idx:e}}function vm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?fo(e):e,state:n,key:e&&e.key||s||SS()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function fo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function wS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=E();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function E(){return(f.state||{idx:null}).idx}function A(){m="POP";let z=E(),$=z==null?null:z-g;g=z,p&&p({action:m,location:X.location,delta:$})}function S(z,$){m="PUSH";let re=vm(X.location,z,$);g=E()+1;let te=pv(re,g),fe=X.createHref(re);try{f.pushState(te,"",fe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(fe)}u&&p&&p({action:m,location:X.location,delta:1})}function k(z,$){m="REPLACE";let re=vm(X.location,z,$);g=E();let te=pv(re,g),fe=X.createHref(re);f.replaceState(te,"",fe),u&&p&&p({action:m,location:X.location,delta:0})}function D(z){let $=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof z=="string"?z:Gl(z);return re=re.replace(/ $/,"%20"),rt($,`No window.location.(origin|href) available to create URL for href: ${re}`),new URL(re,$)}let X={get action(){return m},get location(){return r(o,f)},listen(z){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,A),p=z,()=>{o.removeEventListener(mv,A),p=null}},createHref(z){return e(o,z)},createURL:D,encodeLocation(z){let $=D(z);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:S,replace:k,go(z){return f.go(z)}};return X}function X0(r,e,n="/"){return RS(r,e,n,!1)}function RS(r,e,n,s){let o=typeof e=="string"?fo(e):e,u=$i(o.pathname||"/",n);if(u==null)return null;let f=W0(r);IS(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=LS(u);m=PS(f[p],g,s)}return m}function W0(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=Qi([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),W0(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:kS(g,u.index),routesMeta:E})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of Z0(u.path))o(u,f,p)}),e}function Z0(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=Z0(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function IS(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:VS(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var CS=/^:[\w-]+$/,DS=3,NS=2,xS=1,OS=10,MS=-2,gv=r=>r==="*";function kS(r,e){let n=r.split("/"),s=n.length;return n.some(gv)&&(s+=MS),e&&(s+=NS),n.filter(o=>!gv(o)).reduce((o,u)=>o+(CS.test(u)?DS:u===""?xS:OS),s)}function VS(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function PS(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",A=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),S=p.route;if(!A&&g&&n&&!s[s.length-1].route.index&&(A=sh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:Qi([u,A.pathname]),pathnameBase:HS(Qi([u,A.pathnameBase])),route:S}),A.pathnameBase!=="/"&&(u=Qi([u,A.pathnameBase]))}return f}function sh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=US(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:A},S)=>{if(E==="*"){let D=m[S]||"";f=u.slice(0,u.length-D.length).replace(/(.)\/+$/,"$1")}const k=m[S];return A&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function US(r,e=!1,n=!0){fi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function LS(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function $i(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function zS(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?fo(r):r;return{pathname:n?n.startsWith("/")?n:jS(n,e):e,search:qS(s),hash:FS(o)}}function jS(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function BS(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J0(r){let e=BS(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function eE(r,e,n,s=!1){let o;typeof r=="string"?o=fo(r):(o={...r},rt(!o.pathname||!o.pathname.includes("?"),sm("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),sm("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),sm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),A-=1;o.pathname=S.join("/")}m=A>=0?e[A]:"/"}let p=zS(o,m),g=f&&f!=="/"&&f.endsWith("/"),E=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var Qi=r=>r.join("/").replace(/\/\/+/g,"/"),HS=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qS=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,FS=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function GS(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var tE=["POST","PUT","PATCH","DELETE"];new Set(tE);var KS=["GET",...tE];new Set(KS);var mo=H.createContext(null);mo.displayName="DataRouter";var Ch=H.createContext(null);Ch.displayName="DataRouterState";var nE=H.createContext({isTransitioning:!1});nE.displayName="ViewTransition";var QS=H.createContext(new Map);QS.displayName="Fetchers";var YS=H.createContext(null);YS.displayName="Await";var pi=H.createContext(null);pi.displayName="Navigation";var tu=H.createContext(null);tu.displayName="Location";var tr=H.createContext({outlet:null,matches:[],isDataRoute:!1});tr.displayName="Route";var Xm=H.createContext(null);Xm.displayName="RouteError";function $S(r,{relative:e}={}){rt(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(pi),{hash:o,pathname:u,search:f}=iu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Qi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function nu(){return H.useContext(tu)!=null}function Xr(){return rt(nu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(tu).location}var iE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rE(r){H.useContext(pi).static||H.useLayoutEffect(r)}function XS(){let{isDataRoute:r}=H.useContext(tr);return r?uw():WS()}function WS(){rt(nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(mo),{basename:e,navigator:n}=H.useContext(pi),{matches:s}=H.useContext(tr),{pathname:o}=Xr(),u=JSON.stringify(J0(s)),f=H.useRef(!1);return rE(()=>{f.current=!0}),H.useCallback((p,g={})=>{if(fi(f.current,iE),!f.current)return;if(typeof p=="number"){n.go(p);return}let E=eE(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Qi([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,r])}H.createContext(null);function iu(r,{relative:e}={}){let{matches:n}=H.useContext(tr),{pathname:s}=Xr(),o=JSON.stringify(J0(n));return H.useMemo(()=>eE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function ZS(r,e){return sE(r,e)}function sE(r,e,n,s){var re;rt(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(pi),{matches:f}=H.useContext(tr),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",A=m&&m.route;{let te=A&&A.path||"";aE(g,!A||te.endsWith("*")||te.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${te}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${te}"> to <Route path="${te==="/"?"*":`${te}/*`}">.`)}let S=Xr(),k;if(e){let te=typeof e=="string"?fo(e):e;rt(E==="/"||((re=te.pathname)==null?void 0:re.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${te.pathname}" was given in the \`location\` prop.`),k=te}else k=S;let D=k.pathname||"/",X=D;if(E!=="/"){let te=E.replace(/^\//,"").split("/");X="/"+D.replace(/^\//,"").split("/").slice(te.length).join("/")}let z=!u&&n&&n.matches&&n.matches.length>0?n.matches:X0(r,{pathname:X});fi(A||z!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),fi(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=iw(z&&z.map(te=>Object.assign({},te,{params:Object.assign({},p,te.params),pathname:Qi([E,o.encodeLocation?o.encodeLocation(te.pathname).pathname:te.pathname]),pathnameBase:te.pathnameBase==="/"?E:Qi([E,o.encodeLocation?o.encodeLocation(te.pathnameBase).pathname:te.pathnameBase])})),f,n,s);return e&&$?H.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},$):$}function JS(){let r=lw(),e=GS(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var ew=H.createElement(JS,null),tw=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(tr.Provider,{value:this.props.routeContext},H.createElement(Xm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nw({routeContext:r,match:e,children:n}){let s=H.useContext(mo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(tr.Provider,{value:r},n)}function iw(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:A}=n,S=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||S){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let A,S=!1,k=null,D=null;n&&(A=u&&g.route.id?u[g.route.id]:void 0,k=g.route.errorElement||ew,f&&(m<0&&E===0?(aE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),S=!0,D=null):m===E&&(S=!0,D=g.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,E+1)),z=()=>{let $;return A?$=k:S?$=D:g.route.Component?$=H.createElement(g.route.Component,null):g.route.element?$=g.route.element:$=p,H.createElement(nw,{match:g,routeContext:{outlet:p,matches:X,isDataRoute:n!=null},children:$})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?H.createElement(tw,{location:n.location,revalidation:n.revalidation,component:k,error:A,children:z(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):z()},null)}function Wm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rw(r){let e=H.useContext(mo);return rt(e,Wm(r)),e}function sw(r){let e=H.useContext(Ch);return rt(e,Wm(r)),e}function aw(r){let e=H.useContext(tr);return rt(e,Wm(r)),e}function Zm(r){let e=aw(r),n=e.matches[e.matches.length-1];return rt(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function ow(){return Zm("useRouteId")}function lw(){var s;let r=H.useContext(Xm),e=sw("useRouteError"),n=Zm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function uw(){let{router:r}=rw("useNavigate"),e=Zm("useNavigate"),n=H.useRef(!1);return rE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{fi(n.current,iE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var yv={};function aE(r,e,n){!e&&!yv[r]&&(yv[r]=!0,fi(!1,n))}H.memo(cw);function cw({routes:r,future:e,state:n}){return sE(r,void 0,n,e)}function Ya(r){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){rt(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=fo(n));let{pathname:p="/",search:g="",hash:E="",state:A=null,key:S="default"}=n,k=H.useMemo(()=>{let D=$i(p,f);return D==null?null:{location:{pathname:D,search:g,hash:E,state:A,key:S},navigationType:s}},[f,p,g,E,A,S,s]);return fi(k!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:H.createElement(pi.Provider,{value:m},H.createElement(tu.Provider,{children:e,value:k}))}function fw({children:r,location:e}){return ZS(Em(r),e)}function Em(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,Em(s.props.children,u));return}rt(s.type===Ya,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Em(s.props.children,u)),n.push(f)}),n}var Qc="get",Yc="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function dw(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function mw(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function pw(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function gw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yw(r,e){return r.button===0&&(!e||e==="_self")&&!gw(r)}var zc=null;function _w(){if(zc===null)try{new FormData(document.createElement("form"),0),zc=!1}catch{zc=!0}return zc}var vw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function am(r){return r!=null&&!vw.has(r)?(fi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yc}"`),null):r}function Ew(r,e){let n,s,o,u,f;if(mw(r)){let m=r.getAttribute("action");s=m?$i(m,e):null,n=r.getAttribute("method")||Qc,o=am(r.getAttribute("enctype"))||Yc,u=new FormData(r)}else if(dw(r)||pw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?$i(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Qc,o=am(r.getAttribute("formenctype"))||am(m.getAttribute("enctype"))||Yc,u=new FormData(m,r),!_w()){let{name:g,type:E,value:A}=r;if(E==="image"){let S=g?`${g}.`:"";u.append(`${S}x`,"0"),u.append(`${S}y`,"0")}else g&&u.append(g,A)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Qc,s=null,o=Yc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Jm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Tw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Aw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Tw(u,n);return f.links?f.links():[]}return[]}));return Iw(s.flat(1).filter(bw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function _v(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var A;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let S=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof S=="boolean")return S}return!0}):[]}function Sw(r,e,{includeHydrateFallback:n}={}){return ww(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function ww(r){return[...new Set(r)]}function Rw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Iw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Rw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}var Cw=new Set([100,101,204,205]);function Dw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&$i(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function oE(){let r=H.useContext(mo);return Jm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Nw(){let r=H.useContext(Ch);return Jm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ep=H.createContext(void 0);ep.displayName="FrameworkContext";function lE(){let r=H.useContext(ep);return Jm(r,"You must render this element inside a <HydratedRouter> element"),r}function xw(r,e){let n=H.useContext(ep),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:A}=e,S=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=$=>{$.forEach(re=>{f(re.isIntersecting)})},z=new IntersectionObserver(X,{threshold:.5});return S.current&&z.observe(S.current),()=>{z.disconnect()}}},[r]),H.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let k=()=>{o(!0)},D=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,S,{}]:[u,S,{onFocus:Ml(m,k),onBlur:Ml(p,D),onMouseEnter:Ml(g,k),onMouseLeave:Ml(E,D),onTouchStart:Ml(A,k)}]:[!1,S,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ow({page:r,...e}){let{router:n}=oE(),s=H.useMemo(()=>X0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(kw,{page:r,matches:s,...e}):null}function Mw(r){let{manifest:e,routeModules:n}=lE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return Aw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function kw({page:r,matches:e,...n}){let s=Xr(),{manifest:o,routeModules:u}=lE(),{basename:f}=oE(),{loaderData:m,matches:p}=Nw(),g=H.useMemo(()=>_v(r,e,p,o,s,"data"),[r,e,p,o,s]),E=H.useMemo(()=>_v(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let D=new Set,X=!1;if(e.forEach($=>{var te;let re=o.routes[$.route.id];!re||!re.hasLoader||(!g.some(fe=>fe.route.id===$.route.id)&&$.route.id in m&&((te=u[$.route.id])!=null&&te.shouldRevalidate)||re.hasClientLoader?X=!0:D.add($.route.id))}),D.size===0)return[];let z=Dw(r,f);return X&&D.size>0&&z.searchParams.set("_routes",e.filter($=>D.has($.route.id)).map($=>$.route.id).join(",")),[z.pathname+z.search]},[f,m,s,o,g,e,r,u]),S=H.useMemo(()=>Sw(E,o),[E,o]),k=Mw(E);return H.createElement(H.Fragment,null,A.map(D=>H.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),S.map(D=>H.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),k.map(({key:D,link:X})=>H.createElement("link",{key:D,...X})))}function Vw(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var uE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{uE&&(window.__reactRouterVersion="7.5.1")}catch{}function Pw({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=AS({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(hw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var cE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ah=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:E,viewTransition:A,...S},k){let{basename:D}=H.useContext(pi),X=typeof g=="string"&&cE.test(g),z,$=!1;if(typeof g=="string"&&X&&(z=g,uE))try{let R=new URL(window.location.href),x=g.startsWith("//")?new URL(R.protocol+g):new URL(g),V=$i(x.pathname,D);x.origin===R.origin&&V!=null?g=V+x.search+x.hash:$=!0}catch{fi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let re=$S(g,{relative:o}),[te,fe,ce]=xw(s,S),we=jw(g,{replace:f,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:A});function M(R){e&&e(R),R.defaultPrevented||we(R)}let w=H.createElement("a",{...S,...ce,href:z||re,onClick:$||u?e:M,ref:Vw(k,fe),target:p,"data-discover":!X&&n==="render"?"true":void 0});return te&&!X?H.createElement(H.Fragment,null,w,H.createElement(Ow,{page:re})):w});ah.displayName="Link";var Uw=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},E){let A=iu(f,{relative:g.relative}),S=Xr(),k=H.useContext(Ch),{navigator:D,basename:X}=H.useContext(pi),z=k!=null&&Gw(A)&&m===!0,$=D.encodeLocation?D.encodeLocation(A).pathname:A.pathname,re=S.pathname,te=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(re=re.toLowerCase(),te=te?te.toLowerCase():null,$=$.toLowerCase()),te&&X&&(te=$i(te,X)||te);const fe=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let ce=re===$||!o&&re.startsWith($)&&re.charAt(fe)==="/",we=te!=null&&(te===$||!o&&te.startsWith($)&&te.charAt($.length)==="/"),M={isActive:ce,isPending:we,isTransitioning:z},w=ce?e:void 0,R;typeof s=="function"?R=s(M):R=[s,ce?"active":null,we?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(M):u;return H.createElement(ah,{...g,"aria-current":w,className:R,ref:E,style:x,to:f,viewTransition:m},typeof p=="function"?p(M):p)});Uw.displayName="NavLink";var Lw=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Qc,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:A,...S},k)=>{let D=qw(),X=Fw(m,{relative:g}),z=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&cE.test(m),re=te=>{if(p&&p(te),te.defaultPrevented)return;te.preventDefault();let fe=te.nativeEvent.submitter,ce=(fe==null?void 0:fe.getAttribute("formmethod"))||f;D(fe||te.currentTarget,{fetcherKey:e,method:ce,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:A})};return H.createElement("form",{ref:k,method:z,action:X,onSubmit:s?p:re,...S,"data-discover":!$&&r==="render"?"true":void 0})});Lw.displayName="Form";function zw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hE(r){let e=H.useContext(mo);return rt(e,zw(r)),e}function jw(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=XS(),p=Xr(),g=iu(r,{relative:u});return H.useCallback(E=>{if(yw(E,e)){E.preventDefault();let A=n!==void 0?n:Gl(p)===Gl(g);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var Bw=0,Hw=()=>`__${String(++Bw)}__`;function qw(){let{router:r}=hE("useSubmit"),{basename:e}=H.useContext(pi),n=ow();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=Ew(s,e);if(o.navigate===!1){let E=o.fetcherKey||Hw();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Fw(r,{relative:e}={}){let{basename:n}=H.useContext(pi),s=H.useContext(tr);rt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(r||".",{relative:e})},f=Xr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Qi([n,u.pathname])),Gl(u)}function Gw(r,e={}){let n=H.useContext(nE);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=hE("useViewTransitionState"),o=iu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=$i(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=$i(n.nextLocation.pathname,s)||n.nextLocation.pathname;return sh(o.pathname,f)!=null||sh(o.pathname,u)!=null}new TextEncoder;[...Cw];/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qw=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),vv=r=>{const e=Qw(r);return e.charAt(0).toUpperCase()+e.slice(1)},fE=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),Yw=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $w={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=H.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...m},p)=>H.createElement("svg",{ref:p,...$w,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:fE("lucide",o),...!u&&!Yw(m)&&{"aria-hidden":"true"},...m},[...f.map(([g,E])=>H.createElement(g,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wr=(r,e)=>{const n=H.forwardRef(({className:s,...o},u)=>H.createElement(Xw,{ref:u,iconNode:e,className:fE(`lucide-${Kw(vv(r))}`,`lucide-${r}`,s),...o}));return n.displayName=vv(r),n};/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Zw=Wr("circle-user-round",Ww);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],eR=Wr("clipboard-list",Jw);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],nR=Wr("layout-dashboard",tR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Ev=Wr("menu",iR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M16 12h.01",key:"1l6xoz"}]],sR=Wr("message-circle-more",rR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],oR=Wr("moon",aR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],uR=Wr("sun",lR);/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],hR=Wr("users",cR),fR=()=>{const[r,e]=H.useState(!1),{pathname:n}=Xr(),s=[{name:"home",icon:K.jsx(nR,{}),path:"/"},{name:"teams",icon:K.jsx(hR,{}),path:"/Teams"},{name:"tasks",icon:K.jsx(eR,{}),path:"/TasksBoard"},{name:"chat",icon:K.jsx(sR,{}),path:"/ChatPage"}],[o,u]=H.useState(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches),f=()=>{o?(document.documentElement.classList.remove("dark"),localStorage.theme="light",u(!1)):(document.documentElement.classList.add("dark"),localStorage.theme="dark",u(!0))};return K.jsxs(K.Fragment,{children:[K.jsx("div",{className:"md:hidden p-6",children:K.jsx(Ev,{onClick:()=>e(!r),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),K.jsx("div",{className:`
          fixed top-0 left-0 h-full w-20 bg-white dark:bg-zinc-900 shadow-xl z-50 
          transform transition-transform duration-300 ease-in-out
          ${r?"translate-x-0":"-translate-x-full"} 
          md:translate-x-0 md:static md:block
        `,children:K.jsxs("nav",{className:"h-full flex flex-col justify-between items-center p-4",children:[K.jsxs("div",{className:"flex flex-col items-center gap-8 w-full",children:[K.jsx("div",{className:"md:hidden p-3 self-start",children:K.jsx(Ev,{onClick:()=>e(!1),className:"w-6 h-6 cursor-pointer text-gray-800 dark:text-gray-100"})}),K.jsx("div",{className:"flex flex-col gap-4 w-full",children:s.map(m=>K.jsx(ah,{to:m.path,className:`
                    p-3 rounded-lg text-center 
                    ${n===m.path?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                    transition-colors w-full text-gray-800 dark:text-gray-100
                  `,onClick:()=>e(!1),children:m.icon},m.name))})]}),K.jsxs("div",{className:"flex flex-col items-center gap-4 w-full",children:[K.jsx(ah,{to:"/profile",className:`
                p-3 rounded-lg text-center 
                ${n==="/profile"?"bg-gray-300 dark:bg-zinc-700":"hover:bg-gray-200 dark:hover:bg-zinc-800"} 
                transition-colors text-gray-800 dark:text-gray-100
              `,onClick:()=>e(!1),children:K.jsx(Zw,{})}),K.jsx("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-zinc-200 dark:bg-zinc-800 text-gray-900 dark:text-white rounded-xl hover:opacity-80",children:o?K.jsx(uR,{size:18}):K.jsx(oR,{size:18})})]})]})})]})},dR=()=>K.jsx("div",{children:"Dashboard"}),Tv=r=>{let e;const n=new Set,s=(g,E)=>{const A=typeof g=="function"?g(e):g;if(!Object.is(A,e)){const S=e;e=E??(typeof A!="object"||A===null)?A:Object.assign({},e,A),n.forEach(k=>k(e,S))}},o=()=>e,m={setState:s,getState:o,getInitialState:()=>p,subscribe:g=>(n.add(g),()=>n.delete(g))},p=e=r(s,o,m);return m},mR=r=>r?Tv(r):Tv,pR=r=>r;function gR(r,e=pR){const n=av.useSyncExternalStore(r.subscribe,()=>e(r.getState()),()=>e(r.getInitialState()));return av.useDebugValue(n),n}const bv=r=>{const e=mR(r),n=s=>gR(e,s);return Object.assign(n,e),n},yR=r=>r?bv(r):bv,kn=yR(r=>({user:null,authLoading:!0,setUser:e=>r({user:e}),clearUser:()=>r({user:null}),updateUser:e=>r(n=>({user:{...n.user,...e}})),setAuthLoading:e=>r({authLoading:e})})),_R=()=>{const r=kn(s=>s.user),[e,n]=H.useState(null);return H.useEffect(()=>{r!=null&&r.teamId&&n({name:"The Avengers"})},[r]),K.jsxs("div",{className:"max-w-5xl mx-auto mt-10 grid grid-cols-1 md:grid-cols-2 gap-6",children:[K.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-zinc-100 dark:hover:bg-zinc-700 cursor-pointer",children:[K.jsx("div",{className:"text-4xl mb-2",children:""}),K.jsx("h2",{className:"text-xl font-semibold",children:"My Tasks"}),K.jsx("p",{className:"text-sm text-gray-500",children:"View and manage your personal tasks."})]}),K.jsxs("div",{className:"border-2 border-dashed rounded-lg p-6 text-center hover:bg-zinc-100 dark:hover:bg-zinc-700 cursor-pointer",children:[K.jsx("div",{className:"text-4xl mb-2",children:""}),e?K.jsxs(K.Fragment,{children:[K.jsxs("h2",{className:"text-xl font-semibold",children:[e.name," Tasks"]}),K.jsx("p",{className:"text-sm text-gray-500",children:"View and manage your teams shared tasks."})]}):K.jsxs(K.Fragment,{children:[K.jsx("h2",{className:"text-xl font-semibold",children:"Join or Create a Team"}),K.jsx("p",{className:"text-sm text-gray-500",children:"Team up to collaborate on tasks."})]})]})]})},vR=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ER=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let S=(m&15)<<2|g>>6,k=g&63;p||(k=64,f||(S=64)),s.push(n[E],n[A],n[S],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ER(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new TR;const S=u<<2|m>>4;if(s.push(S),g!==64){const k=m<<4&240|g>>2;if(s.push(k),A!==64){const D=g<<6&192|A;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bR=function(r){const e=dE(r);return mE.encodeByteArray(e,!0)},oh=function(r){return bR(r).replace(/\./g,"")},pE=function(r){try{return mE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SR=()=>AR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof Av>"u")return;const r=Av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&pE(r[1]);return e&&JSON.parse(e)},Nh=()=>{try{return vR()||SR()||wR()||RR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},gE=r=>{var e,n;return(n=(e=Nh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},IR=r=>{const e=gE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},yE=()=>{var r;return(r=Nh())===null||r===void 0?void 0:r.config},_E=r=>{var e;return(e=Nh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oh(JSON.stringify(n)),oh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function xR(){var r;const e=(r=Nh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function kR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VR(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function PR(){return!xR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function UR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR="FirebaseError";class nr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=zR,Object.setPrototypeOf(this,nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new nr(o,m,s)}}function jR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function HR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Gs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Sv(u)&&Sv(f)){if(!Gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Sv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Vl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function qR(r,e){const n=new FR(r,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=om),o.error===void 0&&(o.error=om),o.complete===void 0&&(o.complete=om);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(r){return r&&r._delegate?r._delegate:r}class Ks{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new CR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:QR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function QR(r){return r===Hs?void 0:r}function YR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const XR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},WR=Me.INFO,ZR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},JR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ZR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const e1=(r,e)=>e.some(n=>r instanceof n);let wv,Rv;function t1(){return wv||(wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return Rv||(Rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vE=new WeakMap,Tm=new WeakMap,EE=new WeakMap,lm=new WeakMap,np=new WeakMap;function i1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Lr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&vE.set(n,r)}).catch(()=>{}),np.set(e,r),e}function r1(r){if(Tm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Tm.set(r,e)}let bm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Tm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||EE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s1(r){bm=r(bm)}function a1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(um(this),e,...n);return EE.set(s,e.sort?e.sort():[e]),Lr(s)}:n1().includes(r)?function(...e){return r.apply(um(this),e),Lr(vE.get(this))}:function(...e){return Lr(r.apply(um(this),e))}}function o1(r){return typeof r=="function"?a1(r):(r instanceof IDBTransaction&&r1(r),e1(r,t1())?new Proxy(r,bm):r)}function Lr(r){if(r instanceof IDBRequest)return i1(r);if(lm.has(r))return lm.get(r);const e=o1(r);return e!==r&&(lm.set(r,e),np.set(e,r)),e}const um=r=>np.get(r);function l1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Lr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Lr(f.result),p.oldVersion,p.newVersion,Lr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],cm=new Map;function Iv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(cm.get(e))return cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return cm.set(e,u),u}s1(r=>({...r,get:(e,n,s)=>Iv(e,n)||r.get(e,n,s),has:(e,n)=>!!Iv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Am="@firebase/app",Cv="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=new tp("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",p1="@firebase/analytics",g1="@firebase/app-check-compat",y1="@firebase/app-check",_1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",b1="@firebase/database-compat",A1="@firebase/functions",S1="@firebase/functions-compat",w1="@firebase/installations",R1="@firebase/installations-compat",I1="@firebase/messaging",C1="@firebase/messaging-compat",D1="@firebase/performance",N1="@firebase/performance-compat",x1="@firebase/remote-config",O1="@firebase/remote-config-compat",M1="@firebase/storage",k1="@firebase/storage-compat",V1="@firebase/firestore",P1="@firebase/vertexai",U1="@firebase/firestore-compat",L1="firebase",z1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",j1={[Am]:"fire-core",[d1]:"fire-core-compat",[p1]:"fire-analytics",[m1]:"fire-analytics-compat",[y1]:"fire-app-check",[g1]:"fire-app-check-compat",[_1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[b1]:"fire-rtdb-compat",[A1]:"fire-fn",[S1]:"fire-fn-compat",[w1]:"fire-iid",[R1]:"fire-iid-compat",[I1]:"fire-fcm",[C1]:"fire-fcm-compat",[D1]:"fire-perf",[N1]:"fire-perf-compat",[x1]:"fire-rc",[O1]:"fire-rc-compat",[M1]:"fire-gcs",[k1]:"fire-gcs-compat",[V1]:"fire-fst",[U1]:"fire-fst-compat",[P1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,B1=new Map,wm=new Map;function Dv(r,e){try{r.container.addComponent(e)}catch(n){Xi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ro(r){const e=r.name;if(wm.has(e))return Xi.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of lh.values())Dv(n,r);for(const n of B1.values())Dv(n,r);return!0}function ip(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Mn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zr=new ru("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ks("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=z1;function TE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw zr.create("bad-app-name",{appName:String(o)});if(n||(n=yE()),!n)throw zr.create("no-options");const u=lh.get(o);if(u){if(Gs(n,u.options)&&Gs(s,u.config))return u;throw zr.create("duplicate-app",{appName:o})}const f=new $R(o);for(const p of wm.values())f.addComponent(p);const m=new q1(n,s,f);return lh.set(o,m),m}function bE(r=Sm){const e=lh.get(r);if(!e&&r===Sm&&yE())return TE();if(!e)throw zr.create("no-app",{appName:r});return e}function jr(r,e,n){var s;let o=(s=j1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xi.warn(m.join(" "));return}ro(new Ks(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",G1=1,Kl="firebase-heartbeat-store";let hm=null;function AE(){return hm||(hm=l1(F1,G1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw zr.create("idb-open",{originalErrorMessage:r.message})})),hm}async function K1(r){try{const n=(await AE()).transaction(Kl),s=await n.objectStore(Kl).get(SE(r));return await n.done,s}catch(e){if(e instanceof nr)Xi.warn(e.message);else{const n=zr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xi.warn(n.message)}}}async function Nv(r,e){try{const s=(await AE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,SE(r)),await s.done}catch(n){if(n instanceof nr)Xi.warn(n.message);else{const s=zr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xi.warn(s.message)}}}function SE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=1024,Y1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=xv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Y1){const f=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Xi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xv(),{heartbeatsToSend:s,unsentEntries:o}=X1(this._heartbeatsCache.heartbeats),u=oh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Xi.warn(n),""}}}function xv(){return new Date().toISOString().substring(0,10)}function X1(r,e=Q1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Ov(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Ov(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await K1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Nv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Ov(r){return oh(JSON.stringify({version:2,heartbeats:r})).length}function Z1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){ro(new Ks("platform-logger",e=>new h1(e),"PRIVATE")),ro(new Ks("heartbeat",e=>new $1(e),"PRIVATE")),jr(Am,Cv,r),jr(Am,Cv,"esm2017"),jr("fire-js","")}J1("");function rp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function wE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const eI=wE,RE=new ru("auth","Firebase",wE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new tp("@firebase/auth");function tI(r,...e){uh.logLevel<=Me.WARN&&uh.warn(`Auth (${po}): ${r}`,...e)}function $c(r,...e){uh.logLevel<=Me.ERROR&&uh.error(`Auth (${po}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(r,...e){throw sp(r,...e)}function oi(r,...e){return sp(r,...e)}function IE(r,e,n){const s=Object.assign(Object.assign({},eI()),{[e]:n});return new ru("auth","Firebase",s).create(e,{appName:r.name})}function Yi(r){return IE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return RE.create(r,...e)}function ve(r,e,...n){if(!r)throw sp(e,...n)}function Gi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw $c(e),new Error(e)}function Wi(r,e){r||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function nI(){return Mv()==="http:"||Mv()==="https:"}function Mv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nI()||MR()||"connection"in navigator)?navigator.onLine:!0}function rI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.shortDelay=e,this.longDelay=n,Wi(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||kR()}get(){return iI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){Wi(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oI=new au(3e4,6e4);function Zr(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Jr(r,e,n,s,o={}){return DE(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return OR()||(g.referrerPolicy="no-referrer"),CE.fetch()(await NE(r,r.config.apiHost,n,m),g)})}async function DE(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},sI),e);try{const o=new uI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw jc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw jc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw jc(r,"user-disabled",f);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw IE(r,E,g);Hn(r,E)}}catch(o){if(o instanceof nr)throw o;Hn(r,"network-request-failed",{message:String(o)})}}async function ou(r,e,n,s,o={}){const u=await Jr(r,e,n,s,o);return"mfaPendingCredential"in u&&Hn(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function NE(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?ap(r.config,o):`${r.config.apiScheme}://${o}`;return aI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function lI(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(oi(this.auth,"network-request-failed")),oI.get())})}}function jc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=oi(r,e,s);return o.customData._tokenResponse=n,o}function kv(r){return r!==void 0&&r.enterprise!==void 0}class cI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hI(r,e){return Jr(r,"GET","/v2/recaptchaConfig",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fI(r,e){return Jr(r,"POST","/v1/accounts:delete",e)}async function ch(r,e){return Jr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dI(r,e=!1){const n=kt(r),s=await n.getIdToken(e),o=op(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:zl(fm(o.auth_time)),issuedAtTime:zl(fm(o.iat)),expirationTime:zl(fm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function fm(r){return Number(r)*1e3}function op(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=pE(n);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Vv(r){const e=op(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof nr&&mI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ql(r,ch(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xE(u.providerUserInfo):[],m=yI(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Im(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function gI(r){const e=kt(r);await hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function yI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function xE(r){return r.map(e=>{var{providerId:n}=e,s=rp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(r,e){const n=await DE(r,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await NE(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",CE.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vI(r,e){return Jr(r,"POST","/v2/accounts:revokeToken",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Vv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=Vv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await _I(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new eo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new eo,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Bn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Im(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Bn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await hh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(Yi(this.auth));const e=await this.getIdToken();return await Ql(this,fI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,E;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,S=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,D=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,z=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(g=n.createdAt)!==null&&g!==void 0?g:void 0,re=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:te,emailVerified:fe,isAnonymous:ce,providerData:we,stsTokenManager:M}=n;ve(te&&M,e,"internal-error");const w=eo.fromJSON(this.name,M);ve(typeof te=="string",e,"internal-error"),Or(A,e.name),Or(S,e.name),ve(typeof fe=="boolean",e,"internal-error"),ve(typeof ce=="boolean",e,"internal-error"),Or(k,e.name),Or(D,e.name),Or(X,e.name),Or(z,e.name),Or($,e.name),Or(re,e.name);const R=new Bn({uid:te,auth:e,email:S,emailVerified:fe,displayName:A,isAnonymous:ce,photoURL:D,phoneNumber:k,tenantId:X,stsTokenManager:w,createdAt:$,lastLoginAt:re});return we&&Array.isArray(we)&&(R.providerData=we.map(x=>Object.assign({},x))),z&&(R._redirectEventId=z),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new eo;o.updateFromServerResponse(n);const u=new Bn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await hh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?xE(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new eo;m.updateFromIdToken(s);const p=new Bn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;function Ki(r){Wi(r instanceof Function,"Expected a class definition");let e=Pv.get(r);return e?(Wi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Pv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}OE.type="NONE";const Uv=OE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class to{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ch(this.auth,{idToken:e}).catch(()=>{});return n?Bn._fromGetAccountInfoResponse(this.auth,n,e):null}return Bn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new to(Ki(Uv),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Ki(Uv);const f=Xc(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(f);if(E){let A;if(typeof E=="string"){const S=await ch(e,{idToken:E}).catch(()=>{});if(!S)break;A=await Bn._fromGetAccountInfoResponse(e,S,E)}else A=Bn._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new to(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new to(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(PE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ME(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(LE(e))return"Blackberry";if(zE(e))return"Webos";if(kE(e))return"Safari";if((e.includes("chrome/")||VE(e))&&!e.includes("edge/"))return"Chrome";if(UE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ME(r=Wt()){return/firefox\//i.test(r)}function kE(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VE(r=Wt()){return/crios\//i.test(r)}function PE(r=Wt()){return/iemobile/i.test(r)}function UE(r=Wt()){return/android/i.test(r)}function LE(r=Wt()){return/blackberry/i.test(r)}function zE(r=Wt()){return/webos/i.test(r)}function lp(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function EI(r=Wt()){var e;return lp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TI(){return VR()&&document.documentMode===10}function jE(r=Wt()){return lp(r)||UE(r)||zE(r)||LE(r)||/windows phone/i.test(r)||PE(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r,e=[]){let n;switch(r){case"Browser":n=Lv(Wt());break;case"Worker":n=`${Lv(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,e={}){return Jr(r,"GET","/v2/passwordPolicy",Zr(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=6;class wI{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:SI,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zv(this),this.idTokenSubscription=new zv(this),this.beforeStateQueue=new bI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=RE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ki(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await to.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ch(this,{idToken:e}),s=await Bn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await hh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(Yi(this));const n=e?kt(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(Yi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(Yi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AI(this),n=new wI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ki(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await to.create(this,[Ki(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&tI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Zs(r){return kt(r)}class zv{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function II(r){xh=r}function HE(r){return xh.loadJS(r)}function CI(){return xh.recaptchaEnterpriseScript}function DI(){return xh.gapiScript}function NI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class xI{constructor(){this.enterprise=new OI}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OI{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MI="recaptcha-enterprise",qE="NO_RECAPTCHA";class kI{constructor(e){this.type=MI,this.auth=Zs(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{hI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new cI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;kv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(qE)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xI().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&kv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=CI();p.length!==0&&(p+=m),HE(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function jv(r,e,n,s=!1,o=!1){const u=new kI(r);let f;if(o)f=qE;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Cm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jv(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jv(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(r,e){const n=ip(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Gs(u,e??{}))return o;Hn(o,"already-initialized")}return n.initialize({options:e})}function PI(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ki);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function UI(r,e,n){const s=Zs(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=FE(e),{host:f,port:m}=LI(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},E=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Gs(g,s.config.emulator)&&Gs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,zI()}function FE(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function LI(r){const e=FE(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:Bv(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:Bv(f)}}}function Bv(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function zI(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function jI(r,e){return Jr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(r,e){return ou(r,"POST","/v1/accounts:signInWithPassword",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}async function qI(r,e){return ou(r,"POST","/v1/accounts:signInWithEmailLink",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl extends up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Yl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Yl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,n,"signInWithPassword",BI);case"emailLink":return HI(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Cm(e,s,"signUpPassword",jI);case"emailLink":return qI(e,{idToken:n,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function no(r,e){return ou(r,"POST","/v1/accounts:signInWithIdp",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI="http://localhost";class Qs extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Hn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=rp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Qs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return no(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,no(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,no(e,n)}buildRequest(){const e={requestUri:FI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function KI(r){const e=kl(Vl(r)).link,n=e?kl(Vl(e)).deep_link_id:null,s=kl(Vl(r)).deep_link_id;return(s?kl(Vl(s)).link:null)||s||n||e||r}class cp{constructor(e){var n,s,o,u,f,m;const p=kl(Vl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,A=GI((o=p.mode)!==null&&o!==void 0?o:null);ve(g&&E&&A,"argument-error"),this.apiKey=g,this.operation=A,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=KI(e);try{return new cp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.providerId=go.PROVIDER_ID}static credential(e,n){return Yl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=cp.parseLink(n);return ve(s,"argument-error"),Yl._fromEmailAndCode(e,s.code,s.tenantId)}}go.PROVIDER_ID="password";go.EMAIL_PASSWORD_SIGN_IN_METHOD="password";go.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends GE{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr extends lu{constructor(){super("facebook.com")}static credential(e){return Qs._fromParams({providerId:Mr.PROVIDER_ID,signInMethod:Mr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mr.credentialFromTaggedObject(e)}static credentialFromError(e){return Mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mr.credential(e.oauthAccessToken)}catch{return null}}}Mr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Mr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Fi.credential(n,s)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends lu{constructor(){super("github.com")}static credential(e){return Qs._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends lu{constructor(){super("twitter.com")}static credential(e,n){return Qs._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Vr.credential(n,s)}catch{return null}}}Vr.TWITTER_SIGN_IN_METHOD="twitter.com";Vr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QI(r,e){return ou(r,"POST","/v1/accounts:signUp",Zr(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Bn._fromIdTokenResponse(e,s,o),f=Hv(s);return new Ys({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=Hv(s);return new Ys({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function Hv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends nr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new fh(e,n,s,o)}}function KE(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,u,e,s):u})}async function YI(r,e,n=!1){const s=await Ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Ys._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(r,e,n=!1){const{auth:s}=r;if(Mn(s.app))return Promise.reject(Yi(s));const o="reauthenticate";try{const u=await Ql(r,KE(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=op(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),Ys._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Hn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QE(r,e,n=!1){if(Mn(r.app))return Promise.reject(Yi(r));const s="signIn",o=await KE(r,s,e),u=await Ys._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function XI(r,e){return QE(Zs(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YE(r){const e=Zs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WI(r,e,n){if(Mn(r.app))return Promise.reject(Yi(r));const s=Zs(r),f=await Cm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QI).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&YE(r),p}),m=await Ys._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function ZI(r,e,n){return Mn(r.app)?Promise.reject(Yi(r)):XI(kt(r),go.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&YE(r),s})}function JI(r,e,n,s){return kt(r).onIdTokenChanged(e,n,s)}function eC(r,e,n){return kt(r).beforeAuthStateChanged(e,n)}function tC(r,e,n,s){return kt(r).onAuthStateChanged(e,n,s)}function nC(r){return kt(r).signOut()}async function iC(r){return kt(r).delete()}const dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=1e3,sC=10;class XE extends $E{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,sC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},rC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}XE.type="LOCAL";const aC=XE;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends $E{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}WE.type="SESSION";const ZE=WE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await oC(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=hp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const S=A;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(S.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function li(){return window}function uC(r){li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(){return typeof li().WorkerGlobalScope<"u"&&typeof li().importScripts=="function"}async function cC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hC(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function fC(){return JE()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="firebaseLocalStorageDb",dC=1,mh="firebaseLocalStorage",tT="fbase_key";class uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(r,e){return r.transaction([mh],e?"readwrite":"readonly").objectStore(mh)}function mC(){const r=indexedDB.deleteDatabase(eT);return new uu(r).toPromise()}function Dm(){const r=indexedDB.open(eT,dC);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(mh,{keyPath:tT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(mh)?e(s):(s.close(),await mC(),e(await Dm()))})})}async function qv(r,e,n){const s=Mh(r,!0).put({[tT]:e,value:n});return new uu(s).toPromise()}async function pC(r,e){const n=Mh(r,!1).get(e),s=await new uu(n).toPromise();return s===void 0?null:s.value}function Fv(r,e){const n=Mh(r,!0).delete(e);return new uu(n).toPromise()}const gC=800,yC=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>yC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return JE()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(fC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cC(),!this.activeServiceWorker)return;this.sender=new lC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dm();return await qv(e,dh,"1"),await Fv(e,dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>qv(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>pC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new uu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const _C=nT;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vC(r,e){return e?Ki(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return no(e,this._buildIdpRequest())}_linkToIdToken(e,n){return no(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return no(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EC(r){return QE(r.auth,new fp(r),r.bypassAuthState)}function TC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),$I(n,new fp(r),r.bypassAuthState)}async function bC(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),YI(n,new fp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EC;case"linkViaPopup":case"linkViaRedirect":return bC;case"reauthViaPopup":case"reauthViaRedirect":return TC;default:Hn(this.auth,"internal-error")}}resolve(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=new au(2e3,1e4);class Ja extends iT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ja.currentPopupAction&&Ja.currentPopupAction.cancel(),Ja.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Wi(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ja.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AC.get())};e()}}Ja.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="pendingRedirect",Wc=new Map;class wC extends iT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(r,e){const n=DC(e),s=CC(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function IC(r,e){Wc.set(r._key(),e)}function CC(r){return Ki(r._redirectPersistence)}function DC(r){return Xc(SC,r.config.apiKey,r.name)}async function NC(r,e,n=!1){if(Mn(r.app))return Promise.reject(Yi(r));const s=Zs(r),o=vC(s,e),f=await new wC(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=10*60*1e3;class OC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(oi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Gv(e))}saveEventToCache(e){this.cachedEventUids.add(Gv(e)),this.lastProcessedEventTime=Date.now()}}function Gv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function MC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(r,e={}){return Jr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PC=/^https?/;async function UC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kC(r);for(const n of e)try{if(LC(n))return}catch{}Hn(r,"unauthorized-domain")}function LC(r){const e=Rm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!PC.test(n))return!1;if(VC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new au(3e4,6e4);function Kv(){const r=li().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function jC(r){return new Promise((e,n)=>{var s,o,u;function f(){Kv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Kv(),n(oi(r,"network-request-failed"))},timeout:zC.get()})}if(!((o=(s=li().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=li().gapi)===null||u===void 0)&&u.load)f();else{const m=NI("iframefcb");return li()[m]=()=>{gapi.load?f():n(oi(r,"network-request-failed"))},HE(`${DI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function BC(r){return Zc=Zc||jC(r),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new au(5e3,15e3),qC="__/auth/iframe",FC="emulator/auth/iframe",GC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},KC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?ap(e,FC):`https://${r.config.authDomain}/${qC}`,s={apiKey:e.apiKey,appName:r.name,v:po},o=KC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function YC(r){const e=await BC(r),n=li().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:QC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=oi(r,"network-request-failed"),m=li().setTimeout(()=>{u(f)},HC.get());function p(){li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},XC=500,WC=600,ZC="_blank",JC="http://localhost";class Qv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e2(r,e,n,s=XC,o=WC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},$C),{width:s.toString(),height:o.toString(),top:u,left:f}),g=Wt().toLowerCase();n&&(m=VE(g)?ZC:n),ME(g)&&(e=e||JC,p.scrollbars="yes");const E=Object.entries(p).reduce((S,[k,D])=>`${S}${k}=${D},`,"");if(EI(g)&&m!=="_self")return t2(e||"",m),new Qv(null);const A=window.open(e||"",m,E);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new Qv(A)}function t2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2="__/auth/handler",i2="emulator/auth/handler",r2=encodeURIComponent("fac");async function Yv(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:po,eventId:o};if(e instanceof GE){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",HR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))f[E]=A}if(e instanceof lu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(f.scopes=E.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${r2}=${encodeURIComponent(p)}`:"";return`${s2(r)}?${su(m).slice(1)}${g}`}function s2({config:r}){return r.emulator?ap(r,i2):`https://${r.authDomain}/${n2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="webStorageSupport";class a2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ZE,this._completeRedirectFn=NC,this._overrideRedirectResult=IC}async _openPopup(e,n,s,o){var u;Wi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await Yv(e,n,s,Rm(),o);return e2(e,f,hp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await Yv(e,n,s,Rm(),o);return uC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Wi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await YC(e),s=new OC(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(dm,{type:dm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[dm];f!==void 0&&n(!!f),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return jE()||kE()||lp()}}const o2=a2;var $v="@firebase/auth",Xv="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c2(r){ro(new Ks("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BE(r)},g=new RI(s,o,u,p);return PI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ro(new Ks("auth-internal",e=>{const n=Zs(e.getProvider("auth").getImmediate());return(s=>new l2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr($v,Xv,u2(r)),jr($v,Xv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=5*60,f2=_E("authIdTokenMaxAge")||h2;let Wv=null;const d2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>f2)return;const o=n==null?void 0:n.token;Wv!==o&&(Wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function yo(r=bE()){const e=ip(r,"auth");if(e.isInitialized())return e.getImmediate();const n=VI(r,{popupRedirectResolver:o2,persistence:[_C,aC,ZE]}),s=_E("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=d2(u.toString());eC(n,f,()=>f(n.currentUser)),JI(n,m=>f(m))}}const o=gE("auth");return o&&UI(n,`http://${o}`),n}function m2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}II({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=oi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",m2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c2("Browser");var Zv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,sT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,w){function R(){}R.prototype=w.prototype,M.D=w.prototype,M.prototype=new R,M.prototype.constructor=M,M.C=function(x,V,U){for(var C=Array(arguments.length-2),Vt=2;Vt<arguments.length;Vt++)C[Vt-2]=arguments[Vt];return w.prototype[V].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,w,R){R||(R=0);var x=Array(16);if(typeof w=="string")for(var V=0;16>V;++V)x[V]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(V=0;16>V;++V)x[V]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=M.g[0],R=M.g[1],V=M.g[2];var U=M.g[3],C=w+(U^R&(V^U))+x[0]+3614090360&4294967295;w=R+(C<<7&4294967295|C>>>25),C=U+(V^w&(R^V))+x[1]+3905402710&4294967295,U=w+(C<<12&4294967295|C>>>20),C=V+(R^U&(w^R))+x[2]+606105819&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(w^V&(U^w))+x[3]+3250441966&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(U^R&(V^U))+x[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(V^w&(R^V))+x[5]+1200080426&4294967295,U=w+(C<<12&4294967295|C>>>20),C=V+(R^U&(w^R))+x[6]+2821735955&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(w^V&(U^w))+x[7]+4249261313&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(U^R&(V^U))+x[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(V^w&(R^V))+x[9]+2336552879&4294967295,U=w+(C<<12&4294967295|C>>>20),C=V+(R^U&(w^R))+x[10]+4294925233&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(w^V&(U^w))+x[11]+2304563134&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(U^R&(V^U))+x[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=U+(V^w&(R^V))+x[13]+4254626195&4294967295,U=w+(C<<12&4294967295|C>>>20),C=V+(R^U&(w^R))+x[14]+2792965006&4294967295,V=U+(C<<17&4294967295|C>>>15),C=R+(w^V&(U^w))+x[15]+1236535329&4294967295,R=V+(C<<22&4294967295|C>>>10),C=w+(V^U&(R^V))+x[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(w^R))+x[6]+3225465664&4294967295,U=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(U^w))+x[11]+643717713&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(V^U))+x[0]+3921069994&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^U&(R^V))+x[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(w^R))+x[10]+38016083&4294967295,U=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(U^w))+x[15]+3634488961&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(V^U))+x[4]+3889429448&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^U&(R^V))+x[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(w^R))+x[14]+3275163606&4294967295,U=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(U^w))+x[3]+4107603335&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(V^U))+x[8]+1163531501&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(V^U&(R^V))+x[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=U+(R^V&(w^R))+x[2]+4243563512&4294967295,U=w+(C<<9&4294967295|C>>>23),C=V+(w^R&(U^w))+x[7]+1735328473&4294967295,V=U+(C<<14&4294967295|C>>>18),C=R+(U^w&(V^U))+x[12]+2368359562&4294967295,R=V+(C<<20&4294967295|C>>>12),C=w+(R^V^U)+x[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^V)+x[8]+2272392833&4294967295,U=w+(C<<11&4294967295|C>>>21),C=V+(U^w^R)+x[11]+1839030562&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^w)+x[14]+4259657740&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^U)+x[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^V)+x[4]+1272893353&4294967295,U=w+(C<<11&4294967295|C>>>21),C=V+(U^w^R)+x[7]+4139469664&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^w)+x[10]+3200236656&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^U)+x[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^V)+x[0]+3936430074&4294967295,U=w+(C<<11&4294967295|C>>>21),C=V+(U^w^R)+x[3]+3572445317&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^w)+x[6]+76029189&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(R^V^U)+x[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=U+(w^R^V)+x[12]+3873151461&4294967295,U=w+(C<<11&4294967295|C>>>21),C=V+(U^w^R)+x[15]+530742520&4294967295,V=U+(C<<16&4294967295|C>>>16),C=R+(V^U^w)+x[2]+3299628645&4294967295,R=V+(C<<23&4294967295|C>>>9),C=w+(V^(R|~U))+x[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~V))+x[7]+1126891415&4294967295,U=w+(C<<10&4294967295|C>>>22),C=V+(w^(U|~R))+x[14]+2878612391&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~w))+x[5]+4237533241&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~U))+x[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~V))+x[3]+2399980690&4294967295,U=w+(C<<10&4294967295|C>>>22),C=V+(w^(U|~R))+x[10]+4293915773&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~w))+x[1]+2240044497&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~U))+x[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~V))+x[15]+4264355552&4294967295,U=w+(C<<10&4294967295|C>>>22),C=V+(w^(U|~R))+x[6]+2734768916&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~w))+x[13]+1309151649&4294967295,R=V+(C<<21&4294967295|C>>>11),C=w+(V^(R|~U))+x[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=U+(R^(w|~V))+x[11]+3174756917&4294967295,U=w+(C<<10&4294967295|C>>>22),C=V+(w^(U|~R))+x[2]+718787259&4294967295,V=U+(C<<15&4294967295|C>>>17),C=R+(U^(V|~w))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(V+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+U&4294967295}s.prototype.u=function(M,w){w===void 0&&(w=M.length);for(var R=w-this.blockSize,x=this.B,V=this.h,U=0;U<w;){if(V==0)for(;U<=R;)o(this,M,U),U+=this.blockSize;if(typeof M=="string"){for(;U<w;)if(x[V++]=M.charCodeAt(U++),V==this.blockSize){o(this,x),V=0;break}}else for(;U<w;)if(x[V++]=M[U++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=w},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;var R=8*this.o;for(w=M.length-8;w<M.length;++w)M[w]=R&255,R/=256;for(this.u(M),M=Array(16),w=R=0;4>w;++w)for(var x=0;32>x;x+=8)M[R++]=this.g[w]>>>x&255;return M};function u(M,w){var R=m;return Object.prototype.hasOwnProperty.call(R,M)?R[M]:R[M]=w(M)}function f(M,w){this.h=w;for(var R=[],x=!0,V=M.length-1;0<=V;V--){var U=M[V]|0;x&&U==w||(R[V]=U,x=!1)}this.g=R}var m={};function p(M){return-128<=M&&128>M?u(M,function(w){return new f([w|0],0>w?-1:0)}):new f([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return z(g(-M));for(var w=[],R=1,x=0;M>=R;x++)w[x]=M/R|0,R*=4294967296;return new f(w,0)}function E(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return z(E(M.substring(1),w));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=g(Math.pow(w,8)),x=A,V=0;V<M.length;V+=8){var U=Math.min(8,M.length-V),C=parseInt(M.substring(V,V+U),w);8>U?(U=g(Math.pow(w,U)),x=x.j(U).add(g(C))):(x=x.j(R),x=x.add(g(C)))}return x}var A=p(0),S=p(1),k=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-z(this).m();for(var M=0,w=1,R=0;R<this.g.length;R++){var x=this.i(R);M+=(0<=x?x:4294967296+x)*w,w*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(D(this))return"0";if(X(this))return"-"+z(this).toString(M);for(var w=g(Math.pow(M,6)),R=this,x="";;){var V=fe(R,w).g;R=$(R,V.j(w));var U=((0<R.g.length?R.g[0]:R.h)>>>0).toString(M);if(R=V,D(R))return U+x;for(;6>U.length;)U="0"+U;x=U+x}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function D(M){if(M.h!=0)return!1;for(var w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function X(M){return M.h==-1}r.l=function(M){return M=$(this,M),X(M)?-1:D(M)?0:1};function z(M){for(var w=M.g.length,R=[],x=0;x<w;x++)R[x]=~M.g[x];return new f(R,~M.h).add(S)}r.abs=function(){return X(this)?z(this):this},r.add=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],x=0,V=0;V<=w;V++){var U=x+(this.i(V)&65535)+(M.i(V)&65535),C=(U>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);x=C>>>16,U&=65535,C&=65535,R[V]=C<<16|U}return new f(R,R[R.length-1]&-2147483648?-1:0)};function $(M,w){return M.add(z(w))}r.j=function(M){if(D(this)||D(M))return A;if(X(this))return X(M)?z(this).j(z(M)):z(z(this).j(M));if(X(M))return z(this.j(z(M)));if(0>this.l(k)&&0>M.l(k))return g(this.m()*M.m());for(var w=this.g.length+M.g.length,R=[],x=0;x<2*w;x++)R[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<M.g.length;V++){var U=this.i(x)>>>16,C=this.i(x)&65535,Vt=M.i(V)>>>16,at=M.i(V)&65535;R[2*x+2*V]+=C*at,re(R,2*x+2*V),R[2*x+2*V+1]+=U*at,re(R,2*x+2*V+1),R[2*x+2*V+1]+=C*Vt,re(R,2*x+2*V+1),R[2*x+2*V+2]+=U*Vt,re(R,2*x+2*V+2)}for(x=0;x<w;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=w;x<2*w;x++)R[x]=0;return new f(R,0)};function re(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function te(M,w){this.g=M,this.h=w}function fe(M,w){if(D(w))throw Error("division by zero");if(D(M))return new te(A,A);if(X(M))return w=fe(z(M),w),new te(z(w.g),z(w.h));if(X(w))return w=fe(M,z(w)),new te(z(w.g),w.h);if(30<M.g.length){if(X(M)||X(w))throw Error("slowDivide_ only works with positive integers.");for(var R=S,x=w;0>=x.l(M);)R=ce(R),x=ce(x);var V=we(R,1),U=we(x,1);for(x=we(x,2),R=we(R,2);!D(x);){var C=U.add(x);0>=C.l(M)&&(V=V.add(R),U=C),x=we(x,1),R=we(R,1)}return w=$(M,V.j(w)),new te(V,w)}for(V=A;0<=M.l(w);){for(R=Math.max(1,Math.floor(M.m()/w.m())),x=Math.ceil(Math.log(R)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),U=g(R),C=U.j(w);X(C)||0<C.l(M);)R-=x,U=g(R),C=U.j(w);D(U)&&(U=S),V=V.add(U),M=$(M,C)}return new te(V,M)}r.A=function(M){return fe(this,M).h},r.and=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)&M.i(x);return new f(R,this.h&M.h)},r.or=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)|M.i(x);return new f(R,this.h|M.h)},r.xor=function(M){for(var w=Math.max(this.g.length,M.g.length),R=[],x=0;x<w;x++)R[x]=this.i(x)^M.i(x);return new f(R,this.h^M.h)};function ce(M){for(var w=M.g.length+1,R=[],x=0;x<w;x++)R[x]=M.i(x)<<1|M.i(x-1)>>>31;return new f(R,M.h)}function we(M,w){var R=w>>5;w%=32;for(var x=M.g.length-R,V=[],U=0;U<x;U++)V[U]=0<w?M.i(U+R)>>>w|M.i(U+R+1)<<32-w:M.i(U+R);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,sT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=E,Br=f}).apply(typeof Zv<"u"?Zv:typeof self<"u"?self:typeof window<"u"?window:{});var Bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aT,Pl,oT,Jc,Nm,lT,uT,cT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Bc=="object"&&Bc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var b=0;b<c.length-1;b++){var L=c[b];if(!(L in _))break e;_=_[L]}c=c[c.length-1],b=_[c],y=y(b),y!=b&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,b=!1,L={next:function(){if(!b&&_<c.length){var G=_++;return{value:y(G,c[G]),done:!1}}return b=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,b),c.apply(y,L)}}return function(){return c.apply(y,arguments)}}function S(c,y,_){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,S.apply(null,arguments)}function k(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var b=_.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function D(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(b,L,G){for(var se=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)se[Ve-2]=arguments[Ve];return y.prototype[L].apply(b,se)}}function X(c){const y=c.length;if(0<y){const _=Array(y);for(let b=0;b<y;b++)_[b]=c[b];return _}return[]}function z(c,y){for(let _=1;_<arguments.length;_++){const b=arguments[_];if(p(b)){const L=c.length||0,G=b.length||0;c.length=L+G;for(let se=0;se<G;se++)c[L+se]=b[se]}else c.push(b)}}class ${constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function te(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ce=te().indexOf("Gecko")!=-1&&!(te().toLowerCase().indexOf("webkit")!=-1&&te().indexOf("Edge")==-1)&&!(te().indexOf("Trident")!=-1||te().indexOf("MSIE")!=-1)&&te().indexOf("Edge")==-1;function we(c,y,_){for(const b in c)y.call(_,c[b],b,c)}function M(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function w(c){const y={};for(const _ in c)y[_]=c[_];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,y){let _,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(_ in b)c[_]=b[_];for(let G=0;G<R.length;G++)_=R[G],Object.prototype.hasOwnProperty.call(b,_)&&(c[_]=b[_])}}function V(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function U(c){m.setTimeout(()=>{throw c},0)}function C(){var c=je;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Vt{constructor(){this.h=this.g=null}add(y,_){const b=at.get();b.set(y,_),this.h?this.h.next=b:this.g=b,this.h=b}}var at=new $(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,de=!1,je=new Vt,N=()=>{const c=m.Promise.resolve(void 0);ae=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(_){U(_)}var y=at;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function De(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{fe(y.nodeName);var L=!0;break e}catch{}L=!1}L||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}D(De,ie);var be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function qn(c,y,_,b,L){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!b,this.ha=L,this.key=++Ze,this.da=this.fa=!1}function ir(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function gi(c){this.src=c,this.g={},this.h=0}gi.prototype.add=function(c,y,_,b,L){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var se=as(c,y,b,L);return-1<se?(y=c[se],_||(y.fa=!1)):(y=new qn(y,this.src,G,!!b,L),y.fa=_,c.push(y)),y};function ss(c,y){var _=y.type;if(_ in c.g){var b=c.g[_],L=Array.prototype.indexOf.call(b,y,void 0),G;(G=0<=L)&&Array.prototype.splice.call(b,L,1),G&&(ir(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function as(c,y,_,b){for(var L=0;L<c.length;++L){var G=c[L];if(!G.da&&G.listener==y&&G.capture==!!_&&G.ha==b)return L}return-1}var os="closure_lm_"+(1e6*Math.random()|0),bo={};function pu(c,y,_,b,L){if(Array.isArray(y)){for(var G=0;G<y.length;G++)pu(c,y[G],_,b,L);return null}return _=gu(_),c&&c[It]?c.K(y,_,g(b)?!!b.capture:!1,L):En(c,y,_,!1,b,L)}function En(c,y,_,b,L,G){if(!y)throw Error("Invalid event type");var se=g(L)?!!L.capture:!!L,Ve=ia(c);if(Ve||(c[os]=Ve=new gi(c)),_=Ve.add(y,_,b,se,G),_.proxy)return _;if(b=Zh(),_.proxy=b,b.src=c,b.listener=_,c.addEventListener)pe||(L=se),L===void 0&&(L=!1),c.addEventListener(y.toString(),b,L);else if(c.attachEvent)c.attachEvent(ls(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Zh(){function c(_){return y.call(c.src,c.listener,_)}const y=Jh;return c}function Ao(c,y,_,b,L){if(Array.isArray(y))for(var G=0;G<y.length;G++)Ao(c,y[G],_,b,L);else b=g(b)?!!b.capture:!!b,_=gu(_),c&&c[It]?(c=c.i,y=String(y).toString(),y in c.g&&(G=c.g[y],_=as(G,_,b,L),-1<_&&(ir(G[_]),Array.prototype.splice.call(G,_,1),G.length==0&&(delete c.g[y],c.h--)))):c&&(c=ia(c))&&(y=c.g[y.toString()],c=-1,y&&(c=as(y,_,b,L)),(_=-1<c?y[c]:null)&&na(_))}function na(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])ss(y.i,c);else{var _=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(_,b,c.capture):y.detachEvent?y.detachEvent(ls(_),b):y.addListener&&y.removeListener&&y.removeListener(b),(_=ia(y))?(ss(_,c),_.h==0&&(_.src=null,y[os]=null)):ir(c)}}}function ls(c){return c in bo?bo[c]:bo[c]="on"+c}function Jh(c,y){if(c.da)c=!0;else{y=new De(y,this);var _=c.listener,b=c.ha||c.src;c.fa&&na(c),c=_.call(b,y)}return c}function ia(c){return c=c[os],c instanceof gi?c:null}var So="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(c){return typeof c=="function"?c:(c[So]||(c[So]=function(y){return c.handleEvent(y)}),c[So])}function ot(){oe.call(this),this.i=new gi(this),this.M=this,this.F=null}D(ot,oe),ot.prototype[It]=!0,ot.prototype.removeEventListener=function(c,y,_,b){Ao(this,c,y,_,b)};function Fe(c,y){var _,b=c.F;if(b)for(_=[];b;b=b.F)_.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var L=y;y=new ie(b,c),x(y,L)}if(L=!0,_)for(var G=_.length-1;0<=G;G--){var se=y.g=_[G];L=cn(se,b,!0,y)&&L}if(se=y.g=c,L=cn(se,b,!0,y)&&L,L=cn(se,b,!1,y)&&L,_)for(G=0;G<_.length;G++)se=y.g=_[G],L=cn(se,b,!1,y)&&L}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],b=0;b<_.length;b++)ir(_[b]);delete c.g[y],c.h--}}this.F=null},ot.prototype.K=function(c,y,_,b){return this.i.add(String(c),y,!1,_,b)},ot.prototype.L=function(c,y,_,b){return this.i.add(String(c),y,!0,_,b)};function cn(c,y,_,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var L=!0,G=0;G<y.length;++G){var se=y[G];if(se&&!se.da&&se.capture==_){var Ve=se.listener,Et=se.ha||se.src;se.fa&&ss(c.i,se),L=Ve.call(Et,b)!==!1&&L}}return L&&!b.defaultPrevented}function Gt(c,y,_){if(typeof c=="function")_&&(c=S(c,_));else if(c&&typeof c.handleEvent=="function")c=S(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function yu(c){c.g=Gt(()=>{c.g=null,c.i&&(c.i=!1,yu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ef extends oe{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:yu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(c){oe.call(this),this.h=c,this.g={}}D(us,oe);var cs=[];function hs(c){we(c.g,function(y,_){this.g.hasOwnProperty(_)&&na(y)},c),c.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vn=m.JSON.stringify,ra=m.JSON.parse,fs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function wo(){}wo.prototype.h=null;function Ro(c){return c.h||(c.h=c.i())}function Io(){}var yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){ie.call(this,"d")}D(_i,ie);function Co(){ie.call(this,"c")}D(Co,ie);var Fn={},Do=null;function rr(){return Do=Do||new ot}Fn.La="serverreachability";function sa(c){ie.call(this,Fn.La,c)}D(sa,ie);function sr(c){const y=rr();Fe(y,new sa(y))}Fn.STAT_EVENT="statevent";function _u(c,y){ie.call(this,Fn.STAT_EVENT,c),this.stat=y}D(_u,ie);function et(c){const y=rr();Fe(y,new _u(y,c))}Fn.Ma="timingevent";function vt(c,y){ie.call(this,Fn.Ma,c),this.size=y}D(vt,ie);function mt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Tn(){this.g=!0}Tn.prototype.xa=function(){this.g=!1};function No(c,y,_,b,L,G){c.info(function(){if(c.g)if(G)for(var se="",Ve=G.split("&"),Et=0;Et<Ve.length;Et++){var Pe=Ve[Et].split("=");if(1<Pe.length){var Dt=Pe[0];Pe=Pe[1];var Tt=Dt.split("_");se=2<=Tt.length&&Tt[1]=="type"?se+(Dt+"="+Pe+"&"):se+(Dt+"=redacted&")}}else se=null;else se=G;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+y+`
`+_+`
`+se})}function tf(c,y,_,b,L,G,se){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+y+`
`+_+`
`+G+" "+se})}function ar(c,y,_,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ds(c,_)+(b?" "+b:"")})}function vu(c,y){c.info(function(){return"TIMEOUT: "+y})}Tn.prototype.info=function(){};function ds(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var b=_[c];if(!(2>b.length)){var L=b[1];if(Array.isArray(L)&&!(1>L.length)){var G=L[0];if(G!="noop"&&G!="stop"&&G!="close")for(var se=1;se<L.length;se++)L[se]=""}}}}return Vn(_)}catch{return y}}var or={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Kn(){}D(Kn,wo),Kn.prototype.g=function(){return new XMLHttpRequest},Kn.prototype.i=function(){return{}},Gn=new Kn;function Zt(c,y,_,b){this.j=c,this.i=y,this.l=_,this.R=b||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ct}function ct(){this.i=null,this.g="",this.h=!1}var xo={},aa={};function Pn(c,y,_){c.L=1,c.v=_s(hn(y)),c.m=_,c.P=!0,Ei(c,null)}function Ei(c,y){c.F=Date.now(),ms(c),c.A=hn(c.v);var _=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),Uo(_.i,"t",b),c.C=0,_=c.j.J,c.h=new ct,c.g=Vu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new ef(S(c.Y,c,c.g),c.O)),y=c.U,_=c.g,b=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(cs[0]=L.toString()),L=cs);for(var G=0;G<L.length;G++){var se=pu(_,L[G],b||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?w(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),sr(),No(c.i,c.u,c.A,c.l,c.R,c.m)}Zt.prototype.ca=function(c){c=c.target;const y=this.M;y&&wn(c)==3?y.j():this.Y(c)},Zt.prototype.Y=function(c){try{if(c==this.g)e:{const Tt=wn(this.g);var y=this.g.Ba();const Ci=this.g.Z();if(!(3>Tt)&&(Tt!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Tt!=4||y==7||(y==8||0>=Ci?sr(3):sr(2)),lr(this);var _=this.g.Z();this.X=_;t:if(Eu(this)){var b=Iu(this.g);c="";var L=b.length,G=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pt(this),Qn(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<L;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(G&&y==L-1)});b.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=_==200,tf(this.i,this.u,this.A,this.l,this.R,Tt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,Et=this.g;if((Ve=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ve)){var Pe=Ve;break t}}Pe=null}if(_=Pe)ar(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,et(12),Pt(this),Qn(this);break e}}if(this.P){_=!0;let Ut;for(;!this.J&&this.C<se.length;)if(Ut=Tu(this,se),Ut==aa){Tt==4&&(this.s=4,et(14),_=!1),ar(this.i,this.l,null,"[Incomplete Response]");break}else if(Ut==xo){this.s=4,et(15),ar(this.i,this.l,se,"[Invalid Chunk]"),_=!1;break}else ar(this.i,this.l,Ut,null),ps(this,Ut);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||se.length!=0||this.h.h||(this.s=1,et(16),_=!1),this.o=this.o&&_,!_)ar(this.i,this.l,se,"[Invalid Chunked Response]"),Pt(this),Qn(this);else if(0<se.length&&!this.W){this.W=!0;var Dt=this.j;Dt.g==this&&Dt.ba&&!Dt.M&&(Dt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Rs(Dt),Dt.M=!0,et(11))}}else ar(this.i,this.l,se,null),ps(this,se);Tt==4&&Pt(this),this.o&&!this.J&&(Tt==4?Ou(this.j,this):(this.o=!1,ms(this)))}else of(this.g),_==400&&0<se.indexOf("Unknown SID")?(this.s=3,et(12)):(this.s=0,et(13)),Pt(this),Qn(this)}}}catch{}finally{}};function Eu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Tu(c,y){var _=c.C,b=y.indexOf(`
`,_);return b==-1?aa:(_=Number(y.substring(_,b)),isNaN(_)?xo:(b+=1,b+_>y.length?aa:(y=y.slice(b,b+_),c.C=b+_,y)))}Zt.prototype.cancel=function(){this.J=!0,Pt(this)};function ms(c){c.S=Date.now()+c.I,bu(c,c.I)}function bu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mt(S(c.ba,c),y)}function lr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zt.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(vu(this.i,this.A),this.L!=2&&(sr(),et(17)),Pt(this),this.s=2,Qn(this)):bu(this,this.S-c)};function Qn(c){c.j.G==0||c.J||Ou(c.j,c)}function Pt(c){lr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,hs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ps(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Oo(_.h,c))){if(!c.K&&Oo(_.h,c)&&_.G==3){try{var b=_.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)_a(_),ga(_);else break e;Ho(_),et(18)}}else _.za=L[1],0<_.za-_.T&&37500>L[2]&&_.F&&_.v==0&&!_.C&&(_.C=mt(S(_.Za,_),6e3));if(1>=la(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ii(_,11)}else if((c.K||_.g==c)&&_a(_),!re(y))for(L=_.Da.g.parse(y),y=0;y<L.length;y++){let Pe=L[y];if(_.T=Pe[0],Pe=Pe[1],_.G==2)if(Pe[0]=="c"){_.K=Pe[1],_.ia=Pe[2];const Dt=Pe[3];Dt!=null&&(_.la=Dt,_.j.info("VER="+_.la));const Tt=Pe[4];Tt!=null&&(_.Aa=Tt,_.j.info("SVER="+_.Aa));const Ci=Pe[5];Ci!=null&&typeof Ci=="number"&&0<Ci&&(b=1.5*Ci,_.L=b,_.j.info("backChannelRequestTimeoutMs_="+b)),b=_;const Ut=c.g;if(Ut){const ei=Ut.g?Ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ei){var G=b.h;G.g||ei.indexOf("spdy")==-1&&ei.indexOf("quic")==-1&&ei.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(ua(G,G.h),G.h=null))}if(b.D){const Fo=Ut.g?Ut.g.getResponseHeader("X-HTTP-Session-Id"):null;Fo&&(b.ya=Fo,Qe(b.I,b.D,Fo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),b=_;var se=c;if(b.qa=ku(b,b.J?b.ia:null,b.W),se.K){Jt(b.h,se);var Ve=se,Et=b.L;Et&&(Ve.I=Et),Ve.B&&(lr(Ve),ms(Ve)),b.g=se}else Nu(b);0<_.i.length&&ya(_)}else Pe[0]!="stop"&&Pe[0]!="close"||Ii(_,7);else _.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?Ii(_,7):jo(_):Pe[0]!="noop"&&_.l&&_.l.ta(Pe),_.v=0)}}sr(4)}catch{}}var Au=class{constructor(c,y){this.g=c,this.map=y}};function Ti(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function oa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function la(c){return c.h?1:c.g?c.g.size:0}function Oo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ua(c,y){c.g?c.g.add(y):c.h=y}function Jt(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ti.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Mo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return X(c.i)}function nf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,b=0;b<_;b++)y.push(c[b]);return y}y=[],_=0;for(b in c)y[_++]=c[b];return y}function ca(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const b in c)y[_++]=b;return y}}}function ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=ca(c),b=nf(c),L=b.length,G=0;G<L;G++)y.call(void 0,b[G],_&&_[G],c)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var b=c[_].indexOf("="),L=null;if(0<=b){var G=c[_].substring(0,b);L=c[_].substring(b+1)}else G=c[_];y(G,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function pt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof pt){this.h=c.h,ys(this,c.j),this.o=c.o,this.g=c.g,ur(this,c.s),this.l=c.l;var y=c.i,_=new Ai;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),bi(this,_),this.m=c.m}else c&&(y=String(c).match(gs))?(this.h=!1,ys(this,y[1]||"",!0),this.o=bn(y[2]||""),this.g=bn(y[3]||"",!0),ur(this,y[4]),this.l=bn(y[5]||"",!0),bi(this,y[6]||"",!0),this.m=bn(y[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}pt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(vs(y,Vo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(vs(y,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(vs(_,_.charAt(0)=="/"?sf:Po,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",vs(_,ha)),c.join("")};function hn(c){return new pt(c)}function ys(c,y,_){c.j=_?bn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ur(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function bi(c,y,_){y instanceof Ai?(c.i=y,wu(c.i,c.h)):(_||(y=vs(y,af)),c.i=new Ai(y,c.h))}function Qe(c,y,_){c.i.set(y,_)}function _s(c){return Qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function bn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vs(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Su),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Po=/[#\?:]/g,sf=/[#\?]/g,af=/[#\?@]/g,ha=/#/g;function Ai(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function An(c){c.g||(c.g=new Map,c.h=0,c.i&&rf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Ai.prototype,r.add=function(c,y){An(this),this.i=null,c=Yn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Si(c,y){An(c),y=Yn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function wi(c,y){return An(c),y=Yn(c,y),c.g.has(y)}r.forEach=function(c,y){An(this),this.g.forEach(function(_,b){_.forEach(function(L){c.call(y,L,b,this)},this)},this)},r.na=function(){An(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let b=0;b<y.length;b++){const L=c[b];for(let G=0;G<L.length;G++)_.push(y[b])}return _},r.V=function(c){An(this);let y=[];if(typeof c=="string")wi(this,c)&&(y=y.concat(this.g.get(Yn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return An(this),this.i=null,c=Yn(this,c),wi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Uo(c,y,_){Si(c,y),0<_.length&&(c.i=null,c.g.set(Yn(c,y),X(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var b=y[_];const G=encodeURIComponent(String(b)),se=this.V(b);for(b=0;b<se.length;b++){var L=G;se[b]!==""&&(L+="="+encodeURIComponent(String(se[b]))),c.push(L)}}return this.i=c.join("&")};function Yn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function wu(c,y){y&&!c.j&&(An(c),c.i=null,c.g.forEach(function(_,b){var L=b.toLowerCase();b!=L&&(Si(this,b),Uo(this,L,_))},c)),c.j=y}function Es(c,y){const _=new Tn;if(m.Image){const b=new Image;b.onload=k(Sn,_,"TestLoadImage: loaded",!0,y,b),b.onerror=k(Sn,_,"TestLoadImage: error",!1,y,b),b.onabort=k(Sn,_,"TestLoadImage: abort",!1,y,b),b.ontimeout=k(Sn,_,"TestLoadImage: timeout",!1,y,b),m.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function Un(c,y){const _=new Tn,b=new AbortController,L=setTimeout(()=>{b.abort(),Sn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(G=>{clearTimeout(L),G.ok?Sn(_,"TestPingServer: ok",!0,y):Sn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(L),Sn(_,"TestPingServer: error",!1,y)})}function Sn(c,y,_,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(_)}catch{}}function Ts(){this.g=new fs}function $n(c,y,_){const b=_||"";try{ko(c,function(L,G){let se=L;g(L)&&(se=Vn(L)),y.push(b+G+"="+encodeURIComponent(se))})}catch(L){throw y.push(b+"type="+encodeURIComponent("_badmap")),L}}function cr(c){this.l=c.Ub||null,this.j=c.eb||!1}D(cr,wo),cr.prototype.g=function(){return new Ri(this.l,this.j)},cr.prototype.i=function(c){return function(){return c}}({});function Ri(c,y){ot.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Ri,ot),r=Ri.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Wn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Xn(this):Wn(this),this.readyState==3&&Lo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},r.Qa=function(c){this.g&&(this.response=c,Xn(this))},r.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Wn(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Wn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let y="";return we(c,function(_,b){y+=b,y+=":",y+=_,y+=`\r
`}),y}function Ct(c,y,_){e:{for(b in _){var b=!1;break e}b=!0}b||(_=zo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):Qe(c,y,_))}function He(c){ot.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(He,ot);var fa=/^https?$/i,bs=["POST","PUT"];r=He.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Ro(this.o):Ro(Gn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(G){Ru(this,G);return}if(c=_||"",_=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)_.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const G of b.keys())_.set(G,b.get(G));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(_.keys()).find(G=>G.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(bs,y,void 0))||b||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,se]of _)this.g.setRequestHeader(G,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Ru(this,G)}};function Ru(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,da(c),Zn(c)}function da(c){c.A||(c.A=!0,Fe(c,"complete"),Fe(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Fe(this,"complete"),Fe(this,"abort"),Zn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zn(this,!0)),He.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ma(this):this.bb())},r.bb=function(){ma(this)};function ma(c){if(c.h&&typeof f<"u"&&(!c.v[1]||wn(c)!=4||c.Z()!=2)){if(c.u&&wn(c)==4)Gt(c.Ea,0,c);else if(Fe(c,"readystatechange"),wn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var b;if(b=se===0){var L=String(c.D).match(gs)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),b=!fa.test(L?L.toLowerCase():"")}_=b}if(_)Fe(c,"complete"),Fe(c,"success");else{c.m=6;try{var G=2<wn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",da(c)}}finally{Zn(c)}}}}function Zn(c,y){if(c.g){As(c);const _=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Fe(c,"ready");try{_.onreadystatechange=b}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function wn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ra(y)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function of(c){const y={};c=(c.g&&2<=wn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(re(c[b]))continue;var _=V(c[b]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const G=y[L]||[];y[L]=G,G.push(_)}M(y,function(b){return b.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function pa(c){this.Aa=0,this.i=[],this.j=new Tn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=pa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,b){et(0),this.W=c,this.H=y||{},_&&b!==void 0&&(this.H.OSID=_,this.H.OAID=b),this.F=this.X,this.I=ku(this,null,this.W),ya(this)};function jo(c){if(Cu(c),c.G==3){var y=c.U++,_=hn(c.I);if(Qe(_,"SID",c.K),Qe(_,"RID",y),Qe(_,"TYPE","terminate"),ws(c,_),y=new Zt(c,c.j,y),y.L=2,y.v=_s(hn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Vu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ms(y)}Mu(c)}function ga(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Cu(c){ga(c),c.u&&(m.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ya(c){if(!oa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ae||N(),de||(ae(),de=!0),je.add(y,c),c.B=0}}function lf(c,y){return la(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mt(S(c.Ga,c,y),qo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new Zt(this,this.j,c);let G=this.o;if(this.S&&(G?(G=w(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(L.H=G,G=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var b=this.i[_];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Du(this,L,y),_=hn(this.I),Qe(_,"RID",c),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),ws(this,_),G&&(this.O?y="headers="+encodeURIComponent(String(zo(G)))+"&"+y:this.m&&Ct(_,this.m,G)),ua(this.h,L),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",y),Qe(_,"SID","null"),L.T=!0,Pn(L,_,null)):Pn(L,_,y),this.G=2}}else this.G==3&&(c?Bo(this,c):this.i.length==0||oa(this.h)||Bo(this))};function Bo(c,y){var _;y?_=y.l:_=c.U++;const b=hn(c.I);Qe(b,"SID",c.K),Qe(b,"RID",_),Qe(b,"AID",c.T),ws(c,b),c.m&&c.o&&Ct(b,c.m,c.o),_=new Zt(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Du(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ua(c.h,_),Pn(_,b,y)}function ws(c,y){c.H&&we(c.H,function(_,b){Qe(y,b,_)}),c.l&&ko({},function(_,b){Qe(y,b,_)})}function Du(c,y,_){_=Math.min(c.i.length,_);var b=c.l?S(c.l.Na,c.l,c):null;e:{var L=c.i;let G=-1;for(;;){const se=["count="+_];G==-1?0<_?(G=L[0].g,se.push("ofs="+G)):G=0:se.push("ofs="+G);let Ve=!0;for(let Et=0;Et<_;Et++){let Pe=L[Et].g;const Dt=L[Et].map;if(Pe-=G,0>Pe)G=Math.max(0,L[Et].g-100),Ve=!1;else try{$n(Dt,se,"req"+Pe+"_")}catch{b&&b(Dt)}}if(Ve){b=se.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,b}function Nu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ae||N(),de||(ae(),de=!0),je.add(y,c),c.v=0}}function Ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mt(S(c.Fa,c),qo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mt(S(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,et(10),ga(this),xu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Zt(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=hn(c.qa);Qe(y,"RID","rpc"),Qe(y,"SID",c.K),Qe(y,"AID",c.T),Qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Qe(y,"TO",c.ja),Qe(y,"TYPE","xmlhttp"),ws(c,y),c.m&&c.o&&Ct(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(hn(y)),_.m=null,_.P=!0,Ei(_,c)}r.Za=function(){this.C!=null&&(this.C=null,ga(this),Ho(this),et(19))};function _a(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ou(c,y){var _=null;if(c.g==y){_a(c),Rs(c),c.g=null;var b=2}else if(Oo(c.h,y))_=y.D,Jt(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var L=c.B;b=rr(),Fe(b,new vt(b,_)),ya(c)}else Nu(c);else if(L=y.s,L==3||L==0&&0<y.X||!(b==1&&lf(c,y)||b==2&&Ho(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),L){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function qo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Ii(c,y){if(c.j.info("Error code "+y),y==2){var _=S(c.fb,c),b=c.Xa;const L=!b;b=new pt(b||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ys(b,"https"),_s(b),L?Es(b.toString(),_):Un(b.toString(),_)}else et(2);c.G=0,c.l&&c.l.sa(y),Mu(c),Cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),et(2)):(this.j.info("Failed to ping google.com"),et(1))};function Mu(c){if(c.G=0,c.ka=[],c.l){const y=Mo(c.h);(y.length!=0||c.i.length!=0)&&(z(c.ka,y),z(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function ku(c,y,_){var b=_ instanceof pt?hn(_):new pt(_);if(b.g!="")y&&(b.g=y+"."+b.g),ur(b,b.s);else{var L=m.location;b=L.protocol,y=y?y+"."+L.hostname:L.hostname,L=+L.port;var G=new pt(null);b&&ys(G,b),y&&(G.g=y),L&&ur(G,L),_&&(G.l=_),b=G}return _=c.D,y=c.ya,_&&y&&Qe(b,_,y),Qe(b,"VER",c.la),ws(c,b),b}function Vu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new He(new cr({eb:_})):new He(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}r=Pu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function va(){}va.prototype.g=function(c,y){return new en(c,y)};function en(c,y){ot.call(this),this.g=new pa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Jn(this)}D(en,ot),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){jo(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Vn(c),c=_);y.i.push(new Au(y.Ya++,c)),y.G==3&&ya(y)},en.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,en.aa.N.call(this)};function Uu(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}D(Uu,_i);function Lu(){Co.call(this),this.status=1}D(Lu,Co);function Jn(c){this.g=c}D(Jn,Pu),Jn.prototype.ua=function(){Fe(this.g,"a")},Jn.prototype.ta=function(c){Fe(this.g,new Uu(c))},Jn.prototype.sa=function(c){Fe(this.g,new Lu)},Jn.prototype.ra=function(){Fe(this.g,"b")},va.prototype.createWebChannel=va.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,cT=function(){return new va},uT=function(){return rr()},lT=Fn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},or.NO_ERROR=0,or.TIMEOUT=8,or.HTTP_ERROR=6,Jc=or,vi.COMPLETE="complete",oT=vi,Io.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Pl=Io,He.prototype.listenOnce=He.prototype.L,He.prototype.getLastError=He.prototype.Ka,He.prototype.getLastErrorCode=He.prototype.Ba,He.prototype.getStatus=He.prototype.Z,He.prototype.getResponseJson=He.prototype.Oa,He.prototype.getResponseText=He.prototype.oa,He.prototype.send=He.prototype.ea,He.prototype.setWithCredentials=He.prototype.Ha,aT=He}).apply(typeof Bc<"u"?Bc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",e0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new tp("@firebase/firestore");function $a(){return $s.logLevel}function le(r,...e){if($s.logLevel<=Me.DEBUG){const n=e.map(dp);$s.debug(`Firestore (${_o}): ${r}`,...n)}}function Zi(r,...e){if($s.logLevel<=Me.ERROR){const n=e.map(dp);$s.error(`Firestore (${_o}): ${r}`,...n)}}function so(r,...e){if($s.logLevel<=Me.WARN){const n=e.map(dp);$s.warn(`Firestore (${_o}): ${r}`,...n)}}function dp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+r;throw Zi(e),new Error(e)}function qe(r,e){r||Te()}function Se(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class g2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y2{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qe(typeof s.accessToken=="string"),new hT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qe(e===null||typeof e=="string"),new $t(e)}}class _2{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class v2{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new _2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class t0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class E2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Mn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){qe(this.o===void 0);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new t0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(qe(typeof n.token=="string"),this.R=n.token,new t0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=T2(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ce(r,e){return r<e?-1:r>e?1:0}function xm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ce(s,o);{const u=fT(),f=b2(u.encode(n0(r,n)),u.encode(n0(e,n)));return f!==0?f:Ce(s,o)}}n+=s>65535?2:1}return Ce(r.length,e.length)}function n0(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function b2(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Ce(r[n],e[n]);return Ce(r.length,e.length)}function ao(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=-62135596800,r0=1e6;class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*r0);return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<i0)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-i0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new wt(0,0))}static max(){return new Ae(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s0="__name__";class ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ce(e.length,n.length)}static compareSegments(e,n){const s=ai.isNumericId(e),o=ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(n)):xm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class nt extends ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const A2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qt extends ai{construct(e,n,s){return new qt(e,n,s)}static isValidIdentifier(e){return A2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===s0}static keyField(){return new qt([s0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new qt(n)}static emptyPath(){return new qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(nt.fromString(e))}static fromName(e){return new ge(nt.fromString(e).popFirst(5))}static empty(){return new ge(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function S2(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Fr(o,ge.empty(),e)}function w2(r){return new Fr(r.readTime,r.key,$l)}class Fr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Fr(Ae.min(),ge.empty(),$l)}static max(){return new Fr(Ae.max(),ge.empty(),$l)}}function R2(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Ce(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r){if(r.code!==ne.FAILED_PRECONDITION||r.message!==I2)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{f[g]=E,++m,m===u&&s(f)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function D2(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}kh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function Vh(r){return r==null}function ph(r){return r===0&&1/r==-1/0}function N2(r){return typeof r=="number"&&Number.isInteger(r)&&!ph(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="";function x2(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=a0(e)),e=O2(r.get(n),e);return a0(e)}function O2(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case mT:n+="";break;default:n+=u}}return n}function a0(r){return r+mT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function pT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Ht.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hc(this.root,e,this.comparator,!0)}}class Hc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ht.RED,this.left=o??Ht.EMPTY,this.right=u??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ht(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ht.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new l0(this.data.getIterator())}getIteratorFrom(e){return new l0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Rt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Rt(this.comparator);return n.data=e,n}}class l0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.fields=e,e.sort(qt.comparator)}static empty(){return new vn([])}unionWith(e){let n=new Rt(qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ao(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new gT("Invalid base64 string: "+u):u}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const M2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(r){if(qe(!!r),typeof r=="string"){let e=0;const n=M2.exec(r);if(qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:dt(r.seconds),nanos:dt(r.nanos)}}function dt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Kr(r){return typeof r=="string"?Ft.fromBase64String(r):Ft.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="server_timestamp",_T="__type__",vT="__previous_value__",ET="__local_write_time__";function pp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[_T])===null||n===void 0?void 0:n.stringValue)===yT}function Ph(r){const e=r.mapValue.fields[vT];return pp(e)?Ph(e):e}function Xl(r){const e=Gr(r.mapValue.fields[ET].timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const gh="(default)";class Wl{constructor(e,n){this.projectId=e,this.database=n||gh}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database===gh}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="__type__",V2="__max__",qc={mapValue:{}},bT="__vector__",yh="value";function Qr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?pp(r)?4:U2(r)?9007199254740991:P2(r)?10:11:Te()}function di(r,e){if(r===e)return!0;const n=Qr(r);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Xl(r).isEqual(Xl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Gr(o.timestampValue),m=Gr(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Kr(o.bytesValue).isEqual(Kr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return dt(o.geoPointValue.latitude)===dt(u.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return dt(o.integerValue)===dt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=dt(o.doubleValue),m=dt(u.doubleValue);return f===m?ph(f)===ph(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return ao(r.arrayValue.values||[],e.arrayValue.values||[],di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(o0(f)!==o0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!di(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function Zl(r,e){return(r.values||[]).find(n=>di(n,e))!==void 0}function oo(r,e){if(r===e)return 0;const n=Qr(r),s=Qr(e);if(n!==s)return Ce(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ce(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=dt(u.integerValue||u.doubleValue),p=dt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return u0(r.timestampValue,e.timestampValue);case 4:return u0(Xl(r),Xl(e));case 5:return xm(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Kr(u),p=Kr(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ce(m[g],p[g]);if(E!==0)return E}return Ce(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ce(dt(u.latitude),dt(f.latitude));return m!==0?m:Ce(dt(u.longitude),dt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return c0(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,E;const A=u.fields||{},S=f.fields||{},k=(m=A[yh])===null||m===void 0?void 0:m.arrayValue,D=(p=S[yh])===null||p===void 0?void 0:p.arrayValue,X=Ce(((g=k==null?void 0:k.values)===null||g===void 0?void 0:g.length)||0,((E=D==null?void 0:D.values)===null||E===void 0?void 0:E.length)||0);return X!==0?X:c0(k,D)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===qc.mapValue&&f===qc.mapValue)return 0;if(u===qc.mapValue)return 1;if(f===qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const S=xm(p[A],E[A]);if(S!==0)return S;const k=oo(m[p[A]],g[E[A]]);if(k!==0)return k}return Ce(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Te()}}function u0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ce(r,e);const n=Gr(r),s=Gr(e),o=Ce(n.seconds,s.seconds);return o!==0?o:Ce(n.nanos,s.nanos)}function c0(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=oo(n[o],s[o]);if(u)return u}return Ce(n.length,s.length)}function lo(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=Gr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Kr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function eh(r){switch(Qr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ph(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return Kr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return es(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(r.mapValue);default:throw Te()}}function Mm(r){return!!r&&"integerValue"in r}function gp(r){return!!r&&"arrayValue"in r}function h0(r){return!!r&&"nullValue"in r}function f0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function P2(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[TT])===null||n===void 0?void 0:n.stringValue)===bT}function jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=jl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function U2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===V2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(n)}setAll(e){let n=qt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=jl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new ln(jl(this.value))}}function AT(r){const e=[];return es(r.fields,(n,s)=>{const o=new qt([n]);if(th(s)){const u=AT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Xt(e,0,Ae.min(),Ae.min(),Ae.min(),ln.empty(),0)}static newFoundDocument(e,n,s,o){return new Xt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Xt(e,2,n,Ae.min(),Ae.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Xt(e,3,n,Ae.min(),Ae.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function d0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=oo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function m0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!di(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n="asc"){this.field=e,this.dir=n}}function L2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{}class St extends ST{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new j2(e,n,s):n==="array-contains"?new q2(e,s):n==="in"?new F2(e,s):n==="not-in"?new G2(e,s):n==="array-contains-any"?new K2(e,s):new St(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new B2(e,s):new H2(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(oo(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison(oo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends ST{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mi(e,n)}matches(e){return wT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wT(r){return r.op==="and"}function RT(r){return z2(r)&&wT(r)}function z2(r){for(const e of r.filters)if(e instanceof mi)return!1;return!0}function km(r){if(r instanceof St)return r.field.canonicalString()+r.op.toString()+lo(r.value);if(RT(r))return r.filters.map(e=>km(e)).join(",");{const e=r.filters.map(n=>km(n)).join(",");return`${r.op}(${e})`}}function IT(r,e){return r instanceof St?function(s,o){return o instanceof St&&s.op===o.op&&s.field.isEqual(o.field)&&di(s.value,o.value)}(r,e):r instanceof mi?function(s,o){return o instanceof mi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&IT(f,o.filters[m]),!0):!1}(r,e):void Te()}function CT(r){return r instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${lo(n.value)}`}(r):r instanceof mi?function(n){return n.op.toString()+" {"+n.getFilters().map(CT).join(" ,")+"}"}(r):"Filter"}class j2 extends St{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class B2 extends St{constructor(e,n){super(e,"in",n),this.keys=DT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class H2 extends St{constructor(e,n){super(e,"not-in",n),this.keys=DT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class q2 extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gp(n)&&Zl(n.arrayValue,this.value)}}class F2 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Zl(this.value.arrayValue,n)}}class G2 extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Zl(this.value.arrayValue,n)}}class K2 extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Zl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function p0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Q2(r,e,n,s,o,u,f)}function yp(r){const e=Se(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>km(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Vh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>lo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>lo(s)).join(",")),e.le=n}return e.le}function _p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!L2(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!IT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!m0(r.startAt,e.startAt)&&m0(r.endAt,e.endAt)}function Vm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y2(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function vp(r){return new Uh(r)}function g0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function $2(r){return r.collectionGroup!==null}function Bl(r){const e=Se(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Rt(qt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new vh(u,s))}),n.has(qt.keyField().canonicalString())||e.he.push(new vh(qt.keyField(),s))}return e.he}function ui(r){const e=Se(r);return e.Pe||(e.Pe=X2(e,Bl(r))),e.Pe}function X2(r,e){if(r.limitType==="F")return p0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new vh(o.field,u)});const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return p0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Pm(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Lh(r,e){return _p(ui(r),ui(e))&&r.limitType===e.limitType}function NT(r){return`${yp(ui(r))}|lt:${r.limitType}`}function Xa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>CT(o)).join(", ")}]`),Vh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>lo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>lo(o)).join(",")),`Target(${s})`}(ui(r))}; limitType=${r.limitType})`}function zh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Bl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=d0(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,Bl(s),o)||s.endAt&&!function(f,m,p){const g=d0(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,Bl(s),o))}(r,e)}function W2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function xT(r){return(e,n)=>{let s=!1;for(const o of Bl(r)){const u=Z2(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Z2(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?oo(p,g):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return pT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new st(ge.comparator);function Ji(){return J2}const OT=new st(ge.comparator);function Ul(...r){let e=OT;for(const n of r)e=e.insert(n.key,n);return e}function MT(r){let e=OT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function qs(){return Hl()}function kT(){return Hl()}function Hl(){return new Js(r=>r.toString(),(r,e)=>r.isEqual(e))}const eD=new st(ge.comparator),tD=new Rt(ge.comparator);function ke(...r){let e=tD;for(const n of r)e=e.add(n);return e}const nD=new Rt(Ce);function iD(){return nD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ph(e)?"-0":e}}function VT(r){return{integerValue:""+r}}function rD(r,e){return N2(e)?VT(e):Ep(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function sD(r,e,n){return r instanceof Eh?function(o,u){const f={fields:{[_T]:{stringValue:yT},[ET]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&pp(u)&&(u=Ph(u)),u&&(f.fields[vT]=u),{mapValue:f}}(n,e):r instanceof Jl?UT(r,e):r instanceof eu?LT(r,e):function(o,u){const f=PT(o,u),m=y0(f)+y0(o.Ie);return Mm(f)&&Mm(o.Ie)?VT(m):Ep(o.serializer,m)}(r,e)}function aD(r,e,n){return r instanceof Jl?UT(r,e):r instanceof eu?LT(r,e):n}function PT(r,e){return r instanceof Th?function(s){return Mm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eh extends jh{}class Jl extends jh{constructor(e){super(),this.elements=e}}function UT(r,e){const n=zT(e);for(const s of r.elements)n.some(o=>di(o,s))||n.push(s);return{arrayValue:{values:n}}}class eu extends jh{constructor(e){super(),this.elements=e}}function LT(r,e){let n=zT(e);for(const s of r.elements)n=n.filter(o=>!di(o,s));return{arrayValue:{values:n}}}class Th extends jh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function y0(r){return dt(r.integerValue||r.doubleValue)}function zT(r){return gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function oD(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Jl&&o instanceof Jl||s instanceof eu&&o instanceof eu?ao(s.elements,o.elements,di):s instanceof Th&&o instanceof Th?di(s.Ie,o.Ie):s instanceof Eh&&o instanceof Eh}(r.transform,e.transform)}class lD{constructor(e,n){this.version=e,this.transformResults=n}}class ci{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ci}static exists(e){return new ci(void 0,e)}static updateTime(e){return new ci(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bh{}function jT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new HT(r.key,ci.none()):new cu(r.key,r.data,ci.none());{const n=r.data,s=ln.empty();let o=new Rt(qt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ts(r.key,s,new vn(o.toArray()),ci.none())}}function uD(r,e,n){r instanceof cu?function(o,u,f){const m=o.value.clone(),p=v0(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ts?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=v0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(BT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(r,e,n,s){return r instanceof cu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=u.value.clone(),E=E0(u.fieldTransforms,p,f);return g.setAll(E),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof ts?function(u,f,m,p){if(!nh(u.precondition,f))return m;const g=E0(u.fieldTransforms,p,f),E=f.data;return E.setAll(BT(u)),E.setAll(g),f.convertToFoundDocument(f.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function cD(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=PT(s.transform,o||null);u!=null&&(n===null&&(n=ln.empty()),n.set(s.field,u))}return n||null}function _0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&ao(s,o,(u,f)=>oD(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class cu extends Bh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ts extends Bh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function BT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function v0(r,e,n){const s=new Map;qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,aD(f,m,n[o]))}return s}function E0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,sD(u,f,e))}return s}class HT extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hD extends Bh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&uD(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=kT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=jT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&ao(this.mutations,e.mutations,(n,s)=>_0(n,s))&&ao(this.baseMutations,e.baseMutations,(n,s)=>_0(n,s))}}class Tp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){qe(e.mutations.length===s.length);let o=function(){return eD}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Tp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _t,Le;function pD(r){switch(r){case ne.OK:return Te();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0;default:return Te()}}function qT(r){if(r===void 0)return Zi("GRPC error has no .code"),ne.UNKNOWN;switch(r){case _t.OK:return ne.OK;case _t.CANCELLED:return ne.CANCELLED;case _t.UNKNOWN:return ne.UNKNOWN;case _t.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case _t.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case _t.INTERNAL:return ne.INTERNAL;case _t.UNAVAILABLE:return ne.UNAVAILABLE;case _t.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case _t.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case _t.NOT_FOUND:return ne.NOT_FOUND;case _t.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case _t.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case _t.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case _t.ABORTED:return ne.ABORTED;case _t.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case _t.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case _t.DATA_LOSS:return ne.DATA_LOSS;default:return Te()}}(Le=_t||(_t={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD=new Br([4294967295,4294967295],0);function T0(r){const e=fT().encode(r),n=new sT;return n.update(e),new Uint8Array(n.digest())}function b0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Br([n,s],0),new Br([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ll(`Invalid padding: ${n}`);if(s<0)throw new Ll(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Br.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(Br.fromNumber(s)));return o.compare(gD)===1&&(o=new Br([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=T0(e),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=T0(e),[s,o]=b0(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Hh(Ae.min(),o,new st(Ce),Ji(),ke())}}class hu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new hu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class FT{constructor(e,n){this.targetId=e,this.ge=n}}class GT{constructor(e,n,s=Ft.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class A0{constructor(){this.pe=0,this.ye=S0(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new hu(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=S0()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ji(),this.$e=Fc(),this.Ue=Fc(),this.Ke=new st(Ce)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Xt.newNoDocument(f,Ae.min()))}else qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Kr(s).toUint8Array()}catch(p){if(p instanceof gT)return so("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return so(p instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Vm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Xt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ue.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Hh(e,n,this.Ke,this.Qe,s);return this.Qe=Ji(),this.$e=Fc(),this.Ue=Fc(),this.Ke=new st(Ce),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new A0,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Rt(Ce),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Rt(Ce),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new A0),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Fc(){return new st(ge.comparator)}function S0(){return new st(ge.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ED={and:"AND",or:"OR"};class TD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Um(r,e){return r.useProto3Json||Vh(e)?e:{value:e}}function bh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function bD(r,e){return bh(r,e.toTimestamp())}function hi(r){return qe(!!r),Ae.fromTimestamp(function(n){const s=Gr(n);return new wt(s.seconds,s.nanos)}(r))}function Ap(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function QT(r){const e=nt.fromString(r);return qe(ZT(e)),e}function zm(r,e){return Ap(r.databaseId,e.path)}function mm(r,e){const n=QT(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge($T(n))}function YT(r,e){return Ap(r.databaseId,e)}function AD(r){const e=QT(r);return e.length===4?nt.emptyPath():$T(e)}function jm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function $T(r){return qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function w0(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function SD(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(qe(E===void 0||typeof E=="string"),Ft.fromBase64String(E||"")):(qe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Ft.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const E=g.code===void 0?ne.UNKNOWN:qT(g.code);return new me(E,g.message||"")}(f);n=new GT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=mm(r,s.document.name),u=hi(s.document.updateTime),f=s.document.createTime?hi(s.document.createTime):Ae.min(),m=new ln({mapValue:{fields:s.document.fields}}),p=Xt.newFoundDocument(o,u,f,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new ih(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=mm(r,s.document),u=s.readTime?hi(s.readTime):Ae.min(),f=Xt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=mm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new mD(o,u),m=s.targetId;n=new FT(m,f)}}return n}function wD(r,e){let n;if(e instanceof cu)n={update:w0(r,e.key,e.value)};else if(e instanceof HT)n={delete:zm(r,e.key)};else if(e instanceof ts)n={update:w0(r,e.key,e.data),updateMask:kD(e.fieldMask)};else{if(!(e instanceof hD))return Te();n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Eh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof eu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Th)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:bD(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function RD(r,e){return r&&r.length>0?(qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?hi(o.updateTime):hi(u);return f.isEqual(Ae.min())&&(f=hi(u)),new lD(f,o.transformResults||[])}(n,e))):[]}function ID(r,e){return{documents:[YT(r,e.path)]}}function CD(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=YT(r,o);const u=function(g){if(g.length!==0)return WT(mi.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(E=>function(S){return{field:Wa(S.field),direction:xD(S.dir)}}(E))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Um(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function DD(r){let e=AD(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){qe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(A){const S=XT(A);return S instanceof mi&&RT(S)?S.getFilters():[S]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(S=>function(D){return new vh(Za(D.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(S))}(n.orderBy));let m=null;n.limit&&(m=function(A){let S;return S=typeof A=="object"?A.value:A,Vh(S)?null:S}(n.limit));let p=null;n.startAt&&(p=function(A){const S=!!A.before,k=A.values||[];return new _h(k,S)}(n.startAt));let g=null;return n.endAt&&(g=function(A){const S=!A.before,k=A.values||[];return new _h(k,S)}(n.endAt)),Y2(e,o,f,u,m,"F",p,g)}function ND(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Za(n.unaryFilter.field);return St.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Za(n.unaryFilter.field);return St.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Za(n.unaryFilter.field);return St.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Za(n.unaryFilter.field);return St.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return St.create(Za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return mi.create(n.compositeFilter.filters.map(s=>XT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function xD(r){return _D[r]}function OD(r){return vD[r]}function MD(r){return ED[r]}function Wa(r){return{fieldPath:r.canonicalString()}}function Za(r){return qt.fromServerFormat(r.fieldPath)}function WT(r){return r instanceof St?function(n){if(n.op==="=="){if(f0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(h0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(f0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(h0(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:OD(n.op),value:n.value}}}(r):r instanceof mi?function(n){const s=n.getFilters().map(o=>WT(o));return s.length===1?s[0]:{compositeFilter:{op:MD(n.op),filters:s}}}(r):Te()}function kD(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Ft.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ur(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ur(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e){this.Tt=e}}function PD(r){const e=DD({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Pm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(){this.Tn=new LD}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Fr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Fr.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class LD{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Rt(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Rt(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},JT=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(JT,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new uo(0)}static Kn(){return new uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0="LruGarbageCollector",zD=1048576;function C0([r,e],[n,s]){const o=Ce(r,n);return o===0?Ce(e,s):o}class jD{constructor(e){this.Hn=e,this.buffer=new Rt(C0),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();C0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class BD{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){le(I0,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Eo(n)?le(I0,"Ignoring IndexedDB error during garbage collection: ",n):await vo(n)}await this.er(3e5)})}}class HD{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(kh.ae);const s=new jD(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(R0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R0):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),$a()<=Me.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-E}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function qD(r,e){return new HD(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(){this.changes=new Js(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Xt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ql(s.mutation,o,vn.empty(),wt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=Ji();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ts)?u=u.insert(g.key,g):E!==void 0?(f.set(g.key,E.mutation.getFieldMask()),ql(E.mutation,g,E.mutation.getFieldMask(),wt.now())):f.set(g.key,vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>f.set(g,E)),n.forEach((g,E)=>{var A;return m.set(g,new GD(E,(A=f.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new st((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=kT();E.forEach(S=>{if(!u.has(S)){const k=jT(n.get(S),s.get(S));k!==null&&A.set(S,k),u=u.add(S)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,A))}return J.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(qs());let m=$l,p=u;return f.next(g=>J.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(S=>{p=p.insert(E,S)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:MT(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>J.forEach(m,p=>{const g=function(A,S){return new Uh(S,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,S)=>{f=f.insert(A,S)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const E=g.getKey();f.get(E)===null&&(f=f.insert(E,Xt.newInvalidDocument(E)))});let m=Ul();return f.forEach((p,g)=>{const E=u.get(p);E!==void 0&&ql(E.mutation,g,vn.empty(),wt.now()),zh(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:hi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:PD(o.bundledQuery),readTime:hi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(){this.overlays=new st(ge.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=qs();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=qs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new st((g,E)=>g-E);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=qs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return J.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new dD(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(){this.Vr=new Rt(Mt.mr),this.gr=new Rt(Mt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new Mt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new Mt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ge(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new nt([])),s=new Mt(n,e),o=new Mt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new Mt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Mt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Ce(e.Cr,n.Cr)}static pr(e,n){return Ce(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Rt(Mt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new fD(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new Mt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Mt(n,0),o=new Mt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Rt(Ce);return n.forEach(o=>{const u=new Mt(o,0),f=new Mt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new Mt(new ge(u),0);let m=new Rt(Ce);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),J.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new Mt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new Mt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.kr=e,this.docs=function(){return new st(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():Xt.newInvalidDocument(n))}getEntries(e,n){let s=Ji();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Xt.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Ji();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||R2(w2(E),s)<=0||(o.has(E.key)||zh(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new ZD(this)}getSize(e){return J.resolve(this.size)}}class ZD extends FD{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.persistence=e,this.Qr=new Js(n=>yp(n),_p),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Sp,this.targetCount=0,this.Kr=uo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new uo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new kh(0),this.zr=!1,this.zr=!0,this.jr=new $D,this.referenceDelegate=e(this),this.Hr=new JD(this),this.indexManager=new UD,this.remoteDocumentCache=function(o){return new WD(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new VD(n),this.Yr=new QD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new XD(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new eN(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class eN extends C2{constructor(e){super(),this.currentSequenceNumber=e}}class wp{constructor(e){this.persistence=e,this.ti=new Sp,this.ni=null}static ri(e){return new wp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ah{constructor(e,n){this.persistence=e,this.oi=new Js(s=>x2(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=qD(this,n)}static ri(e,n){return new Ah(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Rp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return PR()?8:D2(Wt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new tN;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?($a()<=Me.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):($a()<=Me.DEBUG&&le("QueryEngine","Query:",Xa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?($a()<=Me.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ui(n))):J.resolve())}rs(e,n){if(g0(n))return J.resolve(null);let s=ui(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Pm(n,null,"F"),s=ui(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Pm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return g0(n)||o.isEqual(Ae.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?J.resolve(null):($a()<=Me.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Xa(n)),this.hs(e,f,n,S2(o,$l)).next(m=>m))})}cs(e,n){let s=new Rt(xT(e));return n.forEach((o,u)=>{zh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return $a()<=Me.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ns.getDocumentsMatchingQuery(e,n,Fr.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ip="LocalStore",iN=3e8;class rN{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(Ce),this.Is=new Js(u=>yp(u),_p),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function sN(r,e,n,s){return new rN(r,e,n,s)}async function tb(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function aN(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,S=A.keys();let k=J.resolve();return S.forEach(D=>{k=k.next(()=>E.getEntry(p,D)).next(X=>{const z=g.docVersions.get(D);qe(z!==null),X.version.compareTo(z)<0&&(A.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),E.addEntry(X)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function nb(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function oN(r,e){const n=Se(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((E,A)=>{const S=o.get(A);if(!S)return;m.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,A)));let k=S.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?k=k.withResumeToken(Ft.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(A,k),function(X,z,$){return X.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=iN?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(S,k,E)&&m.push(n.Hr.updateTargetData(u,k))});let p=Ji(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(lN(u,f,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Ae.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return J.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function lN(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=Ji();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):le(Ip,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function uN(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=mp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function cN(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Ur(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Bm(r,e,n){const s=Se(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Eo(f))throw f;le(Ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function D0(r,e,n){const s=Se(r);let o=Ae.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,E){const A=Se(p),S=A.Is.get(E);return S!==void 0?J.resolve(A.Ts.get(S)):A.Hr.getTargetData(g,E)}(s,f,ui(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:ke())).next(m=>(hN(s,W2(e),m),{documents:m,gs:u})))}function hN(r,e,n){let s=r.Es.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class N0{constructor(){this.activeTargetIds=iD()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fN{constructor(){this.ho=new N0,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new N0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class O0{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){le(x0,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){le(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gc=null;function Hm(){return Gc===null?Gc=function(){return 268435456+Math.round(2147483648*Math.random())}():Gc++,"0x"+Gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="RestConnection",mN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===gh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const f=Hm(),m=this.bo(e,n.toUriEncodedString());le(pm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(le(pm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw so(pm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=mN[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class yN extends pN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Hm();return new Promise((f,m)=>{const p=new aT;p.setWithCredentials(!0),p.listenOnce(oT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const E=p.getResponseJson();le(Yt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),f(E);break;case Jc.TIMEOUT:le(Yt,`RPC '${e}' ${u} timed out`),m(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=p.getStatus();if(le(Yt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let S=p.getResponseJson();Array.isArray(S)&&(S=S[0]);const k=S==null?void 0:S.error;if(k&&k.status&&k.message){const D=function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf($)>=0?$:ne.UNKNOWN}(k.status);m(new me(D,k.message))}else m(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{le(Yt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);le(Yt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Hm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=cT(),m=uT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");le(Yt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=f.createWebChannel(E,p);let S=!1,k=!1;const D=new gN({Fo:z=>{k?le(Yt,`Not sending because RPC '${e}' stream ${o} is closed:`,z):(S||(le(Yt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),S=!0),le(Yt,`RPC '${e}' stream ${o} sending:`,z),A.send(z))},Mo:()=>A.close()}),X=(z,$,re)=>{z.listen($,te=>{try{re(te)}catch(fe){setTimeout(()=>{throw fe},0)}})};return X(A,Pl.EventType.OPEN,()=>{k||(le(Yt,`RPC '${e}' stream ${o} transport opened.`),D.Qo())}),X(A,Pl.EventType.CLOSE,()=>{k||(k=!0,le(Yt,`RPC '${e}' stream ${o} transport closed`),D.Uo())}),X(A,Pl.EventType.ERROR,z=>{k||(k=!0,so(Yt,`RPC '${e}' stream ${o} transport errored:`,z),D.Uo(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),X(A,Pl.EventType.MESSAGE,z=>{var $;if(!k){const re=z.data[0];qe(!!re);const te=re,fe=(te==null?void 0:te.error)||(($=te[0])===null||$===void 0?void 0:$.error);if(fe){le(Yt,`RPC '${e}' stream ${o} received error:`,fe);const ce=fe.status;let we=function(R){const x=_t[R];if(x!==void 0)return qT(x)}(ce),M=fe.message;we===void 0&&(we=ne.INTERNAL,M="Unknown error status: "+ce+" with message "+fe.message),k=!0,D.Uo(new me(we,M)),A.close()}else le(Yt,`RPC '${e}' stream ${o} received:`,re),D.Ko(re)}}),X(m,lT.STAT_EVENT,z=>{z.stat===Nm.PROXY?le(Yt,`RPC '${e}' stream ${o} detected buffering proxy`):z.stat===Nm.NOPROXY&&le(Yt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.$o()},0),D}}function gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(r){return new TD(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="PersistentStream";class rb{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ib(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(Zi(n.toString()),Zi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return le(M0,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(le(M0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _N extends rb{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=SD(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?hi(f.readTime):Ae.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=jm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Vm(p)?{documents:ID(u,p)}:{query:CD(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=KT(u,f.resumeToken);const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=bh(u,f.snapshotVersion.toTimestamp());const g=Um(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=ND(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=jm(this.serializer),n.removeTarget=e,this.I_(n)}}class vN extends rb{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return qe(!!e.streamToken),this.lastStreamToken=e.streamToken,qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=RD(e.writeResults,e.commitTime),s=hi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=jm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>wD(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EN{}class TN extends EN{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.So(e,Lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ne.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class bN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Zi(n),this.N_=!1):le("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class AN{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ea(this)&&(le(Xs,"Restarting streams for network reachability change."),await async function(p){const g=Se(p);g.W_.add(4),await fu(g),g.j_.set("Unknown"),g.W_.delete(4),await Fh(g)}(this))})}),this.j_=new bN(s,o)}}async function Fh(r){if(ea(r))for(const e of r.G_)await e(!0)}async function fu(r){for(const e of r.G_)await e(!1)}function sb(r,e){const n=Se(r);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),xp(n)?Np(n):To(n).c_()&&Dp(n,e))}function Cp(r,e){const n=Se(r),s=To(n);n.K_.delete(e),s.c_()&&ab(n,e),n.K_.size===0&&(s.c_()?s.P_():ea(n)&&n.j_.set("Unknown"))}function Dp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}To(r).y_(e)}function ab(r,e){r.H_.Ne(e),To(r).w_(e)}function Np(r){r.H_=new yD({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),To(r).start(),r.j_.B_()}function xp(r){return ea(r)&&!To(r).u_()&&r.K_.size>0}function ea(r){return Se(r).W_.size===0}function ob(r){r.H_=void 0}async function SN(r){r.j_.set("Online")}async function wN(r){r.K_.forEach((e,n)=>{Dp(r,e)})}async function RN(r,e){ob(r),xp(r)?(r.j_.q_(e),Np(r)):r.j_.set("Unknown")}async function IN(r,e,n){if(r.j_.set("Online"),e instanceof GT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.K_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.K_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){le(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Sh(r,s)}else if(e instanceof ih?r.H_.We(e):e instanceof FT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ae.min()))try{const s=await nb(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Ft.EMPTY_BYTE_STRING,E.snapshotVersion)),ab(u,p);const A=new Ur(E.target,p,g,E.sequenceNumber);Dp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Xs,"Failed to raise snapshot:",s),await Sh(r,s)}}async function Sh(r,e,n){if(!Eo(e))throw e;r.W_.add(1),await fu(r),r.j_.set("Offline"),n||(n=()=>nb(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Xs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Fh(r)})}function lb(r,e){return e().catch(n=>Sh(r,n,e))}async function Gh(r){const e=Se(r),n=Yr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:mp;for(;CN(e);)try{const o=await uN(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,DN(e,o)}catch(o){await Sh(e,o)}ub(e)&&cb(e)}function CN(r){return ea(r)&&r.U_.length<10}function DN(r,e){r.U_.push(e);const n=Yr(r);n.c_()&&n.S_&&n.b_(e.mutations)}function ub(r){return ea(r)&&!Yr(r).u_()&&r.U_.length>0}function cb(r){Yr(r).start()}async function NN(r){Yr(r).C_()}async function xN(r){const e=Yr(r);for(const n of r.U_)e.b_(n.mutations)}async function ON(r,e,n){const s=r.U_.shift(),o=Tp.from(s,e,n);await lb(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Gh(r)}async function MN(r,e){e&&Yr(r).S_&&await async function(s,o){if(function(f){return pD(f)&&f!==ne.ABORTED}(o.code)){const u=s.U_.shift();Yr(s).h_(),await lb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Gh(s)}}(r,e),ub(r)&&cb(r)}async function k0(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),le(Xs,"RemoteStore received new credentials");const s=ea(n);n.W_.add(3),await fu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Fh(n)}async function kN(r,e){const n=Se(r);e?(n.W_.delete(2),await Fh(n)):e||(n.W_.add(2),await fu(n),n.j_.set("Unknown"))}function To(r){return r.J_||(r.J_=function(n,s,o){const u=Se(n);return u.M_(),new _N(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:SN.bind(null,r),No:wN.bind(null,r),Lo:RN.bind(null,r),p_:IN.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),xp(r)?Np(r):r.j_.set("Unknown")):(await r.J_.stop(),ob(r))})),r.J_}function Yr(r){return r.Y_||(r.Y_=function(n,s,o){const u=Se(n);return u.M_(),new vN(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:NN.bind(null,r),Lo:MN.bind(null,r),D_:xN.bind(null,r),v_:ON.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Gh(r)):(await r.Y_.stop(),r.U_.length>0&&(le(Xs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Op(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(r,e){if(Zi("AsyncQueue",`${e}: ${r}`),Eo(r))return new me(ne.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.Z_=new st(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class co{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new co(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class PN{constructor(){this.queries=P0(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Se(n),u=o.queries;o.queries=P0(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function P0(){return new Js(r=>NT(r),Lh)}async function UN(r,e){const n=Se(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new VN,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Mp(f,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&kp(n)}async function LN(r,e){const n=Se(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zN(r,e){const n=Se(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&kp(n)}function jN(r,e,n){const s=Se(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function kp(r){r.ia.forEach(e=>{e.next()})}var qm,U0;(U0=qm||(qm={}))._a="default",U0.Cache="cache";class BN{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new co(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=co.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){this.key=e}}class fb{constructor(e){this.key=e}}class HN{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=xT(e),this.wa=new io(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new V0,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const S=o.get(E),k=zh(this.query,A)?A:null,D=!!S&&this.mutatedKeys.has(S.key),X=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let z=!1;S&&k?S.data.isEqual(k.data)?D!==X&&(s.track({type:3,doc:k}),z=!0):this.va(S,k)||(s.track({type:2,doc:k}),z=!0,(p&&this.ya(k,p)>0||g&&this.ya(k,g)<0)&&(m=!0)):!S&&k?(s.track({type:0,doc:k}),z=!0):S&&!k&&(s.track({type:1,doc:S}),z=!0,(p||g)&&(m=!0)),z&&(k?(f=f.add(k),u=X?u.add(E):u.delete(E)):(f=f.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const E=this.query.limitType==="F"?f.last():f.first();f=f.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((E,A)=>function(k,D){const X=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return X(k)-X(D)}(E.type,A.type)||this.ya(E.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new co(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new V0,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new fb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new hb(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return co.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Vp="SyncEngine";class qN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FN{constructor(e){this.key=e,this.Ba=!1}}class GN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new Js(m=>NT(m),Lh),this.qa=new Map,this.Qa=new Set,this.$a=new st(ge.comparator),this.Ua=new Map,this.Ka=new Sp,this.Wa={},this.Ga=new Map,this.za=uo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function KN(r,e,n=!0){const s=_b(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await db(s,e,n,!0),o}async function QN(r,e){const n=_b(r);await db(n,e,!0,!1)}async function db(r,e,n,s){const o=await cN(r.localStore,ui(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await YN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&sb(r.remoteStore,o),m}async function YN(r,e,n,s,o){r.Ha=(A,S,k)=>async function(X,z,$,re){let te=z.view.ba($);te.ls&&(te=await D0(X.localStore,z.query,!1).then(({documents:M})=>z.view.ba(M,te)));const fe=re&&re.targetChanges.get(z.targetId),ce=re&&re.targetMismatches.get(z.targetId)!=null,we=z.view.applyChanges(te,X.isPrimaryClient,fe,ce);return z0(X,z.targetId,we.Ma),we.snapshot}(r,A,S,k);const u=await D0(r.localStore,e,!0),f=new HN(e,u.gs),m=f.ba(u.documents),p=hu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);z0(r,n,g.Ma);const E=new qN(e,n,f);return r.ka.set(e,E),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function $N(r,e,n){const s=Se(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Lh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Cp(s.remoteStore,o.targetId),Fm(s,o.targetId)}).catch(vo)):(Fm(s,o.targetId),await Bm(s.localStore,o.targetId,!0))}async function XN(r,e){const n=Se(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Cp(n.remoteStore,s.targetId))}async function WN(r,e,n){const s=rx(r);try{const o=await function(f,m){const p=Se(f),g=wt.now(),E=m.reduce((k,D)=>k.add(D.key),ke());let A,S;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let D=Ji(),X=ke();return p.ds.getEntries(k,E).next(z=>{D=z,D.forEach(($,re)=>{re.isValidDocument()||(X=X.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,D)).next(z=>{A=z;const $=[];for(const re of m){const te=cD(re,A.get(re.key).overlayedDocument);te!=null&&$.push(new ts(re.key,te,AT(te.value.mapValue),ci.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,$,m)}).next(z=>{S=z;const $=z.applyToLocalDocumentSet(A,X);return p.documentOverlayCache.saveOverlays(k,z.batchId,$)})}).then(()=>({batchId:S.batchId,changes:MT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new st(Ce)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await du(s,o.changes),await Gh(s.remoteStore)}catch(o){const u=Mp(o,"Failed to persist write");n.reject(u)}}async function mb(r,e){const n=Se(r);try{const s=await oN(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ua.get(u);f&&(qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?qe(f.Ba):o.removedDocuments.size>0&&(qe(f.Ba),f.Ba=!1))}),await du(n,s,e)}catch(s){await vo(s)}}function L0(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const S of A.ta)S.sa(m)&&(g=!0)}),g&&kp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function ZN(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let f=new st(ge.comparator);f=f.insert(u,Xt.newNoDocument(u,Ae.min()));const m=ke().add(u),p=new Hh(Ae.min(),new Map,new st(Ce),f,m);await mb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),Pp(s)}else await Bm(s.localStore,e,!1).then(()=>Fm(s,e,n)).catch(vo)}async function JN(r,e){const n=Se(r),s=e.batch.batchId;try{const o=await aN(n.localStore,e);gb(n,s,null),pb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await du(n,o)}catch(o){await vo(o)}}async function ex(r,e,n){const s=Se(r);try{const o=await function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(qe(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);gb(s,e,n),pb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await du(s,o)}catch(o){await vo(o)}}function pb(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function gb(r,e,n){const s=Se(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||yb(r,s)})}function yb(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Cp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ua.delete(n),Pp(r))}function z0(r,e,n){for(const s of n)s instanceof hb?(r.Ka.addReference(s.key,e),tx(r,s)):s instanceof fb?(le(Vp,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||yb(r,s.key)):Te()}function tx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(le(Vp,"New document in limbo: "+n),r.Qa.add(s),Pp(r))}function Pp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(nt.fromString(e)),s=r.za.next();r.Ua.set(s,new FN(n)),r.$a=r.$a.insert(n,s),sb(r.remoteStore,new Ur(ui(vp(n.path)),s,"TargetPurposeLimboResolution",kh.ae))}}async function du(r,e,n){const s=Se(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Rp.Yi(p.targetId,g);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const E=Se(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>J.forEach(g,S=>J.forEach(S.Hi,k=>E.persistence.referenceDelegate.addReference(A,S.targetId,k)).next(()=>J.forEach(S.Ji,k=>E.persistence.referenceDelegate.removeReference(A,S.targetId,k)))))}catch(A){if(!Eo(A))throw A;le(Ip,"Failed to update sequence numbers: "+A)}for(const A of g){const S=A.targetId;if(!A.fromCache){const k=E.Ts.get(S),D=k.snapshotVersion,X=k.withLastLimboFreeSnapshotVersion(D);E.Ts=E.Ts.insert(S,X)}}}(s.localStore,u))}async function nx(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){le(Vp,"User change. New user:",e.toKey());const s=await tb(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ne.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await du(n,s.Rs)}}function ix(r,e){const n=Se(r),s=n.Ua.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.Sa)}return o}}function _b(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZN.bind(null,e),e.La.p_=zN.bind(null,e.eventManager),e.La.Ja=jN.bind(null,e.eventManager),e}function rx(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=JN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ex.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return sN(this.persistence,new nN,e.initialUser,this.serializer)}Xa(e){return new eb(wp.ri,this.serializer)}Za(e){return new fN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class sx extends wh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){qe(this.persistence.referenceDelegate instanceof Ah);const s=this.persistence.referenceDelegate.garbageCollector;return new BD(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new eb(s=>Ah.ri(s,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>L0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=nx.bind(null,this.syncEngine),await kN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new PN}()}createDatastore(e){const n=qh(e.databaseInfo.databaseId),s=function(u){return new yN(u)}(e.databaseInfo);return function(u,f,m,p){return new TN(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new AN(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>L0(this.syncEngine,n,0),function(){return O0.D()?new O0:new dN}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,E){const A=new GN(o,u,f,m,p,g);return E&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Se(o);le(Xs,"RemoteStore shutting down."),u.W_.add(5),await fu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Zi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r="FirestoreClient";class ox{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=$t.UNAUTHENTICATED,this.clientId=dT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{le($r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(le($r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Mp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ym(r,e){r.asyncQueue.verifyOperationInProgress(),le($r,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await tb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function j0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await lx(r);le($r,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>k0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>k0(e.remoteStore,o)),r._onlineComponents=e}async function lx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le($r,"Using user provided OfflineComponentProvider");try{await ym(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;so("Error using user provided cache. Falling back to memory cache: "+n),await ym(r,new wh)}}else le($r,"Using default OfflineComponentProvider"),await ym(r,new sx(void 0));return r._offlineComponents}async function vb(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le($r,"Using user provided OnlineComponentProvider"),await j0(r,r._uninitializedComponentsProvider._online)):(le($r,"Using default OnlineComponentProvider"),await j0(r,new Gm))),r._onlineComponents}function ux(r){return vb(r).then(e=>e.syncEngine)}async function cx(r){const e=await vb(r),n=e.eventManager;return n.onListen=KN.bind(null,e.syncEngine),n.onUnlisten=$N.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=QN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XN.bind(null,e.syncEngine),n}function hx(r,e,n={}){const s=new Hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const E=new ax({next:S=>{E.su(),f.enqueueAndForget(()=>LN(u,A));const k=S.docs.has(m);!k&&S.fromCache?g.reject(new me(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&S.fromCache&&p&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),A=new BN(vp(m.path),E,{includeMetadataChanges:!0,Ta:!0});return UN(u,A)}(await cx(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(r,e,n){if(!n)throw new me(ne.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function fx(r,e,n,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function H0(r){if(!ge.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function q0(r){if(ge.isDocumentKey(r))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Up(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function Ws(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Up(r);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firestore.googleapis.com",F0=!0;class G0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=bb,this.ssl=F0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:F0;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=JT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<zD)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Eb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new p2;switch(s.type){case"firstParty":return new v2(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=B0.get(n);s&&(le("ComponentProvider","Removing Datastore"),B0.delete(n),s.terminate())}(this),Promise.resolve()}}function dx(r,e,n,s={}){var o;const u=(r=Ws(r,Kh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==bb&&u.host!==m&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Gs(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=$t.MOCK_USER;else{g=DR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new $t(A)}r._authCredentials=new g2(new hT(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Lp(this.firestore,e,this._query)}}class un{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new un(this.firestore,e,this._key)}}class qr extends Lp{constructor(e,n,s){super(e,n,vp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new un(this.firestore,null,new ge(e))}withConverter(e){return new qr(this.firestore,e,this._path)}}function mx(r,e,...n){if(r=kt(r),Tb("collection","path",e),r instanceof Kh){const s=nt.fromString(e,...n);return q0(s),new qr(r,null,s)}{if(!(r instanceof un||r instanceof qr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return q0(s),new qr(r.firestore,null,s)}}function ns(r,e,...n){if(r=kt(r),arguments.length===1&&(e=dT.newId()),Tb("doc","path",e),r instanceof Kh){const s=nt.fromString(e,...n);return H0(s),new un(r,null,new ge(s))}{if(!(r instanceof un||r instanceof qr))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return H0(s),new un(r.firestore,r instanceof qr?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0="AsyncQueue";class Q0{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ib(this,"async_queue_retry"),this.Su=()=>{const s=gm();s&&le(K0,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=gm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=gm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Eo(e))throw e;le(K0,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw Zi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Op.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Qh extends Kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Q0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Q0(e),this._firestoreClient=void 0,await e}}}function px(r,e){const n=typeof r=="object"?r:bE(),s=typeof r=="string"?r:gh,o=ip(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=IR("firestore");u&&dx(o,...u)}return o}function Ab(r){if(r._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||gx(r),r._firestoreClient}function gx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new k2(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Eb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ox(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ho(Ft.fromBase64String(e))}catch(n){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ho(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=/^__.*__$/;class _x{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new cu(e,this.data,n,this.fieldTransforms)}}class Sb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function wb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Hp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Rh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(wb(this.Lu)&&yx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class vx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||qh(e)}ju(e,n,s,o=!1){return new Hp({Lu:e,methodName:n,zu:s,path:qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Rb(r){const e=r._freezeSettings(),n=qh(r._databaseId);return new vx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function Ex(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);qp("Data must be an object, but it was:",f,s);const m=Ib(s,f);let p,g;if(u.merge)p=new vn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const S=Km(e,A,n);if(!f.contains(S))throw new me(ne.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);Db(E,S)||E.push(S)}p=new vn(E),g=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=f.fieldTransforms;return new _x(new ln(m),p,g)}class $h extends zp{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof $h}}function Tx(r,e,n,s){const o=r.ju(1,e,n);qp("Data must be an object, but it was:",o,s);const u=[],f=ln.empty();es(s,(p,g)=>{const E=Fp(e,p,n);g=kt(g);const A=o.Uu(E);if(g instanceof $h)u.push(E);else{const S=Xh(g,A);S!=null&&(u.push(E),f.set(E,S))}});const m=new vn(u);return new Sb(f,m,o.fieldTransforms)}function bx(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Km(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<u.length;S+=2)m.push(Km(e,u[S])),p.push(u[S+1]);const g=[],E=ln.empty();for(let S=m.length-1;S>=0;--S)if(!Db(g,m[S])){const k=m[S];let D=p[S];D=kt(D);const X=f.Uu(k);if(D instanceof $h)g.push(k);else{const z=Xh(D,X);z!=null&&(g.push(k),E.set(k,z))}}const A=new vn(g);return new Sb(E,A,f.fieldTransforms)}function Xh(r,e){if(Cb(r=kt(r)))return qp("Unsupported field value:",e,r),Ib(r,e);if(r instanceof zp)return function(s,o){if(!wb(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Xh(m,o.Ku(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=kt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return rD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=wt.fromDate(s);return{timestampValue:bh(o.serializer,u)}}if(s instanceof wt){const u=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:bh(o.serializer,u)}}if(s instanceof jp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof ho)return{bytesValue:KT(o.serializer,s._byteString)};if(s instanceof un){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bp)return function(f,m){return{mapValue:{fields:{[TT]:{stringValue:bT},[yh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Ep(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Up(s)}`)}(r,e)}function Ib(r,e){const n={};return pT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(r,(s,o)=>{const u=Xh(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Cb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof wt||r instanceof jp||r instanceof ho||r instanceof un||r instanceof zp||r instanceof Bp)}function qp(r,e,n){if(!Cb(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Up(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Km(r,e,n){if((e=kt(e))instanceof Yh)return e._internalPath;if(typeof e=="string")return Fp(r,e);throw Rh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Ax=new RegExp("[~\\*/\\[\\]]");function Fp(r,e,n){if(e.search(Ax)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Yh(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Rh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+r+p)}function Db(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Sx extends Nb{data(){return super.data()}}function xb(r,e){return typeof e=="string"?Fp(r,e):e instanceof Yh?e._internalPath:e._delegate._internalPath}class wx{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[yh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>dt(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new jp(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ph(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Xl(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);qe(ZT(s));const o=new Wl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||Zi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ob extends Nb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Cx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(xb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Cx extends Ob{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r){r=Ws(r,un);const e=Ws(r.firestore,Qh);return hx(Ab(e),r._key).then(n=>Nx(e,r,n))}class Dx extends wx{constructor(e){super(),this.firestore=e}convertBytes(e){return new ho(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new un(this.firestore,null,n)}}function Mb(r,e,n){r=Ws(r,un);const s=Ws(r.firestore,Qh),o=Rx(r.converter,e);return Vb(s,[Ex(Rb(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ci.none())])}function kb(r,e,n,...s){r=Ws(r,un);const o=Ws(r.firestore,Qh),u=Rb(o);let f;return f=typeof(e=kt(e))=="string"||e instanceof Yh?bx(u,"updateDoc",r._key,e,n,s):Tx(u,"updateDoc",r._key,e),Vb(o,[f.toMutation(r._key,ci.exists(!0))])}function Vb(r,e){return function(s,o){const u=new Hr;return s.asyncQueue.enqueueAndForget(async()=>WN(await ux(s),o,u)),u.promise}(Ab(r),e)}function Nx(r,e,n){const s=n.docs.get(e._key),o=new Dx(r);return new Ob(r,o,e._key,s,new Ix(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){_o=o})(po),ro(new Ks("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Qh(new y2(s.getProvider("auth-internal")),new E2(f,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(g.options.projectId,E)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jr(Jv,e0,e),jr(Jv,e0,"esm2017")})();var xx="firebase",Ox="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(xx,Ox,"app");const Mx={apiKey:"AIzaSyCokHWur389mPNtqhX2ASGku6wYrOYmyto",authDomain:"togethr-4c885.firebaseapp.com",projectId:"togethr-4c885",storageBucket:"togethr-4c885.firebasestorage.app",messagingSenderId:"365466488270",appId:`1:365466488270:web:3d47582f2c917b86ae2f9f
`},Pb=TE(Mx),is=px(Pb);yo(Pb);new Fi;const kx=async(r,e,n)=>{const s=yo();try{const u=(await WI(s,r,e)).user,f={uid:u.uid,email:u.email,name:n,bio:" ",profession:"",photoURL:""};return await Mb(ns(is,"users",u.uid),f),f}catch(o){throw console.error("Sign up error:",o.message),o}},Vx=async(r,e)=>{const n=yo();try{const o=(await ZI(n,r,e)).user,u=ns(is,"users",o.uid),f=await Gp(u);return f.exists()?f.data():null}catch(s){throw console.error("Login error:",s.message),s}},Px=async()=>{const r=yo();await nC(r)},Ux=async r=>{const n=yo().currentUser;n&&(await iC(n),await deleteDoc(ns(is,"users",r)))};//! login with redirect
let Lx={data:""},zx=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||Lx,jx=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Bx=/\/\*[^]*?\*\/|  +/g,Y0=/\n+/g,Pr=(r,e)=>{let n="",s="",o="";for(let u in r){let f=r[u];u[0]=="@"?u[1]=="i"?n=u+" "+f+";":s+=u[1]=="f"?Pr(f,u):u+"{"+Pr(f,u[1]=="k"?"":e)+"}":typeof f=="object"?s+=Pr(f,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):f!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Pr.p?Pr.p(u,f):u+":"+f+";")}return n+(e&&o?e+"{"+o+"}":o)+s},Hi={},Ub=r=>{if(typeof r=="object"){let e="";for(let n in r)e+=n+Ub(r[n]);return e}return r},Hx=(r,e,n,s,o)=>{let u=Ub(r),f=Hi[u]||(Hi[u]=(p=>{let g=0,E=11;for(;g<p.length;)E=101*E+p.charCodeAt(g++)>>>0;return"go"+E})(u));if(!Hi[f]){let p=u!==r?r:(g=>{let E,A,S=[{}];for(;E=jx.exec(g.replace(Bx,""));)E[4]?S.shift():E[3]?(A=E[3].replace(Y0," ").trim(),S.unshift(S[0][A]=S[0][A]||{})):S[0][E[1]]=E[2].replace(Y0," ").trim();return S[0]})(r);Hi[f]=Pr(o?{["@keyframes "+f]:p}:p,n?"":"."+f)}let m=n&&Hi.g?Hi.g:null;return n&&(Hi.g=Hi[f]),((p,g,E,A)=>{A?g.data=g.data.replace(A,p):g.data.indexOf(p)===-1&&(g.data=E?p+g.data:g.data+p)})(Hi[f],e,s,m),f},qx=(r,e,n)=>r.reduce((s,o,u)=>{let f=e[u];if(f&&f.call){let m=f(n),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;f=p?"."+p:m&&typeof m=="object"?m.props?"":Pr(m,""):m===!1?"":m}return s+o+(f??"")},"");function Wh(r){let e=this||{},n=r.call?r(e.p):r;return Hx(n.unshift?n.raw?qx(n,[].slice.call(arguments,1),e.p):n.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):n,zx(e.target),e.g,e.o,e.k)}let Lb,Qm,Ym;Wh.bind({g:1});let er=Wh.bind({k:1});function Fx(r,e,n,s){Pr.p=e,Lb=r,Qm=n,Ym=s}function rs(r,e){let n=this||{};return function(){let s=arguments;function o(u,f){let m=Object.assign({},u),p=m.className||o.className;n.p=Object.assign({theme:Qm&&Qm()},m),n.o=/ *go\d+/.test(p),m.className=Wh.apply(n,s)+(p?" "+p:"");let g=r;return r[0]&&(g=m.as||r,delete m.as),Ym&&g[0]&&Ym(m),Lb(g,m)}return o}}var Gx=r=>typeof r=="function",Ih=(r,e)=>Gx(r)?r(e):r,Kx=(()=>{let r=0;return()=>(++r).toString()})(),zb=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),Qx=20,jb=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,Qx)};case 1:return{...r,toasts:r.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:n}=e;return jb(r,{type:r.toasts.find(u=>u.id===n.id)?1:0,toast:n});case 3:let{toastId:s}=e;return{...r,toasts:r.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},rh=[],Fs={toasts:[],pausedAt:void 0},ta=r=>{Fs=jb(Fs,r),rh.forEach(e=>{e(Fs)})},Yx={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},$x=(r={})=>{let[e,n]=H.useState(Fs),s=H.useRef(Fs);H.useEffect(()=>(s.current!==Fs&&n(Fs),rh.push(n),()=>{let u=rh.indexOf(n);u>-1&&rh.splice(u,1)}),[]);let o=e.toasts.map(u=>{var f,m,p;return{...r,...r[u.type],...u,removeDelay:u.removeDelay||((f=r[u.type])==null?void 0:f.removeDelay)||(r==null?void 0:r.removeDelay),duration:u.duration||((m=r[u.type])==null?void 0:m.duration)||(r==null?void 0:r.duration)||Yx[u.type],style:{...r.style,...(p=r[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},Xx=(r,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...n,id:(n==null?void 0:n.id)||Kx()}),mu=r=>(e,n)=>{let s=Xx(e,r,n);return ta({type:2,toast:s}),s.id},nn=(r,e)=>mu("blank")(r,e);nn.error=mu("error");nn.success=mu("success");nn.loading=mu("loading");nn.custom=mu("custom");nn.dismiss=r=>{ta({type:3,toastId:r})};nn.remove=r=>ta({type:4,toastId:r});nn.promise=(r,e,n)=>{let s=nn.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let u=e.success?Ih(e.success,o):void 0;return u?nn.success(u,{id:s,...n,...n==null?void 0:n.success}):nn.dismiss(s),o}).catch(o=>{let u=e.error?Ih(e.error,o):void 0;u?nn.error(u,{id:s,...n,...n==null?void 0:n.error}):nn.dismiss(s)}),r};var Wx=(r,e)=>{ta({type:1,toast:{id:r,height:e}})},Zx=()=>{ta({type:5,time:Date.now()})},Fl=new Map,Jx=1e3,eO=(r,e=Jx)=>{if(Fl.has(r))return;let n=setTimeout(()=>{Fl.delete(r),ta({type:4,toastId:r})},e);Fl.set(r,n)},tO=r=>{let{toasts:e,pausedAt:n}=$x(r);H.useEffect(()=>{if(n)return;let u=Date.now(),f=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&nn.dismiss(m.id);return}return setTimeout(()=>nn.dismiss(m.id),p)});return()=>{f.forEach(m=>m&&clearTimeout(m))}},[e,n]);let s=H.useCallback(()=>{n&&ta({type:6,time:Date.now()})},[n]),o=H.useCallback((u,f)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=f||{},E=e.filter(k=>(k.position||g)===(u.position||g)&&k.height),A=E.findIndex(k=>k.id===u.id),S=E.filter((k,D)=>D<A&&k.visible).length;return E.filter(k=>k.visible).slice(...m?[S+1]:[0,S]).reduce((k,D)=>k+(D.height||0)+p,0)},[e]);return H.useEffect(()=>{e.forEach(u=>{if(u.dismissed)eO(u.id,u.removeDelay);else{let f=Fl.get(u.id);f&&(clearTimeout(f),Fl.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:Wx,startPause:Zx,endPause:s,calculateOffset:o}}},nO=er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,iO=er`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,rO=er`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,sO=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${nO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${iO} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${rO} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,aO=er`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,oO=rs("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${aO} 1s linear infinite;
`,lO=er`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,uO=er`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,cO=rs("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${lO} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${uO} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,hO=rs("div")`
  position: absolute;
`,fO=rs("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dO=er`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,mO=rs("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dO} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,pO=({toast:r})=>{let{icon:e,type:n,iconTheme:s}=r;return e!==void 0?typeof e=="string"?H.createElement(mO,null,e):e:n==="blank"?null:H.createElement(fO,null,H.createElement(oO,{...s}),n!=="loading"&&H.createElement(hO,null,n==="error"?H.createElement(sO,{...s}):H.createElement(cO,{...s})))},gO=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,yO=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,_O="0%{opacity:0;} 100%{opacity:1;}",vO="0%{opacity:1;} 100%{opacity:0;}",EO=rs("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,TO=rs("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bO=(r,e)=>{let n=r.includes("top")?1:-1,[s,o]=zb()?[_O,vO]:[gO(n),yO(n)];return{animation:e?`${er(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${er(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},AO=H.memo(({toast:r,position:e,style:n,children:s})=>{let o=r.height?bO(r.position||e||"top-center",r.visible):{opacity:0},u=H.createElement(pO,{toast:r}),f=H.createElement(TO,{...r.ariaProps},Ih(r.message,r));return H.createElement(EO,{className:r.className,style:{...o,...n,...r.style}},typeof s=="function"?s({icon:u,message:f}):H.createElement(H.Fragment,null,u,f))});Fx(H.createElement);var SO=({id:r,className:e,style:n,onHeightUpdate:s,children:o})=>{let u=H.useCallback(f=>{if(f){let m=()=>{let p=f.getBoundingClientRect().height;s(r,p)};m(),new MutationObserver(m).observe(f,{subtree:!0,childList:!0,characterData:!0})}},[r,s]);return H.createElement("div",{ref:u,className:e,style:n},o)},wO=(r,e)=>{let n=r.includes("top"),s=n?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:zb()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...s,...o}},RO=Wh`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Kc=16,IO=({reverseOrder:r,position:e="top-center",toastOptions:n,gutter:s,children:o,containerStyle:u,containerClassName:f})=>{let{toasts:m,handlers:p}=tO(n);return H.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Kc,left:Kc,right:Kc,bottom:Kc,pointerEvents:"none",...u},className:f,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let E=g.position||e,A=p.calculateOffset(g,{reverseOrder:r,gutter:s,defaultPosition:e}),S=wO(E,A);return H.createElement(SO,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?RO:"",style:S},g.type==="custom"?Ih(g.message,g):o?o(g):H.createElement(AO,{toast:g,position:E}))}))},qi=nn;const CO="/Togethr/assets/avatar-CC0QuunI.png",DO=()=>{const r=kn(D=>D.user),e=kn(D=>D.updateUser),n=kn(D=>D.setUser),{authLoading:s}=kn(),[o,u]=H.useState(!1),[f,m]=H.useState({name:"",bio:"",profession:""}),[p,g]=H.useState({email:"",password:"",name:""});//!result handeling with redirect
H.useEffect(()=>{r&&m({name:r.name||"",bio:r.bio||"",profession:r.profession||""})},[r]);const E=D=>{m(X=>({...X,[D.target.name]:D.target.value}))},A=async()=>{try{const D=await Vx(p.email,p.password);D?(n(D),qi.success("Logged in!")):qi.error("No account found. Please sign up.")}catch(D){qi.error(D.message)}},S=async()=>{try{const D=await kx(p.email,p.password,p.name);n(D),qi.success("Account created and logged in.")}catch(D){D.code==="auth/email-already-in-use"?qi.error("Acc already exists . Try logging in."):qi.error(D.message)}},k=async()=>{if(!r){qi.error("Login first to edit profile");return}try{const D=ns(is,"users",r.uid);await kb(D,f),e(f),u(!1),qi.success("Profile updated")}catch(D){console.error(D),qi.error("Failed to update profile")}};return s?K.jsx("div",{className:"text-center mt-10",children:K.jsx("div",{className:"spinner mx-auto"})}):r===null?K.jsxs("div",{className:"text-center mt-10 space-y-4",children:[K.jsx("h2",{children:"Please log in to view and edit your profile."}),K.jsx("input",{type:"email",name:"email",placeholder:"Email",value:p.email,onChange:D=>g({...p,email:D.target.value}),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),K.jsx("input",{type:"password",name:"password",placeholder:"Password",value:p.password,onChange:D=>g({...p,password:D.target.value}),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),K.jsx("input",{type:"text",name:"name",placeholder:"Name (for sign up)",value:p.name,onChange:D=>g({...p,name:D.target.value}),className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"}),K.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[K.jsx("button",{onClick:A,className:"bg-blue-600 text-white px-5 py-2 rounded-lg",children:"Login"}),K.jsx("button",{onClick:S,className:"bg-green-600 text-white px-5 py-2 rounded-lg",children:"Sign Up"})]})]}):K.jsx("div",{className:"max-w-xl mx-auto mt-10 bg-white dark:bg-zinc-800 p-6 rounded-xl shadow-md",children:K.jsxs("div",{className:"space-y-4",children:[K.jsx("div",{className:"flex justify-center",children:K.jsx("img",{src:r.photoURL||CO,alt:"Profile",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-300"})}),K.jsxs("div",{className:"flex justify-between items-center",children:[K.jsx("h2",{className:"text-2xl font-bold",children:"Your Profile"}),!o&&K.jsx("button",{onClick:()=>u(!0),className:"text-sm text-blue-600 hover:underline",children:"Edit"})]}),K.jsxs("div",{className:"space-y-2",children:[K.jsx("label",{className:"block text-sm font-medium",children:"Name"}),K.jsx("input",{name:"name",value:f.name,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),K.jsxs("div",{className:"space-y-2",children:[K.jsx("label",{className:"block text-sm font-medium",children:"Bio"}),K.jsx("textarea",{name:"bio",value:f.bio,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),K.jsxs("div",{className:"space-y-2",children:[K.jsx("label",{className:"block text-sm font-medium",children:"Profession"}),K.jsx("input",{name:"profession",value:f.profession,onChange:E,disabled:!o,className:"w-full p-2 border rounded-md dark:bg-zinc-700 dark:text-white"})]}),o&&K.jsxs("div",{className:"flex gap-4 mt-4",children:[K.jsx("button",{onClick:k,className:"bg-green-600 text-white px-4 py-2 rounded-md",children:"Save"}),K.jsx("button",{onClick:()=>{u(!1),m({name:r.name||"",bio:r.bio||"",profession:r.profession||""})},className:"bg-gray-400 text-white px-4 py-2 rounded-md",children:"Cancel"})]}),K.jsx("hr",{className:"my-6"}),K.jsxs("div",{className:"flex justify-between",children:[K.jsx("button",{onClick:Px,className:"bg-red-600 text-white px-4 py-2 rounded-md",children:"Logout"}),K.jsx("button",{onClick:()=>Ux(r.uid),className:"bg-red-900 text-white px-4 py-2 rounded-md",children:"Delete Account"})]})]})})},NO=()=>K.jsx("div",{children:"ChatPage"}),xO=()=>{const r=yo(),e=kn.getState().setUser,n=kn.getState().clearUser,s=kn.getState().setAuthLoading;return tC(r,async o=>{if(!o){n(),s(!1);return}const u=ns(is,"users",o.uid),f=await Gp(u);f.exists()?e({uid:o.uid,...f.data()}):(console.warn("User logged in but no Firestore data found."),n()),s(!1)})},Bt=[];for(let r=0;r<256;++r)Bt.push((r+256).toString(16).slice(1));function OO(r,e=0){return(Bt[r[e+0]]+Bt[r[e+1]]+Bt[r[e+2]]+Bt[r[e+3]]+"-"+Bt[r[e+4]]+Bt[r[e+5]]+"-"+Bt[r[e+6]]+Bt[r[e+7]]+"-"+Bt[r[e+8]]+Bt[r[e+9]]+"-"+Bt[r[e+10]]+Bt[r[e+11]]+Bt[r[e+12]]+Bt[r[e+13]]+Bt[r[e+14]]+Bt[r[e+15]]).toLowerCase()}let _m;const MO=new Uint8Array(16);function kO(){if(!_m){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");_m=crypto.getRandomValues.bind(crypto)}return _m(MO)}const VO=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$0={randomUUID:VO};function PO(r,e,n){var o;if($0.randomUUID&&!r)return $0.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??kO();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,OO(s)}const UO=async(r,e,n)=>{const s=PO().split("-")[0],o=ns(mx(is,"teams")),u={name:r,bio:e,inviteCode:s,members:[n]};return await Mb(o,u),{id:o.id,...u}},LO=async r=>{const e=ns(is,"teams",r),n=await Gp(e);return n.exists()?{id:n.id,...n.data()}:null},zO=async(r,e)=>{const n=ns(is,"users",r);await kb(n,e)},jO=()=>{var X;const r=kn(z=>z.user),e=kn(z=>z.updateUser),[n,s]=H.useState([]),[o,u]=H.useState(!1),[f,m]=H.useState(!1),[p,g]=H.useState({name:"",bio:""}),[E,A]=H.useState(""),{authLoading:S}=kn(),k=kn(z=>z.setAuthLoading);H.useEffect(()=>{(async()=>{var $;if(($=r==null?void 0:r.teamIds)!=null&&$.length){const re=await Promise.all(r.teamIds.map(te=>LO(te)));s(re.filter(Boolean))}k(!1)})()},[r]);const D=async()=>{if(console.log("one"),!p.name||!p.bio||!r.uid)return;console.log("two");const z=await UO(p.name,p.bio,r.uid);console.log("three");const $=[...r.teamIds||[],z.id];await zO(r.uid,{teamIds:$}),console.log("four before"),e({teamIds:$}),console.log("four"),s(re=>[...re,z]),console.log("five"),u(!1),g({name:"",bio:""})};return S?K.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 space-y-6",children:[K.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teams"}),!((X=r==null?void 0:r.teamIds)!=null&&X.length)&&K.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[K.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-blue-500 transition",onClick:()=>u(!0),children:[K.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create a Team"}),K.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Start a new team with a name and bio."})]}),K.jsxs("div",{onClick:()=>m(!0),className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-green-500 transition",children:[K.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Join a Team"}),K.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Enter an invite code to join an existing team."})]})]}),K.jsx("div",{className:"text-center mt-10",children:K.jsx("div",{className:"spinner mx-auto"})})]}):K.jsxs("div",{className:"max-w-4xl mx-auto p-6 mt-10 space-y-6",children:[K.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Teams"}),!(r!=null&&r.teamId)&&K.jsxs("div",{className:"grid sm:grid-cols-2 gap-6",children:[K.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-blue-500 transition",onClick:()=>u(!0),children:[K.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Create a Team"}),K.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Start a new team with a name and bio."})]}),K.jsxs("div",{onClick:()=>m(!0),className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md cursor-pointer hover:ring-2 ring-green-500 transition",children:[K.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Join a Team"}),K.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300",children:"Enter an invite code to join an existing team."})]})]}),n&&n.map(z=>K.jsxs("div",{className:"bg-white dark:bg-zinc-800 rounded-xl p-6 shadow-md",children:[K.jsx("h2",{className:"text-xl font-bold mb-1",children:z.name}),K.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-300 mb-2",children:z.bio}),K.jsxs("p",{className:"text-xs text-gray-400",children:["Invite Code: ",K.jsx("code",{children:z.inviteCode})]})]},z.id)),o&&K.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:K.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[K.jsx("h2",{className:"text-xl font-bold mb-4",children:"Create Team"}),K.jsx("input",{type:"text",placeholder:"Team Name",value:p.name,onChange:z=>g({...p,name:z.target.value}),className:"w-full p-2 mb-2 border rounded dark:bg-zinc-700 dark:text-white"}),K.jsx("textarea",{placeholder:"Team Bio",value:p.bio,onChange:z=>g({...p,bio:z.target.value}),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),K.jsxs("div",{className:"flex justify-end gap-2",children:[K.jsx("button",{onClick:()=>{u(!1),g({name:"",bio:""})},className:"px-4 py-2 text-sm",children:"Cancel"}),K.jsx("button",{className:"bg-blue-600 text-white px-4 py-2 rounded",onClick:()=>{D()},children:"Create"})]})]})}),f&&K.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50",children:K.jsxs("div",{className:"bg-white dark:bg-zinc-800 p-6 rounded-lg shadow-lg w-full max-w-md",children:[K.jsx("h2",{className:"text-xl font-bold mb-4",children:"Join Team"}),K.jsx("input",{type:"text",placeholder:"Invite Code",value:E,onChange:z=>A(z.target.value),className:"w-full p-2 mb-4 border rounded dark:bg-zinc-700 dark:text-white"}),K.jsxs("div",{className:"flex justify-end gap-2",children:[K.jsx("button",{onClick:()=>{m(!1),A("")},className:"px-4 py-2 text-sm",children:"Cancel"}),K.jsx("button",{className:"bg-green-600 text-white px-4 py-2 rounded",children:"Join"})]})]})})]})},BO=()=>(H.useEffect(()=>{const r=xO();return console.log("Auth listener mounted"),()=>r()},[]),K.jsxs("div",{className:"flex flex-col md:flex-row h-screen overflow-hidden bg-white dark:bg-zinc-900 transition-colors duration-300",children:[K.jsx(IO,{position:"top-center",toastOptions:{style:{background:"#333",color:"#fff"},success:{iconTheme:{primary:"green",secondary:"white"}}}}),K.jsx(fR,{}),K.jsx("div",{className:"flex-grow p-4 md:p-6 overflow-y-auto text-gray-900 dark:text-gray-100",children:K.jsxs(fw,{children:[K.jsx(Ya,{path:"/",element:K.jsx(dR,{})}),K.jsx(Ya,{path:"/TasksBoard",element:K.jsx(_R,{})}),K.jsx(Ya,{path:"/Profile",element:K.jsx(DO,{})}),K.jsx(Ya,{path:"/ChatPage",element:K.jsx(NO,{})}),K.jsx(Ya,{path:"/Teams",element:K.jsx(jO,{})})]})})]}));TS.createRoot(document.getElementById("root")).render(K.jsx(Pw,{basename:"/Togethr",children:K.jsx(H.StrictMode,{children:K.jsx(BO,{})})}));
